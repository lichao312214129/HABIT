
import base64
exec(base64.b64decode(b'IiIiDQpMb2dnaW5nIHV0aWxpdHkgbW9kdWxlIGZvciBIQUJJVCBwcm9qZWN0Lg0KVGhpcyBtb2R1bGUgcHJvdmlkZXMgY2VudHJhbGl6ZWQgbG9nZ2luZyBjb25maWd1cmF0aW9uIGFuZCB1dGlsaXRpZXMuDQoiIiINCg0KaW1wb3J0IGxvZ2dpbmcNCmltcG9ydCBvcw0KZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUNCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aA0KDQpkZWYgc2V0dXBfbG9nZ2VyKG5hbWU6IHN0ciwgbG9nX2Rpcjogc3RyID0gTm9uZSwgbGV2ZWw6IGludCA9IGxvZ2dpbmcuSU5GTykgLT4gbG9nZ2luZy5Mb2dnZXI6DQogICAgIiIiDQogICAgU2V0IHVwIGFuZCBjb25maWd1cmUgYSBsb2dnZXIgaW5zdGFuY2UuDQogICAgDQogICAgQXJnczoNCiAgICAgICAgbmFtZSAoc3RyKTogTmFtZSBvZiB0aGUgbG9nZ2VyDQogICAgICAgIGxvZ19kaXIgKHN0ciwgb3B0aW9uYWwpOiBEaXJlY3RvcnkgdG8gc3RvcmUgbG9nIGZpbGVzLiBJZiBOb25lLCBsb2dzIHdpbGwgb25seSBiZSBwcmludGVkIHRvIGNvbnNvbGUNCiAgICAgICAgbGV2ZWwgKGludCwgb3B0aW9uYWwpOiBMb2dnaW5nIGxldmVsLiBEZWZhdWx0cyB0byBsb2dnaW5nLklORk8NCiAgICAgICAgDQogICAgUmV0dXJuczoNCiAgICAgICAgbG9nZ2luZy5Mb2dnZXI6IENvbmZpZ3VyZWQgbG9nZ2VyIGluc3RhbmNlDQogICAgIiIiDQogICAgIyBDcmVhdGUgbG9nZ2VyDQogICAgbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIobmFtZSkNCiAgICBsb2dnZXIuc2V0TGV2ZWwobGV2ZWwpDQogICAgDQogICAgIyBDbGVhciBhbnkgZXhpc3RpbmcgaGFuZGxlcnMNCiAgICBpZiBsb2dnZXIuaGFuZGxlcnM6DQogICAgICAgIGxvZ2dlci5oYW5kbGVycy5jbGVhcigpDQogICAgDQogICAgIyBDcmVhdGUgZm9ybWF0dGVycw0KICAgIGNvbnNvbGVfZm9ybWF0dGVyID0gbG9nZ2luZy5Gb3JtYXR0ZXIoDQogICAgICAgICclKGFzY3RpbWUpcyAtICUobmFtZSlzIC0gJShsZXZlbG5hbWUpcyAtICUobWVzc2FnZSlzJywNCiAgICAgICAgZGF0ZWZtdD0nJVktJW0tJWQgJUg6JU06JVMnDQogICAgKQ0KICAgIA0KICAgIGZpbGVfZm9ybWF0dGVyID0gbG9nZ2luZy5Gb3JtYXR0ZXIoDQogICAgICAgICclKGFzY3RpbWUpcyAtICUobmFtZSlzIC0gJShsZXZlbG5hbWUpcyAtICUoZmlsZW5hbWUpczolKGxpbmVubylkIC0gJShtZXNzYWdlKXMnLA0KICAgICAgICBkYXRlZm10PSclWS0lbS0lZCAlSDolTTolUycNCiAgICApDQogICAgDQogICAgIyBDb25zb2xlIGhhbmRsZXINCiAgICBjb25zb2xlX2hhbmRsZXIgPSBsb2dnaW5nLlN0cmVhbUhhbmRsZXIoKQ0KICAgIGNvbnNvbGVfaGFuZGxlci5zZXRGb3JtYXR0ZXIoY29uc29sZV9mb3JtYXR0ZXIpDQogICAgbG9nZ2VyLmFkZEhhbmRsZXIoY29uc29sZV9oYW5kbGVyKQ0KICAgIA0KICAgICMgRmlsZSBoYW5kbGVyIChpZiBsb2dfZGlyIGlzIHByb3ZpZGVkKQ0KICAgIGlmIGxvZ19kaXI6DQogICAgICAgICMgQ3JlYXRlIGxvZyBkaXJlY3RvcnkgaWYgaXQgZG9lc24ndCBleGlzdA0KICAgICAgICBsb2dfcGF0aCA9IFBhdGgobG9nX2RpcikNCiAgICAgICAgbG9nX3BhdGgubWtkaXIocGFyZW50cz1UcnVlLCBleGlzdF9vaz1UcnVlKQ0KICAgICAgICANCiAgICAgICAgIyBDcmVhdGUgbG9nIGZpbGUgd2l0aCB0aW1lc3RhbXANCiAgICAgICAgdGltZXN0YW1wID0gZGF0ZXRpbWUubm93KCkuc3RyZnRpbWUoJyVZJW0lZF8lSCVNJVMnKQ0KICAgICAgICBsb2dfZmlsZSA9IGxvZ19wYXRoIC8gZiJ7bmFtZX1fe3RpbWVzdGFtcH0ubG9nIg0KICAgICAgICANCiAgICAgICAgZmlsZV9oYW5kbGVyID0gbG9nZ2luZy5GaWxlSGFuZGxlcihsb2dfZmlsZSwgZW5jb2Rpbmc9J3V0Zi04JykNCiAgICAgICAgZmlsZV9oYW5kbGVyLnNldEZvcm1hdHRlcihmaWxlX2Zvcm1hdHRlcikNCiAgICAgICAgbG9nZ2VyLmFkZEhhbmRsZXIoZmlsZV9oYW5kbGVyKQ0KICAgIA0KICAgIHJldHVybiBsb2dnZXIg').decode())
