
import base64
exec(base64.b64decode(b'IiIiDQpSYW5kb20gRm9yZXN0IE1vZGVsDQoNCkltcGxlbWVudGF0aW9uIG9mIFJhbmRvbSBGb3Jlc3QgY2xhc3NpZmllcg0KIiIiDQpmcm9tIHNrbGVhcm4uZW5zZW1ibGUgaW1wb3J0IFJhbmRvbUZvcmVzdENsYXNzaWZpZXINCmZyb20gdHlwaW5nIGltcG9ydCBEaWN0LCBBbnksIE9wdGlvbmFsLCBVbmlvbiwgTGlzdA0KaW1wb3J0IG51bXB5IGFzIG5wDQppbXBvcnQgcGFuZGFzIGFzIHBkDQpmcm9tIC5iYXNlIGltcG9ydCBCYXNlTW9kZWwNCmZyb20gLmZhY3RvcnkgaW1wb3J0IE1vZGVsRmFjdG9yeQ0KDQpATW9kZWxGYWN0b3J5LnJlZ2lzdGVyKCdSYW5kb21Gb3Jlc3QnKQ0KY2xhc3MgUmFuZG9tRm9yZXN0TW9kZWwoQmFzZU1vZGVsKToNCiAgICAiIiINCiAgICBSYW5kb20gRm9yZXN0IE1vZGVsIGltcGxlbWVudGF0aW9uDQogICAgDQogICAgVGhpcyBjbGFzcyBpbXBsZW1lbnRzIGEgUmFuZG9tIEZvcmVzdCBjbGFzc2lmaWVyIHdpdGggY29uZmlndXJhYmxlIHBhcmFtZXRlcnMNCiAgICAiIiINCiAgICANCiAgICBkZWYgX19pbml0X18oc2VsZiwgY29uZmlnOiBEaWN0W3N0ciwgQW55XSA9IE5vbmUpOg0KICAgICAgICAiIiINCiAgICAgICAgSW5pdGlhbGl6ZSBSYW5kb20gRm9yZXN0IG1vZGVsDQogICAgICAgIA0KICAgICAgICBBcmdzOg0KICAgICAgICAgICAgY29uZmlnOiBDb25maWd1cmF0aW9uIGRpY3Rpb25hcnkgY29udGFpbmluZyBtb2RlbCBwYXJhbWV0ZXJzDQogICAgICAgICIiIg0KICAgICAgICBzdXBlcigpLl9faW5pdF9fKGNvbmZpZykNCiAgICAgICAgc2VsZi5tb2RlbCA9IHNlbGYuX2NyZWF0ZV9tb2RlbCgpDQogICAgDQogICAgZGVmIF9jcmVhdGVfbW9kZWwoc2VsZikgLT4gUmFuZG9tRm9yZXN0Q2xhc3NpZmllcjoNCiAgICAgICAgIiIiDQogICAgICAgIENyZWF0ZSBhbmQgY29uZmlndXJlIHRoZSBSYW5kb20gRm9yZXN0IG1vZGVsDQogICAgICAgIA0KICAgICAgICBSZXR1cm5zOg0KICAgICAgICAgICAgUmFuZG9tRm9yZXN0Q2xhc3NpZmllcjogQ29uZmlndXJlZCBtb2RlbCBpbnN0YW5jZQ0KICAgICAgICAiIiINCiAgICAgICAgIyBHZXQgcGFyYW1ldGVycyBmcm9tIGNvbmZpZyBvciB1c2UgZGVmYXVsdHMNCiAgICAgICAgcGFyYW1zID0gew0KICAgICAgICAgICAgJ25fZXN0aW1hdG9ycyc6IHNlbGYuY29uZmlnLmdldCgnbl9lc3RpbWF0b3JzJywgMTAwKSwNCiAgICAgICAgICAgICdtYXhfZGVwdGgnOiBzZWxmLmNvbmZpZy5nZXQoJ21heF9kZXB0aCcsIE5vbmUpLA0KICAgICAgICAgICAgJ21pbl9zYW1wbGVzX3NwbGl0Jzogc2VsZi5jb25maWcuZ2V0KCdtaW5fc2FtcGxlc19zcGxpdCcsIDIpLA0KICAgICAgICAgICAgJ21pbl9zYW1wbGVzX2xlYWYnOiBzZWxmLmNvbmZpZy5nZXQoJ21pbl9zYW1wbGVzX2xlYWYnLCAxKSwNCiAgICAgICAgICAgICdtYXhfZmVhdHVyZXMnOiBzZWxmLmNvbmZpZy5nZXQoJ21heF9mZWF0dXJlcycsICdzcXJ0JyksDQogICAgICAgICAgICAnYm9vdHN0cmFwJzogc2VsZi5jb25maWcuZ2V0KCdib290c3RyYXAnLCBUcnVlKSwNCiAgICAgICAgICAgICdjbGFzc193ZWlnaHQnOiBzZWxmLmNvbmZpZy5nZXQoJ2NsYXNzX3dlaWdodCcsIE5vbmUpLA0KICAgICAgICAgICAgJ3JhbmRvbV9zdGF0ZSc6IHNlbGYuY29uZmlnLmdldCgncmFuZG9tX3N0YXRlJywgNDIpDQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgICMgQWRkIGFueSBhZGRpdGlvbmFsIHBhcmFtZXRlcnMgZnJvbSBjb25maWcNCiAgICAgICAgcGFyYW1zLnVwZGF0ZSh7azogdiBmb3IgaywgdiBpbiBzZWxmLmNvbmZpZy5pdGVtcygpIA0KICAgICAgICAgICAgICAgICAgICAgIGlmIGsgbm90IGluIHBhcmFtcyBhbmQgbm90IGsuc3RhcnRzd2l0aCgnXycpfSkNCiAgICAgICAgDQogICAgICAgIHJldHVybiBSYW5kb21Gb3Jlc3RDbGFzc2lmaWVyKCoqcGFyYW1zKQ0KICAgIA0KICAgIGRlZiBmaXQoc2VsZiwgWDogVW5pb25bcGQuRGF0YUZyYW1lLCBucC5uZGFycmF5XSwgDQogICAgICAgICAgICB5OiBVbmlvbltwZC5TZXJpZXMsIG5wLm5kYXJyYXldKSAtPiBOb25lOg0KICAgICAgICAiIiINCiAgICAgICAgVHJhaW4gdGhlIG1vZGVsDQogICAgICAgIA0KICAgICAgICBBcmdzOg0KICAgICAgICAgICAgWDogVHJhaW5pbmcgZmVhdHVyZXMNCiAgICAgICAgICAgIHk6IFRyYWluaW5nIGxhYmVscw0KICAgICAgICAiIiINCiAgICAgICAgaWYgaXNpbnN0YW5jZShYLCBwZC5EYXRhRnJhbWUpOg0KICAgICAgICAgICAgc2VsZi5mZWF0dXJlX25hbWVzID0gWC5jb2x1bW5zLnRvbGlzdCgpDQogICAgICAgICAgICBYID0gWC52YWx1ZXMNCiAgICAgICAgc2VsZi5tb2RlbC5maXQoWCwgeSkNCiAgICANCiAgICBkZWYgcHJlZGljdChzZWxmLCBYOiBVbmlvbltwZC5EYXRhRnJhbWUsIG5wLm5kYXJyYXldKSAtPiBucC5uZGFycmF5Og0KICAgICAgICAiIiINCiAgICAgICAgTWFrZSBwcmVkaWN0aW9ucw0KICAgICAgICANCiAgICAgICAgQXJnczoNCiAgICAgICAgICAgIFg6IEZlYXR1cmVzDQogICAgICAgICAgICANCiAgICAgICAgUmV0dXJuczoNCiAgICAgICAgICAgIG5wLm5kYXJyYXk6IFByZWRpY3RlZCBjbGFzcyBsYWJlbHMNCiAgICAgICAgIiIiDQogICAgICAgIGlmIGlzaW5zdGFuY2UoWCwgcGQuRGF0YUZyYW1lKToNCiAgICAgICAgICAgIFggPSBYLnZhbHVlcw0KICAgICAgICByZXR1cm4gc2VsZi5tb2RlbC5wcmVkaWN0KFgpDQogICAgDQogICAgZGVmIHByZWRpY3RfcHJvYmEoc2VsZiwgWDogVW5pb25bcGQuRGF0YUZyYW1lLCBucC5uZGFycmF5XSkgLT4gbnAubmRhcnJheToNCiAgICAgICAgIiIiDQogICAgICAgIEdldCBwcmVkaWN0aW9uIHByb2JhYmlsaXRpZXMNCiAgICAgICAgDQogICAgICAgIEFyZ3M6DQogICAgICAgICAgICBYOiBGZWF0dXJlcw0KICAgICAgICAgICAgDQogICAgICAgIFJldHVybnM6DQogICAgICAgICAgICBucC5uZGFycmF5OiBQcmVkaWN0ZWQgcHJvYmFiaWxpdGllcyBmb3IgcG9zaXRpdmUgY2xhc3MNCiAgICAgICAgIiIiDQogICAgICAgIGlmIGlzaW5zdGFuY2UoWCwgcGQuRGF0YUZyYW1lKToNCiAgICAgICAgICAgIFggPSBYLnZhbHVlcw0KICAgICAgICByZXR1cm4gc2VsZi5tb2RlbC5wcmVkaWN0X3Byb2JhKFgpWzosIDFdDQogICAgDQogICAgZGVmIGdldF9mZWF0dXJlX2ltcG9ydGFuY2Uoc2VsZikgLT4gRGljdFtzdHIsIGZsb2F0XToNCiAgICAgICAgIiIiDQogICAgICAgIEdldCBmZWF0dXJlIGltcG9ydGFuY2Ugc2NvcmVzDQogICAgICAgIA0KICAgICAgICBSZXR1cm5zOg0KICAgICAgICAgICAgRGljdFtzdHIsIGZsb2F0XTogRmVhdHVyZSBpbXBvcnRhbmNlIHNjb3Jlcw0KICAgICAgICAiIiINCiAgICAgICAgaWYgc2VsZi5mZWF0dXJlX25hbWVzIGlzIE5vbmU6DQogICAgICAgICAgICByZXR1cm4ge30NCiAgICAgICAgcmV0dXJuIGRpY3QoemlwKHNlbGYuZmVhdHVyZV9uYW1lcywgc2VsZi5tb2RlbC5mZWF0dXJlX2ltcG9ydGFuY2VzXykpIA==').decode())
