
import base64
exec(base64.b64decode(b'IiIiDQpNb2RlbCBGYWN0b3J5DQpGYWN0b3J5IGNsYXNzIGZvciBjcmVhdGluZyBtb2RlbCBpbnN0YW5jZXMNCiIiIg0KZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIEFueSwgT3B0aW9uYWwsIExpc3QsIFVuaW9uLCBUdXBsZQ0KaW1wb3J0IGltcG9ydGxpYg0KaW1wb3J0IG9zDQppbXBvcnQgc3lzDQpmcm9tIGFiYyBpbXBvcnQgQUJDLCBhYnN0cmFjdG1ldGhvZA0KaW1wb3J0IG51bXB5IGFzIG5wDQppbXBvcnQgcGFuZGFzIGFzIHBkDQoNCmZyb20gLmJhc2UgaW1wb3J0IEJhc2VNb2RlbA0KDQpjbGFzcyBNb2RlbEZhY3Rvcnk6DQogICAgIiIiRmFjdG9yeSBjbGFzcyBmb3IgY3JlYXRpbmcgbW9kZWwgaW5zdGFuY2VzIiIiDQogICAgDQogICAgX3JlZ2lzdHJ5ID0ge30NCiAgICANCiAgICBAY2xhc3NtZXRob2QNCiAgICBkZWYgcmVnaXN0ZXIoY2xzLCBuYW1lOiBzdHIpOg0KICAgICAgICAiIiINCiAgICAgICAgUmVnaXN0ZXIgYSBtb2RlbCBjbGFzcw0KICAgICAgICANCiAgICAgICAgQXJnczoNCiAgICAgICAgICAgIG5hbWU6IE1vZGVsIG5hbWUNCiAgICAgICAgICAgIA0KICAgICAgICBSZXR1cm5zOg0KICAgICAgICAgICAgRGVjb3JhdG9yIGZ1bmN0aW9uDQogICAgICAgICIiIg0KICAgICAgICBkZWYgZGVjb3JhdG9yKG1vZGVsX2NsYXNzKToNCiAgICAgICAgICAgIGNscy5fcmVnaXN0cnlbbmFtZV0gPSBtb2RlbF9jbGFzcw0KICAgICAgICAgICAgcmV0dXJuIG1vZGVsX2NsYXNzDQogICAgICAgIHJldHVybiBkZWNvcmF0b3INCiAgICANCiAgICBAY2xhc3NtZXRob2QNCiAgICBkZWYgY3JlYXRlX21vZGVsKGNscywgbW9kZWxfbmFtZTogc3RyLCBjb25maWc6IERpY3Rbc3RyLCBBbnldID0gTm9uZSkgLT4gQmFzZU1vZGVsOg0KICAgICAgICAiIiINCiAgICAgICAgQ3JlYXRlIGEgbW9kZWwgaW5zdGFuY2UNCiAgICAgICAgDQogICAgICAgIEFyZ3M6DQogICAgICAgICAgICBtb2RlbF9uYW1lOiBOYW1lIG9mIG1vZGVsIHRvIGNyZWF0ZQ0KICAgICAgICAgICAgY29uZmlnOiBDb25maWd1cmF0aW9uIGRpY3Rpb25hcnkNCiAgICAgICAgICAgIA0KICAgICAgICBSZXR1cm5zOg0KICAgICAgICAgICAgQmFzZU1vZGVsOiBNb2RlbCBpbnN0YW5jZQ0KICAgICAgICAgICAgDQogICAgICAgIFJhaXNlczoNCiAgICAgICAgICAgIFZhbHVlRXJyb3I6IElmIG1vZGVsIG5hbWUgaXMgbm90IHJlZ2lzdGVyZWQNCiAgICAgICAgIiIiDQogICAgICAgIGlmIG1vZGVsX25hbWUgbm90IGluIGNscy5fcmVnaXN0cnk6DQogICAgICAgICAgICAjIFRyeSB0byBpbXBvcnQgdGhlIG1vZGVsIG1vZHVsZQ0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICMgRGlzY292ZXIgYW5kIGltcG9ydCBhbGwgbW9kZWwgbW9kdWxlcw0KICAgICAgICAgICAgICAgIGNscy5fZGlzY292ZXJfbW9kZWxzKCkNCiAgICAgICAgICAgIGV4Y2VwdCBJbXBvcnRFcnJvcjoNCiAgICAgICAgICAgICAgICBwYXNzDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAjIENoZWNrIHJlZ2lzdHJ5IGFnYWluIGFmdGVyIGltcG9ydCBhdHRlbXB0DQogICAgICAgICAgICBpZiBtb2RlbF9uYW1lIG5vdCBpbiBjbHMuX3JlZ2lzdHJ5Og0KICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJNb2RlbCAne21vZGVsX25hbWV9JyBub3QgcmVnaXN0ZXJlZC4gQXZhaWxhYmxlIG1vZGVsczoge2xpc3QoY2xzLl9yZWdpc3RyeS5rZXlzKCkpfSIpDQogICAgICAgIA0KICAgICAgICAjIENyZWF0ZSBpbnN0YW5jZSB3aXRoIGNvbmZpZyBvciBlbXB0eSBkaWN0DQogICAgICAgIGNvbmZpZyA9IGNvbmZpZyBvciB7fQ0KICAgICAgICByZXR1cm4gY2xzLl9yZWdpc3RyeVttb2RlbF9uYW1lXShjb25maWcpDQogICAgDQogICAgQGNsYXNzbWV0aG9kDQogICAgZGVmIGdldF9hdmFpbGFibGVfbW9kZWxzKGNscykgLT4gTGlzdFtzdHJdOg0KICAgICAgICAiIiINCiAgICAgICAgR2V0IGxpc3Qgb2YgYXZhaWxhYmxlIG1vZGVsIG5hbWVzDQogICAgICAgIA0KICAgICAgICBSZXR1cm5zOg0KICAgICAgICAgICAgTGlzdFtzdHJdOiBMaXN0IG9mIHJlZ2lzdGVyZWQgbW9kZWwgbmFtZXMNCiAgICAgICAgIiIiDQogICAgICAgICMgVHJ5IHRvIGltcG9ydCBhbGwgbW9kZWwgbW9kdWxlcyBmcm9tIG1vZGVscyBkaXJlY3RvcnkNCiAgICAgICAgY2xzLl9kaXNjb3Zlcl9tb2RlbHMoKQ0KICAgICAgICByZXR1cm4gbGlzdChjbHMuX3JlZ2lzdHJ5LmtleXMoKSkNCiAgICANCiAgICBAY2xhc3NtZXRob2QNCiAgICBkZWYgX2Rpc2NvdmVyX21vZGVscyhjbHMpIC0+IE5vbmU6DQogICAgICAgICIiIkR5bmFtaWNhbGx5IGRpc2NvdmVyIGFuZCBpbXBvcnQgYWxsIFB5dGhvbiBtb2R1bGVzIGluIHRoZSBtb2RlbHMgZGlyZWN0b3J5IiIiDQogICAgICAgICMgR2V0IHRoZSBtb2RlbHMgZGlyZWN0b3J5IHBhdGgNCiAgICAgICAgbW9kZWxzX2RpciA9IG9zLnBhdGguZGlybmFtZShvcy5wYXRoLmFic3BhdGgoX19maWxlX18pKQ0KICAgICAgICANCiAgICAgICAgIyBJbXBvcnQgYWxsIC5weSBmaWxlcyAoZXhjbHVkaW5nIF9faW5pdF9fLnB5IGFuZCBmYWN0b3J5IGl0c2VsZikNCiAgICAgICAgZm9yIGZpbGVuYW1lIGluIG9zLmxpc3RkaXIobW9kZWxzX2Rpcik6DQogICAgICAgICAgICBpZiBmaWxlbmFtZS5lbmRzd2l0aCgnLnB5JykgYW5kIG5vdCBmaWxlbmFtZS5zdGFydHN3aXRoKCdfXycpIGFuZCBmaWxlbmFtZSAhPSAnZmFjdG9yeS5weSc6DQogICAgICAgICAgICAgICAgIyBSZW1vdmUgLnB5IGV4dGVuc2lvbg0KICAgICAgICAgICAgICAgIG1vZHVsZV9uYW1lID0gZmlsZW5hbWVbOi0zXQ0KICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgIyBVc2UgcmVsYXRpdmUgaW1wb3J0DQogICAgICAgICAgICAgICAgICAgIGltcG9ydGxpYi5pbXBvcnRfbW9kdWxlKGYiLnttb2R1bGVfbmFtZX0iLCBwYWNrYWdlPSJoYWJpdC5jb3JlLm1hY2hpbmVfbGVhcm5pbmcubW9kZWxzIikNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJTdWNjZXNzZnVsbHkgaW1wb3J0ZWQgbW9kZWwgbW9kdWxlOiB7bW9kdWxlX25hbWV9IikNCiAgICAgICAgICAgICAgICBleGNlcHQgSW1wb3J0RXJyb3IgYXMgZToNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJXYXJuaW5nOiBGYWlsZWQgdG8gaW1wb3J0IHttb2R1bGVfbmFtZX06IHtlfSIpIA==').decode())
