
import base64
exec(base64.b64decode(b'IiIiDQpCb3J1dGEgRmVhdHVyZSBTZWxlY3Rvcg0KDQpJbXBsZW1lbnRhdGlvbiBvZiBCb3J1dGEgYWxnb3JpdGhtIGZvciBmZWF0dXJlIHNlbGVjdGlvbi4NCiIiIg0KDQppbXBvcnQgbnVtcHkgYXMgbnANCmltcG9ydCBwYW5kYXMgYXMgcGQNCmZyb20gdHlwaW5nIGltcG9ydCBMaXN0LCBUdXBsZSwgQW55LCBEaWN0LCBPcHRpb25hbCwgVW5pb24NCmltcG9ydCBvcw0KaW1wb3J0IGpzb24NCmltcG9ydCBtYXRwbG90bGliLnB5cGxvdCBhcyBwbHQNCmltcG9ydCBzZWFib3JuIGFzIHNucw0KDQp0cnk6DQogICAgZnJvbSBib3J1dGEgaW1wb3J0IEJvcnV0YVB5DQogICAgZnJvbSBza2xlYXJuLmVuc2VtYmxlIGltcG9ydCBSYW5kb21Gb3Jlc3RDbGFzc2lmaWVyDQogICAgQk9SVVRBX0FWQUlMQUJMRSA9IFRydWUNCmV4Y2VwdCBJbXBvcnRFcnJvcjoNCiAgICBCT1JVVEFfQVZBSUxBQkxFID0gRmFsc2UNCiAgICBwcmludCgiV2FybmluZzogQm9ydXRhIHBhY2thZ2Ugbm90IGF2YWlsYWJsZS4gQm9ydXRhIHNlbGVjdGlvbiB3aWxsIG5vdCBiZSBhdmFpbGFibGUuIikNCiAgICBwcmludCgiWW91IGNhbiBpbnN0YWxsIEJvcnV0YSB3aXRoOiBwaXAgaW5zdGFsbCBCb3J1dGEiKQ0KDQpmcm9tIC5zZWxlY3Rvcl9yZWdpc3RyeSBpbXBvcnQgcmVnaXN0ZXJfc2VsZWN0b3INCg0KQHJlZ2lzdGVyX3NlbGVjdG9yKCdib3J1dGEnKQ0KZGVmIGJvcnV0YV9zZWxlY3RvcigNCiAgICAgICAgWDogcGQuRGF0YUZyYW1lLA0KICAgICAgICB5OiBwZC5TZXJpZXMsDQogICAgICAgIHNlbGVjdGVkX2ZlYXR1cmVzOiBMaXN0W3N0cl0sDQogICAgICAgIG5fZXN0aW1hdG9yczogaW50ID0gMTAwLA0KICAgICAgICBtYXhfaXRlcjogaW50ID0gMTAwLA0KICAgICAgICBwZXJjOiBpbnQgPSAxMDAsDQogICAgICAgIGFscGhhOiBmbG9hdCA9IDAuMDUsDQogICAgICAgIHJhbmRvbV9zdGF0ZTogaW50ID0gNDIsDQogICAgICAgIHBsb3RfaW1wb3J0YW5jZTogYm9vbCA9IFRydWUsDQogICAgICAgIG91dGRpcjogT3B0aW9uYWxbc3RyXSA9IE5vbmUsDQogICAgICAgICoqa3dhcmdzDQogICAgKSAtPiBMaXN0W3N0cl06DQogICAgIiIiDQogICAgQXBwbHkgQm9ydXRhIGFsZ29yaXRobSBmb3IgZmVhdHVyZSBzZWxlY3Rpb24NCiAgICANCiAgICBBcmdzOg0KICAgICAgICBYOiBGZWF0dXJlIGRhdGENCiAgICAgICAgeTogVGFyZ2V0IHZhcmlhYmxlDQogICAgICAgIHNlbGVjdGVkX2ZlYXR1cmVzOiBMaXN0IG9mIGZlYXR1cmVzIHRvIHNlbGVjdCBmcm9tDQogICAgICAgIG5fZXN0aW1hdG9yczogTnVtYmVyIG9mIHRyZWVzIGluIHRoZSByYW5kb20gZm9yZXN0DQogICAgICAgIG1heF9pdGVyOiBNYXhpbXVtIG51bWJlciBvZiBpdGVyYXRpb25zDQogICAgICAgIHBlcmM6IFBlcmNlbnRhZ2Ugb2Ygc2hhZG93IGZlYXR1cmVzIHRvIGtlZXANCiAgICAgICAgYWxwaGE6IExldmVsIG9mIHNpZ25pZmljYW5jZQ0KICAgICAgICByYW5kb21fc3RhdGU6IFJhbmRvbSBzdGF0ZSBmb3IgcmVwcm9kdWNpYmlsaXR5DQogICAgICAgIHBsb3RfaW1wb3J0YW5jZTogV2hldGhlciB0byBwbG90IGZlYXR1cmUgaW1wb3J0YW5jZQ0KICAgICAgICBvdXRkaXI6IE91dHB1dCBkaXJlY3RvcnkgZm9yIHJlc3VsdHMNCiAgICAgICAgKiprd2FyZ3M6IEFkZGl0aW9uYWwgYXJndW1lbnRzDQogICAgICAgIA0KICAgIFJldHVybnM6DQogICAgICAgIExpc3Rbc3RyXTogU2VsZWN0ZWQgZmVhdHVyZSBuYW1lcw0KICAgICAgICANCiAgICBSYWlzZXM6DQogICAgICAgIEltcG9ydEVycm9yOiBJZiBCb3J1dGEgcGFja2FnZSBpcyBub3QgYXZhaWxhYmxlDQogICAgIiIiDQogICAgaWYgbm90IEJPUlVUQV9BVkFJTEFCTEU6DQogICAgICAgIHJhaXNlIEltcG9ydEVycm9yKCJCb3J1dGEgcGFja2FnZSBpcyByZXF1aXJlZCBmb3IgQm9ydXRhIHNlbGVjdGlvbiIpDQogICAgDQogICAgIyBHZXQgZmVhdHVyZSBzdWJzZXQNCiAgICBYX3N1YnNldCA9IFhbc2VsZWN0ZWRfZmVhdHVyZXNdDQogICAgDQogICAgIyBQcmVwYXJlIGJhc2UgY2xhc3NpZmllcg0KICAgIHJmID0gUmFuZG9tRm9yZXN0Q2xhc3NpZmllcihuX2VzdGltYXRvcnM9bl9lc3RpbWF0b3JzLCByYW5kb21fc3RhdGU9cmFuZG9tX3N0YXRlKQ0KICAgIA0KICAgICMgSW5pdGlhbGl6ZSBCb3J1dGENCiAgICBib3J1dGFfc2VsZWN0b3IgPSBCb3J1dGFQeSgNCiAgICAgICAgcmYsIA0KICAgICAgICBuX2VzdGltYXRvcnM9bl9lc3RpbWF0b3JzLA0KICAgICAgICBtYXhfaXRlcj1tYXhfaXRlciwNCiAgICAgICAgcGVyYz1wZXJjLA0KICAgICAgICBhbHBoYT1hbHBoYSwNCiAgICAgICAgcmFuZG9tX3N0YXRlPXJhbmRvbV9zdGF0ZSwNCiAgICAgICAgdmVyYm9zZT0yDQogICAgKQ0KICAgIA0KICAgICMgRml0IEJvcnV0YQ0KICAgIGJvcnV0YV9zZWxlY3Rvci5maXQoWF9zdWJzZXQudmFsdWVzLCB5LnZhbHVlcykNCiAgICANCiAgICAjIEdldCBzZWxlY3RlZCBmZWF0dXJlIG1hc2sgYW5kIHJhbmtpbmcNCiAgICBzZWxlY3RlZF9tYXNrID0gYm9ydXRhX3NlbGVjdG9yLnN1cHBvcnRfDQogICAgcmFua2luZyA9IGJvcnV0YV9zZWxlY3Rvci5yYW5raW5nXw0KICAgIA0KICAgICMgQ3JlYXRlIGZlYXR1cmUgcmFua2luZyBkYXRhZnJhbWUNCiAgICBmZWF0dXJlX3JhbmtpbmcgPSBwZC5EYXRhRnJhbWUoew0KICAgICAgICAnZmVhdHVyZSc6IHNlbGVjdGVkX2ZlYXR1cmVzLA0KICAgICAgICAncmFua2luZyc6IHJhbmtpbmcsDQogICAgICAgICdzZWxlY3RlZCc6IHNlbGVjdGVkX21hc2ssDQogICAgICAgICd0ZW50YXRpdmUnOiBib3J1dGFfc2VsZWN0b3Iuc3VwcG9ydF93ZWFrXw0KICAgIH0pDQogICAgDQogICAgIyBTb3J0IGJ5IHJhbmtpbmcNCiAgICBmZWF0dXJlX3JhbmtpbmcgPSBmZWF0dXJlX3Jhbmtpbmcuc29ydF92YWx1ZXMoJ3JhbmtpbmcnKS5yZXNldF9pbmRleChkcm9wPVRydWUpDQogICAgDQogICAgIyBHZXQgc2VsZWN0ZWQgZmVhdHVyZSBuYW1lcw0KICAgIHNlbGVjdGVkX2ZlYXR1cmVzX3Jlc3VsdCA9IGxpc3QoWF9zdWJzZXQuY29sdW1uc1tzZWxlY3RlZF9tYXNrXSkNCiAgICANCiAgICAjIElmIHdlIGFsc28gd2FudCB0byBpbmNsdWRlIHRlbnRhdGl2ZSBmZWF0dXJlcw0KICAgIGlmIGt3YXJncy5nZXQoJ2luY2x1ZGVfdGVudGF0aXZlJywgVHJ1ZSk6DQogICAgICAgIHRlbnRhdGl2ZV9tYXNrID0gYm9ydXRhX3NlbGVjdG9yLnN1cHBvcnRfd2Vha18NCiAgICAgICAgdGVudGF0aXZlX2ZlYXR1cmVzID0gbGlzdChYX3N1YnNldC5jb2x1bW5zW3RlbnRhdGl2ZV9tYXNrICYgfnNlbGVjdGVkX21hc2tdKQ0KICAgICAgICBhbGxfc2VsZWN0ZWQgPSBzZWxlY3RlZF9mZWF0dXJlc19yZXN1bHQgKyB0ZW50YXRpdmVfZmVhdHVyZXMNCiAgICBlbHNlOg0KICAgICAgICBhbGxfc2VsZWN0ZWQgPSBzZWxlY3RlZF9mZWF0dXJlc19yZXN1bHQNCiAgICAgICAgDQogICAgIyBTYXZlIHJlc3VsdHMgaWYgb3V0cHV0IGRpcmVjdG9yeSBzcGVjaWZpZWQNCiAgICBpZiBvdXRkaXI6DQogICAgICAgIG9zLm1ha2VkaXJzKG91dGRpciwgZXhpc3Rfb2s9VHJ1ZSkNCiAgICAgICAgDQogICAgICAgICMgU2F2ZSBzZWxlY3RlZCBmZWF0dXJlcw0KICAgICAgICByZXN1bHRfZmlsZSA9IG9zLnBhdGguam9pbihvdXRkaXIsICdib3J1dGFfc2VsZWN0ZWRfZmVhdHVyZXMuanNvbicpDQogICAgICAgIHdpdGggb3BlbihyZXN1bHRfZmlsZSwgJ3cnLCBlbmNvZGluZz0ndXRmLTgnKSBhcyBmOg0KICAgICAgICAgICAganNvbi5kdW1wKHsNCiAgICAgICAgICAgICAgICAnY29uZmlybWVkX2ZlYXR1cmVzJzogc2VsZWN0ZWRfZmVhdHVyZXNfcmVzdWx0LA0KICAgICAgICAgICAgICAgICd0ZW50YXRpdmVfZmVhdHVyZXMnOiBsaXN0KFhfc3Vic2V0LmNvbHVtbnNbYm9ydXRhX3NlbGVjdG9yLnN1cHBvcnRfd2Vha18gJiB+c2VsZWN0ZWRfbWFza10pLA0KICAgICAgICAgICAgICAgICdyZWplY3RlZF9mZWF0dXJlcyc6IGxpc3QoWF9zdWJzZXQuY29sdW1uc1t+Ym9ydXRhX3NlbGVjdG9yLnN1cHBvcnRfICYgfmJvcnV0YV9zZWxlY3Rvci5zdXBwb3J0X3dlYWtfXSksDQogICAgICAgICAgICAgICAgJ25fZmVhdHVyZXNfc2VsZWN0ZWQnOiBsZW4oc2VsZWN0ZWRfZmVhdHVyZXNfcmVzdWx0KSwNCiAgICAgICAgICAgICAgICAnbl90ZW50YXRpdmVfZmVhdHVyZXMnOiBzdW0oYm9ydXRhX3NlbGVjdG9yLnN1cHBvcnRfd2Vha18gJiB+c2VsZWN0ZWRfbWFzayksDQogICAgICAgICAgICAgICAgJ25fcmVqZWN0ZWRfZmVhdHVyZXMnOiBzdW0ofmJvcnV0YV9zZWxlY3Rvci5zdXBwb3J0XyAmIH5ib3J1dGFfc2VsZWN0b3Iuc3VwcG9ydF93ZWFrXyksDQogICAgICAgICAgICAgICAgJ29yaWdpbmFsX2ZlYXR1cmVfY291bnQnOiBsZW4oc2VsZWN0ZWRfZmVhdHVyZXMpDQogICAgICAgICAgICB9LCBmLCBlbnN1cmVfYXNjaWk9RmFsc2UsIGluZGVudD00KQ0KICAgICAgICAgICAgDQogICAgICAgICMgU2F2ZSBmZWF0dXJlIHJhbmtpbmcNCiAgICAgICAgcmFua2luZ19maWxlID0gb3MucGF0aC5qb2luKG91dGRpciwgJ2JvcnV0YV9mZWF0dXJlX3JhbmtpbmcuY3N2JykNCiAgICAgICAgZmVhdHVyZV9yYW5raW5nLnRvX2NzdihyYW5raW5nX2ZpbGUsIGluZGV4PUZhbHNlKQ0KICAgICAgICANCiAgICAgICAgIyBQbG90IGZlYXR1cmUgaW1wb3J0YW5jZQ0KICAgICAgICBpZiBwbG90X2ltcG9ydGFuY2UgYW5kIGhhc2F0dHIoYm9ydXRhX3NlbGVjdG9yLCAnaW1wb3J0YW5jZV9oaXN0b3J5XycpOg0KICAgICAgICAgICAgIyBQbG90IGZlYXR1cmUgaW1wb3J0YW5jZXMNCiAgICAgICAgICAgIHBsdC5maWd1cmUoZmlnc2l6ZT0oMTIsIDEwKSkNCiAgICAgICAgICAgIHggPSByYW5nZShsZW4oc2VsZWN0ZWRfZmVhdHVyZXMpKQ0KICAgICAgICAgICAgeSA9IGJvcnV0YV9zZWxlY3Rvci5pbXBvcnRhbmNlX2hpc3RvcnlfLm1lYW4oYXhpcz0wKQ0KICAgICAgICAgICAgeV9zaGFkb3cgPSBib3J1dGFfc2VsZWN0b3Iuc2hhZG93X2ltcG9ydGFuY2VfaGlzdG9yeV8ubWVhbihheGlzPTApLm1lYW4oKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb2xvcnMgPSBbJ2dyZWVuJyBpZiBzZWxlY3RlZCBlbHNlICdibHVlJyBpZiB0ZW50YXRpdmUgZWxzZSAncmVkJyANCiAgICAgICAgICAgICAgICAgICAgIGZvciBzZWxlY3RlZCwgdGVudGF0aXZlIGluIHppcChzZWxlY3RlZF9tYXNrLCBib3J1dGFfc2VsZWN0b3Iuc3VwcG9ydF93ZWFrXyldDQogICAgICAgICAgICANCiAgICAgICAgICAgICMgUGxvdCBmZWF0dXJlIGltcG9ydGFuY2VzDQogICAgICAgICAgICBwbHQuYmFyKHgsIHksIGNvbG9yPWNvbG9ycykNCiAgICAgICAgICAgIHBsdC5heGhsaW5lKHk9eV9zaGFkb3csIGNvbG9yPSdyJywgbGluZXN0eWxlPSctJywgbGFiZWw9J1NoYWRvdyBNYXgnKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBwbHQueHRpY2tzKHgsIHNlbGVjdGVkX2ZlYXR1cmVzLCByb3RhdGlvbj05MCkNCiAgICAgICAgICAgIHBsdC54bGFiZWwoJ0ZlYXR1cmVzJykNCiAgICAgICAgICAgIHBsdC55bGFiZWwoJ0ltcG9ydGFuY2UnKQ0KICAgICAgICAgICAgcGx0LnRpdGxlKCdCb3J1dGEgRmVhdHVyZSBJbXBvcnRhbmNlJykNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgIyBBZGQgbGVnZW5kDQogICAgICAgICAgICBmcm9tIG1hdHBsb3RsaWIucGF0Y2hlcyBpbXBvcnQgUGF0Y2gNCiAgICAgICAgICAgIGxlZ2VuZF9lbGVtZW50cyA9IFsNCiAgICAgICAgICAgICAgICBQYXRjaChmYWNlY29sb3I9J2dyZWVuJywgbGFiZWw9J0NvbmZpcm1lZCcpLA0KICAgICAgICAgICAgICAgIFBhdGNoKGZhY2Vjb2xvcj0nYmx1ZScsIGxhYmVsPSdUZW50YXRpdmUnKSwNCiAgICAgICAgICAgICAgICBQYXRjaChmYWNlY29sb3I9J3JlZCcsIGxhYmVsPSdSZWplY3RlZCcpDQogICAgICAgICAgICBdDQogICAgICAgICAgICBwbHQubGVnZW5kKGhhbmRsZXM9bGVnZW5kX2VsZW1lbnRzKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBwbHQudGlnaHRfbGF5b3V0KCkNCiAgICAgICAgICAgIHBsdC5zYXZlZmlnKG9zLnBhdGguam9pbihvdXRkaXIsICdib3J1dGFfZmVhdHVyZV9pbXBvcnRhbmNlLnBkZicpKQ0KICAgICAgICAgICAgcGx0LmNsb3NlKCkNCiAgICAgICAgDQogICAgcmV0dXJuIGFsbF9zZWxlY3RlZCA=').decode())
