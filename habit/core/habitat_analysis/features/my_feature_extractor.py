
import base64
exec(base64.b64decode(b'IiIiDQpTaW1wbGUgZmVhdHVyZSBleHRyYWN0b3IgdGhhdCB1c2VzIHJhdyBpbWFnZSBpbnRlbnNpdGllcw0KIiIiDQoNCmltcG9ydCBudW1weSBhcyBucA0KaW1wb3J0IHBhbmRhcyBhcyBwZA0KZnJvbSB0eXBpbmcgaW1wb3J0IExpc3QsIEFueSwgT3B0aW9uYWwsIFVuaW9uDQpmcm9tIC5iYXNlX2ZlYXR1cmVfZXh0cmFjdG9yIGltcG9ydCBCYXNlRmVhdHVyZUV4dHJhY3RvciwgcmVnaXN0ZXJfZmVhdHVyZV9leHRyYWN0b3INCg0KDQpAcmVnaXN0ZXJfZmVhdHVyZV9leHRyYWN0b3IoJ215X2ZlYXR1cmVfZXh0cmFjdG9yJykNCmNsYXNzIE15RmVhdHVyZUV4dHJhY3RvcihCYXNlRmVhdHVyZUV4dHJhY3Rvcik6DQogICAgIiIiDQogICAgU2ltcGxlIGZlYXR1cmUgZXh0cmFjdG9yIHRoYXQgZGlyZWN0bHkgdXNlcyBpbWFnZSBpbnRlbnNpdGllcyBhcyBmZWF0dXJlcw0KICAgICIiIg0KICAgIA0KICAgIGRlZiBfX2luaXRfXyhzZWxmLCBub3JtYWxpemU6IGJvb2wgPSBGYWxzZSwgaW1hZ2VfbmFtZXM6IE9wdGlvbmFsW0xpc3Rbc3RyXV0gPSBOb25lLCAqKmt3YXJnczogQW55KSAtPiBOb25lOg0KICAgICAgICAiIiINCiAgICAgICAgSW5pdGlhbGl6ZSB0aGUgc2ltcGxlIGZlYXR1cmUgZXh0cmFjdG9yDQogICAgICAgIA0KICAgICAgICBBcmdzOg0KICAgICAgICAgICAgbm9ybWFsaXplOiBXaGV0aGVyIHRvIG5vcm1hbGl6ZSBmZWF0dXJlcw0KICAgICAgICAgICAgaW1hZ2VfbmFtZXM6IE9wdGlvbmFsIGxpc3Qgb2YgaW1hZ2UgbmFtZXMgdG8gdXNlIGFzIGZlYXR1cmUgbmFtZXMNCiAgICAgICAgICAgICoqa3dhcmdzOiBPdGhlciBwYXJhbWV0ZXJzIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIHBhcmVudCBjbGFzcw0KICAgICAgICAiIiINCiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygqKmt3YXJncykNCiAgICAgICAgc2VsZi5ub3JtYWxpemUgPSBub3JtYWxpemUNCiAgICAgICAgDQogICAgICAgIHNlbGYuZmVhdHVyZV9uYW1lcyA9IFsiaW50ZW5zaXR5X3ByZWNvbnRyYXN0IiwgImludGVuc2l0eV9sYXAiLCAiaW50ZW5zaXR5X3B2cCIsICJpbnRlbnNpdHlfZGVsYXlfM21pbiIsICJkZWx0YSJdDQogICAgDQogICAgZGVmIGV4dHJhY3RfZmVhdHVyZXMoc2VsZiwgaW1hZ2VfZGF0YTogVW5pb25bbnAubmRhcnJheSwgcGQuRGF0YUZyYW1lXSwgKiprd2FyZ3M6IEFueSkgLT4gcGQuRGF0YUZyYW1lOg0KICAgICAgICAiIiINCiAgICAgICAgRXh0cmFjdCBmZWF0dXJlcyBmcm9tIGltYWdlIGRhdGEgaW5jbHVkaW5nIGRlbHRhIGNhbGN1bGF0aW9uDQogICAgICAgIA0KICAgICAgICBBcmdzOg0KICAgICAgICAgICAgaW1hZ2VfZGF0YTogRGF0YUZyYW1lIHdpdGggaW1hZ2UgZGF0YSBvciAyRCBhcnJheQ0KICAgICAgICAgICAgKiprd2FyZ3M6IEFkZGl0aW9uYWwgcGFyYW1ldGVycyAobm90IHVzZWQgYnkgdGhpcyBleHRyYWN0b3IpDQogICAgICAgICAgICANCiAgICAgICAgUmV0dXJuczoNCiAgICAgICAgICAgIHBkLkRhdGFGcmFtZTogRXh0cmFjdGVkIGZlYXR1cmVzIHdpdGggdm94ZWxzIGFzIHJvd3MgYW5kIGZlYXR1cmVzIGFzIGNvbHVtbnMNCiAgICAgICAgIiIiDQogICAgICAgICMgRW5zdXJlIGltYWdlX2RhdGEgaXMgYSBEYXRhRnJhbWUNCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UoaW1hZ2VfZGF0YSwgcGQuRGF0YUZyYW1lKToNCiAgICAgICAgICAgICMgSWYgaW5wdXQgaXMgYSBudW1weSBhcnJheSwgY29udmVydCB0byBEYXRhRnJhbWUNCiAgICAgICAgICAgIGlmIGxlbihzZWxmLmZlYXR1cmVfbmFtZXMpIC0gMSA9PSBpbWFnZV9kYXRhLnNoYXBlWzFdOiAgIyAtMSBmb3IgdGhlIGRlbHRhIGZlYXR1cmUgd2UnbGwgY2FsY3VsYXRlDQogICAgICAgICAgICAgICAgY29sdW1uX25hbWVzID0gc2VsZi5mZWF0dXJlX25hbWVzWzotMV0gICMgRXhjbHVkZSAnZGVsdGEnIGZyb20gY29sdW1uIG5hbWVzDQogICAgICAgICAgICAgICAgZGYgPSBwZC5EYXRhRnJhbWUoaW1hZ2VfZGF0YSwgY29sdW1ucz1jb2x1bW5fbmFtZXMpDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICMgVXNlIGRlZmF1bHQgY29sdW1uIG5hbWVzDQogICAgICAgICAgICAgICAgZGYgPSBwZC5EYXRhRnJhbWUoaW1hZ2VfZGF0YSkNCiAgICAgICAgICAgICAgICAjIEFzc3VtZSB0aGUgRGF0YUZyYW1lIGhhcyBjb2x1bW5zIGluIHRoZSBvcmRlcjogcHJlX2NvbnRyYXN0LCBMQVAsIFBWUCwgZGVsYXlfM21pbg0KICAgICAgICAgICAgICAgIGlmIGRmLnNoYXBlWzFdID49IDQ6DQogICAgICAgICAgICAgICAgICAgIGRmLmNvbHVtbnMgPSBbJ3ByZV9jb250cmFzdCcsICdMQVAnLCAnUFZQJywgJ2RlbGF5XzNtaW4nXSArIGxpc3QoZGYuY29sdW1uc1s0Ol0pDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICAjIElmIGFscmVhZHkgYSBEYXRhRnJhbWUsIHVzZSBhcyBpcw0KICAgICAgICAgICAgZGYgPSBpbWFnZV9kYXRhLmNvcHkoKQ0KICAgICAgICANCiAgICAgICAgIyBDaGVjayBpZiByZXF1aXJlZCBjb2x1bW5zIGV4aXN0IGZvciBkZWx0YSBjYWxjdWxhdGlvbg0KICAgICAgICBpZiAnTEFQJyBpbiBkZi5jb2x1bW5zIGFuZCAncHJlX2NvbnRyYXN0JyBpbiBkZi5jb2x1bW5zOg0KICAgICAgICAgICAgIyBDYWxjdWxhdGUgZGVsdGEgKGVuaGFuY2VtZW50IHJhdGlvKQ0KICAgICAgICAgICAgZGZbJ2RlbHRhJ10gPSAoZGZbJ0xBUCddIC0gZGZbJ3ByZV9jb250cmFzdCddKSAvIGRmWydwcmVfY29udHJhc3QnXS5yZXBsYWNlKDAsIDFlLTYpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICAjIElmIGNvbHVtbnMgZG9uJ3QgZXhpc3QsIGFkZCBhIHBsYWNlaG9sZGVyIGRlbHRhIGNvbHVtbg0KICAgICAgICAgICAgZGZbJ2RlbHRhJ10gPSBucC5uYW4NCiAgICAgICAgICAgIA0KICAgICAgICAjIFVwZGF0ZSBmZWF0dXJlIG5hbWVzIGlmIG5lY2Vzc2FyeQ0KICAgICAgICBzZWxmLmZlYXR1cmVfbmFtZXMgPSBsaXN0KGRmLmNvbHVtbnMpDQogICAgICAgIA0KICAgICAgICByZXR1cm4gZGYNCiAgICANCiAgICBkZWYgZ2V0X2ZlYXR1cmVfbmFtZXMoc2VsZikgLT4gTGlzdFtzdHJdOg0KICAgICAgICAiIiINCiAgICAgICAgR2V0IGZlYXR1cmUgbmFtZXMNCiAgICAgICAgDQogICAgICAgIFJldHVybnM6DQogICAgICAgICAgICBMaXN0W3N0cl06IExpc3Qgb2YgZmVhdHVyZSBuYW1lcw0KICAgICAgICAiIiINCiAgICAgICAgcmV0dXJuIHNlbGYuZmVhdHVyZV9uYW1lcw==').decode())
