2026-01-25 18:23:37 - habit - INFO - [log_utils.py:127] - Log file initialized: F:\work\habit_project\demo_data\preprocessed\processing.log
2026-01-25 18:23:37 - habit.cli.preprocessing - INFO - [cmd_preprocess.py:50] - Python version: 3.8.16 (default, Mar  2 2023, 03:18:16) [MSC v.1916 64 bit (AMD64)]
2026-01-25 18:23:37 - habit.cli.preprocessing - INFO - [cmd_preprocess.py:51] - Platform: Windows-10-10.0.19045-SP0
2026-01-25 18:23:37 - habit.cli.preprocessing - INFO - [cmd_preprocess.py:52] - Using configuration file: ./demo_data/config_preprocessing.yaml
2026-01-25 18:23:37 - habit.cli.preprocessing - INFO - [cmd_preprocess.py:55] - Starting image preprocessing with config: ./demo_data/config_preprocessing.yaml
2026-01-25 18:23:37 - habit.cli.preprocessing - INFO - [cmd_preprocess.py:63] - Set multiprocessing start method to 'spawn' on Windows
2026-01-25 18:23:37 - habit.preprocessing - INFO - [image_processor_pipeline.py:214] - Using existing logging configuration from CLI entry point
2026-01-25 18:23:37 - habit.preprocessing - INFO - [image_processor_pipeline.py:104] - Intermediate results will be saved for all steps
2026-01-25 18:23:37 - habit.preprocessing - INFO - [image_processor_pipeline.py:83] - Using 2 worker processes.
2026-01-25 18:23:37 - habit.cli.preprocessing - INFO - [cmd_preprocess.py:67] - Successfully initialized BatchProcessor
2026-01-25 18:23:37 - habit.cli.preprocessing - INFO - [cmd_preprocess.py:77] - Starting batch processing
2026-01-25 18:23:37 - habit.preprocessing - WARNING - [image_processor_pipeline.py:459] - No mask found for subject subj001, skipping
2026-01-25 18:23:37 - habit.preprocessing - WARNING - [image_processor_pipeline.py:459] - No mask found for subject subj002, skipping
2026-01-25 18:23:37 - habit.preprocessing - INFO - [image_processor_pipeline.py:465] - 将使用 2 个进程进行处理
2026-01-25 18:23:37 - habit.preprocessing - INFO - [image_processor_pipeline.py:467] - 共有 2 个样本需要处理
2026-01-25 18:23:37 - habit.preprocessing - INFO - [image_processor_pipeline.py:473] - 开始处理数据...
2026-01-25 18:23:37 - habit.preprocessing - INFO - [image_processor_pipeline.py:493] - 开始并行处理所有样本...
2026-01-25 18:23:44 - habit.preprocessing - ERROR - [image_processor_pipeline.py:500] - Error processing subj001: Input directory does not exist: F:\work\habit_project\demo_data\dicom\sub001\WATER_BHAxLAVA-Flex-2min_Series0012
Traceback (most recent call last):
  File "F:\work\habit_project\habit\core\preprocessing\image_processor_pipeline.py", line 318, in _process_single_subject
    processor(subject_data)
  File "F:\work\habit_project\habit\core\preprocessing\dcm2niix_converter.py", line 578, in __call__
    converted_images = self._convert_single_dicom_dir(
  File "F:\work\habit_project\habit\core\preprocessing\dcm2niix_converter.py", line 299, in _convert_single_dicom_dir
    raise FileNotFoundError(f"Input directory does not exist: {input_dir}")
FileNotFoundError: Input directory does not exist: F:\work\habit_project\demo_data\dicom\sub001\WATER_BHAxLAVA-Flex-2min_Series0012

2026-01-25 18:23:44 - habit.preprocessing - ERROR - [image_processor_pipeline.py:500] - Error processing subj002: Input directory does not exist: F:\work\habit_project\demo_data\dicom\sub002\013_WATERBHAxLAVAFlex2min
Traceback (most recent call last):
  File "F:\work\habit_project\habit\core\preprocessing\image_processor_pipeline.py", line 318, in _process_single_subject
    processor(subject_data)
  File "F:\work\habit_project\habit\core\preprocessing\dcm2niix_converter.py", line 578, in __call__
    converted_images = self._convert_single_dicom_dir(
  File "F:\work\habit_project\habit\core\preprocessing\dcm2niix_converter.py", line 299, in _convert_single_dicom_dir
    raise FileNotFoundError(f"Input directory does not exist: {input_dir}")
FileNotFoundError: Input directory does not exist: F:\work\habit_project\demo_data\dicom\sub002\013_WATERBHAxLAVAFlex2min

2026-01-25 18:23:44 - habit.preprocessing - INFO - [image_processor_pipeline.py:506] - 批处理完成
2026-01-25 18:23:44 - habit.cli.preprocessing - INFO - [cmd_preprocess.py:81] - Image preprocessing completed successfully!
02] Error converting DICOM directory for key delay2: Input directory does not exist: F:\work\habit_project\demo_data\dicom\sub002\013_WATERBHAxLAVAFlex2min
