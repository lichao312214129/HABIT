2026-01-25 23:38:19 - habit - INFO - [log_utils.py:127] - Log file initialized: F:\work\habit_project\demo_data\ml_data\model_comparison\processing.log
2026-01-25 23:38:19 - habit.cli.compare - INFO - [cmd_compare.py:58] - Starting model comparison with config: ./demo_data/config_model_comparison.yaml
2026-01-25 23:38:19 - habit.evaluation.multifile - INFO - [model_evaluation.py:375] - Reading data from multiple files: 2 files
2026-01-25 23:38:19 - habit.evaluation.multifile - INFO - [model_evaluation.py:411] - Reading file: F:\work\habit_project\demo_data\ml_data\radiomics\all_prediction_results.csv
2026-01-25 23:38:19 - habit.evaluation.multifile - INFO - [model_evaluation.py:412] - Model name: radiomics, Subject ID: subject_id, Label: label, Prob: LogisticRegression_prob
2026-01-25 23:38:19 - habit.evaluation.multifile - INFO - [model_evaluation.py:411] - Reading file: F:\work\habit_project\demo_data\ml_data\clinical\all_prediction_results.csv
2026-01-25 23:38:19 - habit.evaluation.multifile - INFO - [model_evaluation.py:412] - Model name: clinical, Subject ID: subject_id, Label: label, Prob: LogisticRegression_prob
2026-01-25 23:38:19 - habit.evaluation.multifile - INFO - [model_evaluation.py:435] - Merging all datasets...
2026-01-25 23:38:19 - habit.cli.compare - INFO - [comparison_workflow.py:219] - 成功添加split列到合并数据中: ['dataset']
2026-01-25 23:38:19 - habit.cli.compare - INFO - [comparison_workflow.py:233] - 按照 dataset 列进行分组，识别到的分组：['train', 'test']
2026-01-25 23:38:19 - habit.evaluation.multifile - INFO - [model_evaluation.py:375] - Reading data from multiple files: 2 files
2026-01-25 23:38:19 - habit.evaluation.multifile - INFO - [model_evaluation.py:411] - Reading file: F:\work\habit_project\demo_data\ml_data\radiomics\all_prediction_results.csv
2026-01-25 23:38:19 - habit.evaluation.multifile - INFO - [model_evaluation.py:412] - Model name: radiomics, Subject ID: subject_id, Label: label, Prob: LogisticRegression_prob
2026-01-25 23:38:19 - habit.evaluation.multifile - INFO - [model_evaluation.py:411] - Reading file: F:\work\habit_project\demo_data\ml_data\clinical\all_prediction_results.csv
2026-01-25 23:38:19 - habit.evaluation.multifile - INFO - [model_evaluation.py:412] - Model name: clinical, Subject ID: subject_id, Label: label, Prob: LogisticRegression_prob
2026-01-25 23:38:19 - habit.evaluation.multifile - INFO - [model_evaluation.py:435] - Merging all datasets...
2026-01-25 23:38:19 - habit.cli.compare - INFO - [comparison_workflow.py:219] - 成功添加split列到合并数据中: ['dataset']
2026-01-25 23:38:19 - habit.cli.compare - INFO - [comparison_workflow.py:233] - 按照 dataset 列进行分组，识别到的分组：['train', 'test']
2026-01-25 23:38:19 - habit.evaluation.multifile - INFO - [model_evaluation.py:521] - NaN value statistics:
2026-01-25 23:38:19 - habit.evaluation.multifile - INFO - [model_evaluation.py:530] - Merged data saved to F:\work\habit_project\demo_data\ml_data\model_comparison\combined_predictions.csv
2026-01-25 23:38:20 - habit.cli.compare - INFO - [comparison_workflow.py:403] - train组 ROC曲线已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\train\roc_curves.pdf
2026-01-25 23:38:20 - habit.cli.compare - INFO - [comparison_workflow.py:409] - train组 决策曲线已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\train\decision_curves.pdf
2026-01-25 23:38:21 - habit.cli.compare - INFO - [comparison_workflow.py:416] - train组 校准曲线已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\train\calibration_curves.pdf
2026-01-25 23:38:21 - habit.cli.compare - INFO - [comparison_workflow.py:422] - train组 精确率-召回率曲线已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\train\precision_recall_curves.pdf
2026-01-25 23:38:21 - habit.evaluation.multifile - INFO - [model_evaluation.py:634] - 执行DeLong检验: radiomics vs clinical，有效样本数: 300
2026-01-25 23:38:21 - habit.evaluation.multifile - INFO - [model_evaluation.py:664] - DeLong Test Results:
2026-01-25 23:38:21 - habit.evaluation.multifile - INFO - [model_evaluation.py:665] - ==================================================
2026-01-25 23:38:21 - habit.evaluation.multifile - INFO - [model_evaluation.py:667] - radiomics vs clinical
2026-01-25 23:38:21 - habit.evaluation.multifile - INFO - [model_evaluation.py:668] - P-value: 0.3704
2026-01-25 23:38:21 - habit.evaluation.multifile - INFO - [model_evaluation.py:669] - Conclusion: radiomics and clinical do not have significantly different AUCs (p≥0.05)
2026-01-25 23:38:21 - habit.evaluation.multifile - INFO - [model_evaluation.py:670] - AUCs with 95% CI:
2026-01-25 23:38:21 - habit.evaluation.multifile - INFO - [model_evaluation.py:672] - radiomics: 0.984 (0.973-0.995)
2026-01-25 23:38:21 - habit.evaluation.multifile - INFO - [model_evaluation.py:673] - clinical: 0.978 (0.964-0.992)
2026-01-25 23:38:21 - habit.evaluation.multifile - INFO - [model_evaluation.py:681] - Results saved to F:\work\habit_project\demo_data\ml_data\model_comparison\train\delong_results.json
2026-01-25 23:38:21 - habit.cli.compare - INFO - [comparison_workflow.py:453] - train组 DeLong检验结果已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\train\delong_results.json
2026-01-25 23:38:21 - habit.cli.compare - INFO - [comparison_workflow.py:523] - 开始计算Youden指标...
2026-01-25 23:38:21 - habit.cli.compare - INFO - [comparison_workflow.py:556] - 根据 dataset 分组计算Youden指数...
2026-01-25 23:38:21 - habit.cli.compare - INFO - [comparison_workflow.py:567] - radiomics 训练集计算Youden指数，有效样本数: 300, 阈值: 0.5222
2026-01-25 23:38:21 - habit.cli.compare - INFO - [comparison_workflow.py:567] - clinical 训练集计算Youden指数，有效样本数: 300, 阈值: 0.5309
2026-01-25 23:38:21 - habit.cli.compare - INFO - [comparison_workflow.py:584] - 将阈值应用到 train 数据集...
2026-01-25 23:38:21 - habit.cli.compare - INFO - [comparison_workflow.py:756] - radiomics 测试集应用训练集阈值评估完成，有效样本数: 300
2026-01-25 23:38:21 - habit.cli.compare - INFO - [comparison_workflow.py:756] - clinical 测试集应用训练集阈值评估完成，有效样本数: 300
2026-01-25 23:38:21 - habit.cli.compare - INFO - [comparison_workflow.py:584] - 将阈值应用到 test 数据集...
2026-01-25 23:38:21 - habit.cli.compare - INFO - [comparison_workflow.py:756] - radiomics 测试集应用训练集阈值评估完成，有效样本数: 269
2026-01-25 23:38:21 - habit.cli.compare - INFO - [comparison_workflow.py:756] - clinical 测试集应用训练集阈值评估完成，有效样本数: 269
2026-01-25 23:38:21 - habit.cli.compare - INFO - [comparison_workflow.py:592] - 所有数据集的Youden指数评估完成
2026-01-25 23:38:21 - habit.cli.compare - INFO - [comparison_workflow.py:606] - 开始计算目标指标...
2026-01-25 23:38:21 - habit.cli.compare - INFO - [comparison_workflow.py:652] - 根据 dataset 分组计算目标指标阈值...
2026-01-25 23:38:21 - habit.cli.compare - INFO - [comparison_workflow.py:663] - radiomics 训练集计算目标指标，有效样本数: 300
2026-01-25 23:38:21 - habit.cli.compare - INFO - [comparison_workflow.py:673] - radiomics 同时满足所有目标的阈值: 0.6296
2026-01-25 23:38:22 - habit.cli.compare - INFO - [comparison_workflow.py:663] - clinical 训练集计算目标指标，有效样本数: 300
2026-01-25 23:38:22 - habit.cli.compare - INFO - [comparison_workflow.py:673] - clinical 同时满足所有目标的阈值: 0.5309
2026-01-25 23:38:22 - habit.cli.compare - INFO - [comparison_workflow.py:685] - 将训练集的组合目标阈值应用到 test 数据集...
2026-01-25 23:38:22 - habit.cli.compare - INFO - [comparison_workflow.py:756] - radiomics 测试集应用训练集阈值评估完成，有效样本数: 269
2026-01-25 23:38:22 - habit.cli.compare - INFO - [comparison_workflow.py:756] - clinical 测试集应用训练集阈值评估完成，有效样本数: 269
2026-01-25 23:38:22 - habit.cli.compare - INFO - [comparison_workflow.py:706] - 所有数据集的目标指标评估完成
2026-01-25 23:38:22 - habit.cli.compare - INFO - [comparison_workflow.py:403] - test组 ROC曲线已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\test\roc_curves.pdf
2026-01-25 23:38:23 - habit.cli.compare - INFO - [comparison_workflow.py:409] - test组 决策曲线已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\test\decision_curves.pdf
2026-01-25 23:38:23 - habit.cli.compare - INFO - [comparison_workflow.py:416] - test组 校准曲线已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\test\calibration_curves.pdf
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:422] - test组 精确率-召回率曲线已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\test\precision_recall_curves.pdf
2026-01-25 23:38:24 - habit.evaluation.multifile - INFO - [model_evaluation.py:634] - 执行DeLong检验: radiomics vs clinical，有效样本数: 269
2026-01-25 23:38:24 - habit.evaluation.multifile - INFO - [model_evaluation.py:664] - DeLong Test Results:
2026-01-25 23:38:24 - habit.evaluation.multifile - INFO - [model_evaluation.py:665] - ==================================================
2026-01-25 23:38:24 - habit.evaluation.multifile - INFO - [model_evaluation.py:667] - radiomics vs clinical
2026-01-25 23:38:24 - habit.evaluation.multifile - INFO - [model_evaluation.py:668] - P-value: 0.5809
2026-01-25 23:38:24 - habit.evaluation.multifile - INFO - [model_evaluation.py:669] - Conclusion: radiomics and clinical do not have significantly different AUCs (p≥0.05)
2026-01-25 23:38:24 - habit.evaluation.multifile - INFO - [model_evaluation.py:670] - AUCs with 95% CI:
2026-01-25 23:38:24 - habit.evaluation.multifile - INFO - [model_evaluation.py:672] - radiomics: 0.991 (0.983-1.000)
2026-01-25 23:38:24 - habit.evaluation.multifile - INFO - [model_evaluation.py:673] - clinical: 0.994 (0.988-1.000)
2026-01-25 23:38:24 - habit.evaluation.multifile - INFO - [model_evaluation.py:681] - Results saved to F:\work\habit_project\demo_data\ml_data\model_comparison\test\delong_results.json
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:453] - test组 DeLong检验结果已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\test\delong_results.json
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:523] - 开始计算Youden指标...
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:556] - 根据 dataset 分组计算Youden指数...
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:567] - radiomics 训练集计算Youden指数，有效样本数: 300, 阈值: 0.5222
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:567] - clinical 训练集计算Youden指数，有效样本数: 300, 阈值: 0.5309
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:584] - 将阈值应用到 train 数据集...
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:756] - radiomics 测试集应用训练集阈值评估完成，有效样本数: 300
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:756] - clinical 测试集应用训练集阈值评估完成，有效样本数: 300
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:584] - 将阈值应用到 test 数据集...
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:756] - radiomics 测试集应用训练集阈值评估完成，有效样本数: 269
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:756] - clinical 测试集应用训练集阈值评估完成，有效样本数: 269
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:592] - 所有数据集的Youden指数评估完成
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:606] - 开始计算目标指标...
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:652] - 根据 dataset 分组计算目标指标阈值...
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:663] - radiomics 训练集计算目标指标，有效样本数: 300
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:673] - radiomics 同时满足所有目标的阈值: 0.6296
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:663] - clinical 训练集计算目标指标，有效样本数: 300
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:673] - clinical 同时满足所有目标的阈值: 0.5309
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:685] - 将训练集的组合目标阈值应用到 test 数据集...
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:756] - radiomics 测试集应用训练集阈值评估完成，有效样本数: 269
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:756] - clinical 测试集应用训练集阈值评估完成，有效样本数: 269
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:706] - 所有数据集的目标指标评估完成
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:463] - 开始计算所有数据集的基本指标...
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:466] - 计算 train 数据集的基本指标...
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:852] - radiomics (train组) 计算基本指标，有效样本数: 300
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:852] - clinical (train组) 计算基本指标，有效样本数: 300
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:466] - 计算 test 数据集的基本指标...
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:852] - radiomics (test组) 计算基本指标，有效样本数: 269
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:852] - clinical (test组) 计算基本指标，有效样本数: 269
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:474] - 所有数据集的基本指标计算完成
2026-01-25 23:38:24 - habit.cli.compare - INFO - [report_exporter.py:102] - Metrics saved to F:\work\habit_project\demo_data\ml_data\model_comparison\metrics\metrics.json
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:866] - 保存的指标分组数量: 2
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:868] -   分组 train 中的模型数量: 2
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:871] -   模型 radiomics 的指标类型: youden_metrics, thresholds, target_metrics, basic_metrics
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:871] -   模型 clinical 的指标类型: youden_metrics, thresholds, target_metrics, basic_metrics
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:868] -   分组 test 中的模型数量: 2
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:871] -   模型 radiomics 的指标类型: youden_metrics, thresholds, target_metrics, basic_metrics
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:871] -   模型 clinical 的指标类型: youden_metrics, thresholds, target_metrics, basic_metrics
2026-01-25 23:38:24 - habit.cli.compare - INFO - [comparison_workflow.py:887] - 评估完成！所有结果已保存到F:\work\habit_project\demo_data\ml_data\model_comparison
2026-01-25 23:38:24 - habit.cli.compare - INFO - [cmd_compare.py:65] - Model comparison completed successfully
