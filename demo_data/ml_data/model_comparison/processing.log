2026-01-20 16:19:40 - habit - INFO - [log_utils.py:127] - Log file initialized: F:\work\habit_project\demo_data\ml_data\model_comparison\processing.log
2026-01-20 16:19:40 - habit.cli.compare - INFO - [cmd_compare.py:48] - Starting model comparison with config: ./demo_data/config_model_comparison.yaml
2026-01-20 16:19:40 - habit.model.comparison - INFO - [comparison_workflow.py:45] - Using existing logging configuration from CLI entry point
2026-01-20 16:19:40 - habit.evaluation.multifile - INFO - [model_evaluation.py:375] - Reading data from multiple files: 2 files
2026-01-20 16:19:40 - habit.evaluation.multifile - INFO - [model_evaluation.py:399] - Reading file: F:\work\habit_project\demo_data\ml_data\radiomics\all_prediction_results - 副本.csv
2026-01-20 16:19:40 - habit.evaluation.multifile - INFO - [model_evaluation.py:400] - Model name: radiomics, Subject ID: subject_id, Label: label, Prob: LogisticRegression_prob
2026-01-20 16:19:40 - habit.evaluation.multifile - INFO - [model_evaluation.py:399] - Reading file: F:\work\habit_project\demo_data\ml_data\clinical\all_prediction_results - 副本.csv
2026-01-20 16:19:40 - habit.evaluation.multifile - INFO - [model_evaluation.py:400] - Model name: clinical, Subject ID: subject_id, Label: label, Prob: LogisticRegression_prob
2026-01-20 16:19:40 - habit.evaluation.multifile - INFO - [model_evaluation.py:423] - Merging all datasets...
2026-01-20 16:19:40 - habit.model.comparison - INFO - [comparison_workflow.py:178] - 成功添加split列到合并数据中: ['dataset']
2026-01-20 16:19:40 - habit.model.comparison - INFO - [comparison_workflow.py:192] - 按照 dataset 列进行分组，识别到的分组：['train', 'test', 'externaltest']
2026-01-20 16:19:40 - habit.evaluation.multifile - INFO - [model_evaluation.py:375] - Reading data from multiple files: 2 files
2026-01-20 16:19:40 - habit.evaluation.multifile - INFO - [model_evaluation.py:399] - Reading file: F:\work\habit_project\demo_data\ml_data\radiomics\all_prediction_results - 副本.csv
2026-01-20 16:19:40 - habit.evaluation.multifile - INFO - [model_evaluation.py:400] - Model name: radiomics, Subject ID: subject_id, Label: label, Prob: LogisticRegression_prob
2026-01-20 16:19:40 - habit.evaluation.multifile - INFO - [model_evaluation.py:399] - Reading file: F:\work\habit_project\demo_data\ml_data\clinical\all_prediction_results - 副本.csv
2026-01-20 16:19:40 - habit.evaluation.multifile - INFO - [model_evaluation.py:400] - Model name: clinical, Subject ID: subject_id, Label: label, Prob: LogisticRegression_prob
2026-01-20 16:19:40 - habit.evaluation.multifile - INFO - [model_evaluation.py:423] - Merging all datasets...
2026-01-20 16:19:40 - habit.model.comparison - INFO - [comparison_workflow.py:178] - 成功添加split列到合并数据中: ['dataset']
2026-01-20 16:19:40 - habit.model.comparison - INFO - [comparison_workflow.py:192] - 按照 dataset 列进行分组，识别到的分组：['train', 'test', 'externaltest']
2026-01-20 16:19:40 - habit.evaluation.multifile - INFO - [model_evaluation.py:476] - NaN value statistics:
2026-01-20 16:19:40 - habit.evaluation.multifile - INFO - [model_evaluation.py:485] - Merged data saved to F:\work\habit_project\demo_data\ml_data\model_comparison\combined_predictions.csv
2026-01-20 16:19:41 - habit.model.comparison - INFO - [comparison_workflow.py:304] - train组 ROC曲线已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\train\roc_curves.pdf
2026-01-20 16:19:41 - habit.model.comparison - INFO - [comparison_workflow.py:314] - train组 决策曲线已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\train\decision_curves.pdf
2026-01-20 16:19:42 - habit.model.comparison - INFO - [comparison_workflow.py:325] - train组 校准曲线已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\train\calibration_curves.pdf
2026-01-20 16:19:42 - habit.model.comparison - INFO - [comparison_workflow.py:335] - train组 精确率-召回率曲线已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\train\precision_recall_curves.pdf
2026-01-20 16:19:42 - habit.evaluation.multifile - INFO - [model_evaluation.py:589] - 执行DeLong检验: radiomics vs clinical，有效样本数: 300
2026-01-20 16:19:42 - habit.evaluation.multifile - INFO - [model_evaluation.py:619] - DeLong Test Results:
2026-01-20 16:19:42 - habit.evaluation.multifile - INFO - [model_evaluation.py:620] - ==================================================
2026-01-20 16:19:42 - habit.evaluation.multifile - INFO - [model_evaluation.py:622] - radiomics vs clinical
2026-01-20 16:19:42 - habit.evaluation.multifile - INFO - [model_evaluation.py:623] - P-value: 0.5495
2026-01-20 16:19:42 - habit.evaluation.multifile - INFO - [model_evaluation.py:624] - Conclusion: radiomics and clinical do not have significantly different AUCs (p≥0.05)
2026-01-20 16:19:42 - habit.evaluation.multifile - INFO - [model_evaluation.py:625] - AUCs with 95% CI:
2026-01-20 16:19:42 - habit.evaluation.multifile - INFO - [model_evaluation.py:627] - radiomics: 0.982 (0.970-0.994)
2026-01-20 16:19:42 - habit.evaluation.multifile - INFO - [model_evaluation.py:628] - clinical: 0.978 (0.964-0.992)
2026-01-20 16:19:42 - habit.evaluation.multifile - INFO - [model_evaluation.py:636] - Results saved to F:\work\habit_project\demo_data\ml_data\model_comparison\train\delong_results.json
2026-01-20 16:19:42 - habit.model.comparison - INFO - [comparison_workflow.py:360] - train组 DeLong检验结果已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\train\delong_results.json
2026-01-20 16:19:42 - habit.model.comparison - INFO - [comparison_workflow.py:469] - 开始计算Youden指标...
2026-01-20 16:19:42 - habit.model.comparison - INFO - [comparison_workflow.py:524] - 根据 dataset 分组计算Youden指数...
2026-01-20 16:19:42 - habit.model.comparison - INFO - [comparison_workflow.py:621] - 开始计算目标指标...
2026-01-20 16:19:42 - habit.model.comparison - INFO - [comparison_workflow.py:693] - 根据 dataset 分组计算目标指标阈值...
2026-01-20 16:19:43 - habit.model.comparison - INFO - [comparison_workflow.py:304] - test组 ROC曲线已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\test\roc_curves.pdf
2026-01-20 16:19:43 - habit.model.comparison - INFO - [comparison_workflow.py:314] - test组 决策曲线已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\test\decision_curves.pdf
2026-01-20 16:19:44 - habit.model.comparison - INFO - [comparison_workflow.py:325] - test组 校准曲线已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\test\calibration_curves.pdf
2026-01-20 16:19:44 - habit.model.comparison - INFO - [comparison_workflow.py:335] - test组 精确率-召回率曲线已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\test\precision_recall_curves.pdf
2026-01-20 16:19:44 - habit.evaluation.multifile - INFO - [model_evaluation.py:589] - 执行DeLong检验: radiomics vs clinical，有效样本数: 248
2026-01-20 16:19:44 - habit.evaluation.multifile - INFO - [model_evaluation.py:619] - DeLong Test Results:
2026-01-20 16:19:44 - habit.evaluation.multifile - INFO - [model_evaluation.py:620] - ==================================================
2026-01-20 16:19:44 - habit.evaluation.multifile - INFO - [model_evaluation.py:622] - radiomics vs clinical
2026-01-20 16:19:44 - habit.evaluation.multifile - INFO - [model_evaluation.py:623] - P-value: 0.5111
2026-01-20 16:19:44 - habit.evaluation.multifile - INFO - [model_evaluation.py:624] - Conclusion: radiomics and clinical do not have significantly different AUCs (p≥0.05)
2026-01-20 16:19:44 - habit.evaluation.multifile - INFO - [model_evaluation.py:625] - AUCs with 95% CI:
2026-01-20 16:19:44 - habit.evaluation.multifile - INFO - [model_evaluation.py:627] - radiomics: 0.990 (0.980-0.999)
2026-01-20 16:19:44 - habit.evaluation.multifile - INFO - [model_evaluation.py:628] - clinical: 0.993 (0.987-1.000)
2026-01-20 16:19:44 - habit.evaluation.multifile - INFO - [model_evaluation.py:636] - Results saved to F:\work\habit_project\demo_data\ml_data\model_comparison\test\delong_results.json
2026-01-20 16:19:44 - habit.model.comparison - INFO - [comparison_workflow.py:360] - test组 DeLong检验结果已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\test\delong_results.json
2026-01-20 16:19:44 - habit.model.comparison - INFO - [comparison_workflow.py:469] - 开始计算Youden指标...
2026-01-20 16:19:44 - habit.model.comparison - INFO - [comparison_workflow.py:524] - 根据 dataset 分组计算Youden指数...
2026-01-20 16:19:44 - habit.model.comparison - INFO - [comparison_workflow.py:621] - 开始计算目标指标...
2026-01-20 16:19:44 - habit.model.comparison - INFO - [comparison_workflow.py:693] - 根据 dataset 分组计算目标指标阈值...
2026-01-20 16:19:45 - habit.model.comparison - INFO - [comparison_workflow.py:304] - externaltest组 ROC曲线已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\externaltest\roc_curves.pdf
2026-01-20 16:19:45 - habit.model.comparison - INFO - [comparison_workflow.py:314] - externaltest组 决策曲线已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\externaltest\decision_curves.pdf
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:325] - externaltest组 校准曲线已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\externaltest\calibration_curves.pdf
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:335] - externaltest组 精确率-召回率曲线已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\externaltest\precision_recall_curves.pdf
2026-01-20 16:19:46 - habit.evaluation.multifile - INFO - [model_evaluation.py:589] - 执行DeLong检验: radiomics vs clinical，有效样本数: 21
2026-01-20 16:19:46 - habit.evaluation.multifile - INFO - [model_evaluation.py:619] - DeLong Test Results:
2026-01-20 16:19:46 - habit.evaluation.multifile - INFO - [model_evaluation.py:620] - ==================================================
2026-01-20 16:19:46 - habit.evaluation.multifile - INFO - [model_evaluation.py:622] - radiomics vs clinical
2026-01-20 16:19:46 - habit.evaluation.multifile - INFO - [model_evaluation.py:623] - P-value: 1.0000
2026-01-20 16:19:46 - habit.evaluation.multifile - INFO - [model_evaluation.py:624] - Conclusion: radiomics and clinical do not have significantly different AUCs (p≥0.05)
2026-01-20 16:19:46 - habit.evaluation.multifile - INFO - [model_evaluation.py:625] - AUCs with 95% CI:
2026-01-20 16:19:46 - habit.evaluation.multifile - INFO - [model_evaluation.py:627] - radiomics: 1.000 (nan-nan)
2026-01-20 16:19:46 - habit.evaluation.multifile - INFO - [model_evaluation.py:628] - clinical: 1.000 (nan-nan)
2026-01-20 16:19:46 - habit.evaluation.multifile - INFO - [model_evaluation.py:636] - Results saved to F:\work\habit_project\demo_data\ml_data\model_comparison\externaltest\delong_results.json
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:360] - externaltest组 DeLong检验结果已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\externaltest\delong_results.json
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:469] - 开始计算Youden指标...
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:524] - 根据 dataset 分组计算Youden指数...
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:621] - 开始计算目标指标...
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:693] - 根据 dataset 分组计算目标指标阈值...
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:370] - 开始计算所有数据集的基本指标...
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:374] - 计算 train 数据集的基本指标...
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:895] - radiomics (train组) 计算基本指标，有效样本数: 300
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:895] - clinical (train组) 计算基本指标，有效样本数: 300
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:374] - 计算 test 数据集的基本指标...
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:895] - radiomics (test组) 计算基本指标，有效样本数: 248
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:895] - clinical (test组) 计算基本指标，有效样本数: 248
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:374] - 计算 externaltest 数据集的基本指标...
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:895] - radiomics (externaltest组) 计算基本指标，有效样本数: 21
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:895] - clinical (externaltest组) 计算基本指标，有效样本数: 21
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:392] - 所有数据集的基本指标计算完成
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:940] - 所有指标已保存到 F:\work\habit_project\demo_data\ml_data\model_comparison\metrics\metrics.json
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:943] - 保存的指标分组数量: 3
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:945] - 分组 train 中的模型数量: 2
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:948] -   模型 radiomics 的指标类型: basic_metrics
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:948] -   模型 clinical 的指标类型: basic_metrics
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:945] - 分组 test 中的模型数量: 2
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:948] -   模型 radiomics 的指标类型: basic_metrics
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:948] -   模型 clinical 的指标类型: basic_metrics
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:945] - 分组 externaltest 中的模型数量: 2
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:948] -   模型 radiomics 的指标类型: basic_metrics
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:948] -   模型 clinical 的指标类型: basic_metrics
2026-01-20 16:19:46 - habit.model.comparison - INFO - [comparison_workflow.py:966] - 评估完成！所有结果已保存到F:\work\habit_project\demo_data\ml_data\model_comparison
2026-01-20 16:19:46 - habit.cli.compare - INFO - [cmd_compare.py:54] - Model comparison completed successfully
