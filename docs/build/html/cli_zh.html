

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CLI 参考文档 &mdash; HABIT 0.1.0 文档</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=9edc463e" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=cebd9dbd"></script>
      <script src="_static/doctools.js?v=888ff710"></script>
      <script src="_static/sphinx_highlight.js?v=4825356b"></script>
      <script src="_static/translations.js?v=beaddf03"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="next" title="API Reference" href="api/index.html" />
    <link rel="prev" title="配置参考" href="configuration_zh.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            HABIT
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <p class="caption" role="heading"><span class="caption-text">开始使用</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting_started/index_zh.html">快速开始</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting_started/installation.html">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started/installation.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/installation.html#install-from-source">Install from Source</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/installation.html#install-dependencies">Install Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/installation.html#verification">Verification</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getting_started/quickstart.html">Quick Start</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started/quickstart.html#basic-workflow">Basic Workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/quickstart.html#example-configuration">Example Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/quickstart.html#running-analysis">Running Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/quickstart.html#next-steps">Next Steps</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data_structure_zh.html">数据结构说明</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data_structure_zh.html#id2">数据输入方式概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_structure_zh.html#id3">文件夹结构方式</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data_structure_zh.html#id4">标准文件夹结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_structure_zh.html#id5">文件夹命名规则</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data_structure_zh.html#yaml">YAML 配置文件方式（推荐）</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data_structure_zh.html#id6">YAML 配置文件结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_structure_zh.html#id7">路径格式</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_structure_zh.html#auto-select-first-file">auto_select_first_file 参数详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_structure_zh.html#id8">路径和文件名规则</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_structure_zh.html#id9">实际示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data_structure_zh.html#id10">两种方式对比</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_structure_zh.html#id11">转换方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_structure_zh.html#id12">数据验证</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_structure_zh.html#id13">下一步</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">用户指南</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="user_guide/index_zh.html">用户指南</a><ul>
<li class="toctree-l2"><a class="reference internal" href="user_guide/roi_preparation_zh.html">ROI 文件准备</a><ul>
<li class="toctree-l3"><a class="reference internal" href="user_guide/roi_preparation_zh.html#id1">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/roi_preparation_zh.html#id2">ROI 文件格式要求</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/roi_preparation_zh.html#id3">勾画工具推荐</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/roi_preparation_zh.html#id4">ROI 勾画指南</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/roi_preparation_zh.html#id5">ROI 验证方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/roi_preparation_zh.html#id6">ROI 文件组织</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/roi_preparation_zh.html#id7">常见问题</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/roi_preparation_zh.html#id8">下一步</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/image_preprocessing_zh.html">图像预处理</a><ul>
<li class="toctree-l3"><a class="reference internal" href="user_guide/image_preprocessing_zh.html#id2">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/image_preprocessing_zh.html#cli">CLI 使用方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/image_preprocessing_zh.html#python-api">Python API 使用方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/image_preprocessing_zh.html#yaml">YAML 配置详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/image_preprocessing_zh.html#id3">预处理方法详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/image_preprocessing_zh.html#id4">自定义预处理器</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/image_preprocessing_zh.html#id5">实际示例</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/image_preprocessing_zh.html#id6">输出结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/image_preprocessing_zh.html#id7">常见问题</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/image_preprocessing_zh.html#id8">下一步</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html">生境分割</a><ul>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#id2">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#cli">CLI 使用方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#python-api">Python API 使用方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#yaml">YAML 配置详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#id3">聚类策略详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#pipeline">Pipeline 机制</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#id4">特征提取详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#id5">自定义特征提取器</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#id6">实际示例</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#id7">输出结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#id8">常见问题</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#id9">下一步</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/habitat_feature_extraction_zh.html">生境特征提取</a><ul>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_feature_extraction_zh.html#id2">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_feature_extraction_zh.html#cli">CLI 使用方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_feature_extraction_zh.html#python-api">Python API 使用方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_feature_extraction_zh.html#yaml">YAML 配置详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_feature_extraction_zh.html#id3">特征类型详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_feature_extraction_zh.html#id4">参数文件说明</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_feature_extraction_zh.html#id5">实际示例</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_feature_extraction_zh.html#id6">输出结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_feature_extraction_zh.html#id7">常见问题</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/habitat_feature_extraction_zh.html#id8">下一步</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html">机器学习建模</a><ul>
<li class="toctree-l3"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#id2">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#cli">CLI 使用方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#python-api">Python API 使用方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#yaml">YAML 配置详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#id3">特征选择方法详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#id4">模型类型详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#pipeline">Pipeline 机制</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#id5">实际示例</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#id6">输出结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#id7">常见问题</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#id8">下一步</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/index_zh.html#id2">工作流程概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/index_zh.html#id3">自定义扩展</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/index_zh.html#id4">配置文件</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/index_zh.html#id5">数据结构</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/index_zh.html#id6">下一步</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user_guide/roi_preparation_zh.html">ROI 文件准备</a><ul>
<li class="toctree-l2"><a class="reference internal" href="user_guide/roi_preparation_zh.html#id1">概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/roi_preparation_zh.html#id2">ROI 文件格式要求</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/roi_preparation_zh.html#id3">勾画工具推荐</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/roi_preparation_zh.html#id4">ROI 勾画指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/roi_preparation_zh.html#id5">ROI 验证方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/roi_preparation_zh.html#id6">ROI 文件组织</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/roi_preparation_zh.html#id7">常见问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/roi_preparation_zh.html#id8">下一步</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user_guide/image_preprocessing_zh.html">图像预处理</a><ul>
<li class="toctree-l2"><a class="reference internal" href="user_guide/image_preprocessing_zh.html#id2">概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/image_preprocessing_zh.html#cli">CLI 使用方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/image_preprocessing_zh.html#python-api">Python API 使用方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/image_preprocessing_zh.html#yaml">YAML 配置详解</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/image_preprocessing_zh.html#id3">预处理方法详解</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/image_preprocessing_zh.html#id4">自定义预处理器</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/image_preprocessing_zh.html#id5">实际示例</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/image_preprocessing_zh.html#id6">输出结构</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/image_preprocessing_zh.html#id7">常见问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/image_preprocessing_zh.html#id8">下一步</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html">生境分割</a><ul>
<li class="toctree-l2"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#id2">概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#cli">CLI 使用方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#python-api">Python API 使用方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#yaml">YAML 配置详解</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#id3">聚类策略详解</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#pipeline">Pipeline 机制</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#id4">特征提取详解</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#id5">自定义特征提取器</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#id6">实际示例</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#id7">输出结构</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#id8">常见问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/habitat_segmentation_zh.html#id9">下一步</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html">机器学习建模</a><ul>
<li class="toctree-l2"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#id2">概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#cli">CLI 使用方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#python-api">Python API 使用方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#yaml">YAML 配置详解</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#id3">特征选择方法详解</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#id4">模型类型详解</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#pipeline">Pipeline 机制</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#id5">实际示例</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#id6">输出结构</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#id7">常见问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_guide/machine_learning_modeling_zh.html#id8">下一步</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">设计哲学</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="design_philosophy_zh.html">HABIT 包的设计哲学和理念</a><ul>
<li class="toctree-l2"><a class="reference internal" href="design_philosophy_zh.html#id1">核心理念</a></li>
<li class="toctree-l2"><a class="reference internal" href="design_philosophy_zh.html#id2">设计原则</a></li>
<li class="toctree-l2"><a class="reference internal" href="design_philosophy_zh.html#id3">设计理念总结</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">自定义扩展</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="customization/index_zh.html">自定义扩展指南</a><ul>
<li class="toctree-l2"><a class="reference internal" href="customization/index_zh.html#id2">概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization/index_zh.html#id3">扩展原则</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization/index_zh.html#id4">自定义预处理器</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization/index_zh.html#id5">自定义特征提取器</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization/index_zh.html#id6">自定义聚类算法</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization/index_zh.html#id7">自定义模型</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization/index_zh.html#id8">自定义特征选择器</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization/index_zh.html#id9">最佳实践</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization/index_zh.html#id10">常见问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization/index_zh.html#id11">下一步</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">配置参考</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="configuration_zh.html">配置参考</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configuration_zh.html#id2">概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration_zh.html#id3">通用配置参数</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration_zh.html#id4">预处理配置参数</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration_zh.html#id5">生境分析配置参数</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration_zh.html#id22">特征提取配置参数</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration_zh.html#id25">机器学习配置参数</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration_zh.html#id26">数据配置参数</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration_zh.html#id43">配置文件验证</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration_zh.html#id44">常见问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration_zh.html#id45">下一步</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">命令行工具</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">CLI 参考文档</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">通用参数</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">图像预处理命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id4">生境分析命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id5">特征提取命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id6">机器学习命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id7">帮助命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id8">版本命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id9">命令行参数优先级</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id10">错误处理</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id11">日志记录</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id12">批处理示例</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id13">常见问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id14">下一步</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API 参考</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api/habit.core.html">habit.core package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api/habit.core.html#habit.core.HabitatAnalysis"><code class="docutils literal notranslate"><span class="pre">HabitatAnalysis</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/habit.core.html#habit.core.HabitatAnalysis.images_paths"><code class="docutils literal notranslate"><span class="pre">HabitatAnalysis.images_paths</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.core.html#habit.core.HabitatAnalysis.mask_paths"><code class="docutils literal notranslate"><span class="pre">HabitatAnalysis.mask_paths</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.core.html#habit.core.HabitatAnalysis.results_df"><code class="docutils literal notranslate"><span class="pre">HabitatAnalysis.results_df</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.core.html#habit.core.HabitatAnalysis.run"><code class="docutils literal notranslate"><span class="pre">HabitatAnalysis.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.core.html#habit.core.HabitatAnalysis.supervoxel2habitat_clustering"><code class="docutils literal notranslate"><span class="pre">HabitatAnalysis.supervoxel2habitat_clustering</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/habit.core.html#habit.core.HabitatFeatureExtractor"><code class="docutils literal notranslate"><span class="pre">HabitatFeatureExtractor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="api/habit.core.html#habit.core.Modeling"><code class="docutils literal notranslate"><span class="pre">Modeling</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="api/habit.core.html#habit.core.get_available_classes"><code class="docutils literal notranslate"><span class="pre">get_available_classes()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="api/habit.core.html#habit.core.get_import_errors"><code class="docutils literal notranslate"><span class="pre">get_import_errors()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="api/habit.core.html#habit.core.is_class_available"><code class="docutils literal notranslate"><span class="pre">is_class_available()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="api/habit.core.html#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/habit.core.habitat_analysis.html">habit.core.habitat_analysis package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api/habit.utils.html">habit.utils package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api/habit.utils.html#habit.utils.ParallelProcessor"><code class="docutils literal notranslate"><span class="pre">ParallelProcessor</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#habit.utils.ParallelProcessor.map"><code class="docutils literal notranslate"><span class="pre">ParallelProcessor.map()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/habit.utils.html#habit.utils.ProcessingResult"><code class="docutils literal notranslate"><span class="pre">ProcessingResult</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#habit.utils.ProcessingResult.item_id"><code class="docutils literal notranslate"><span class="pre">ProcessingResult.item_id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#habit.utils.ProcessingResult.result"><code class="docutils literal notranslate"><span class="pre">ProcessingResult.result</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#habit.utils.ProcessingResult.error"><code class="docutils literal notranslate"><span class="pre">ProcessingResult.error</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#habit.utils.ProcessingResult.success"><code class="docutils literal notranslate"><span class="pre">ProcessingResult.success</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#id0"><code class="docutils literal notranslate"><span class="pre">ProcessingResult.error</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#id1"><code class="docutils literal notranslate"><span class="pre">ProcessingResult.item_id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#id2"><code class="docutils literal notranslate"><span class="pre">ProcessingResult.result</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#id3"><code class="docutils literal notranslate"><span class="pre">ProcessingResult.success</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#habit.utils.ProcessingResult.unwrap"><code class="docutils literal notranslate"><span class="pre">ProcessingResult.unwrap()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/habit.utils.html#habit.utils.parallel_map"><code class="docutils literal notranslate"><span class="pre">parallel_map()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="api/habit.utils.html#habit.utils.parallel_map_simple"><code class="docutils literal notranslate"><span class="pre">parallel_map_simple()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="api/habit.utils.html#module-habit.utils.dicom_utils">Submodules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#habit.utils.dicom_utils.batch_read_dicom_info"><code class="docutils literal notranslate"><span class="pre">batch_read_dicom_info()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#habit.utils.dicom_utils.get_dicom_files"><code class="docutils literal notranslate"><span class="pre">get_dicom_files()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#habit.utils.dicom_utils.get_one_dicom_per_folder"><code class="docutils literal notranslate"><span class="pre">get_one_dicom_per_folder()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#habit.utils.dicom_utils.list_available_tags"><code class="docutils literal notranslate"><span class="pre">list_available_tags()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#habit.utils.dicom_utils.read_dicom_tags"><code class="docutils literal notranslate"><span class="pre">read_dicom_tags()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#habit.utils.image_converter.ImageConverter"><code class="docutils literal notranslate"><span class="pre">ImageConverter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#habit.utils.visualization.plot_cluster_results"><code class="docutils literal notranslate"><span class="pre">plot_cluster_results()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#habit.utils.visualization.plot_cluster_scores"><code class="docutils literal notranslate"><span class="pre">plot_cluster_scores()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#habit.utils.visualization.plot_elbow_curve"><code class="docutils literal notranslate"><span class="pre">plot_elbow_curve()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#habit.utils.visualization.plot_multiple_scores"><code class="docutils literal notranslate"><span class="pre">plot_multiple_scores()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#habit.utils.dice_calculator.compute_dice"><code class="docutils literal notranslate"><span class="pre">compute_dice()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api/habit.utils.html#habit.utils.dice_calculator.run_dice_calculation"><code class="docutils literal notranslate"><span class="pre">run_dice_calculation()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api/index.html#main-modules">Main Modules</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">开发与架构</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="development/index.html">开发指南</a><ul>
<li class="toctree-l2"><a class="reference internal" href="development/architecture.html">架构设计</a><ul>
<li class="toctree-l3"><a class="reference internal" href="development/architecture.html#id2">核心模块</a><ul>
<li class="toctree-l4"><a class="reference internal" href="development/architecture.html#habitat-analysis">Habitat Analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="development/architecture.html#machine-learning">Machine Learning</a></li>
<li class="toctree-l4"><a class="reference internal" href="development/architecture.html#preprocessing">Preprocessing</a></li>
<li class="toctree-l4"><a class="reference internal" href="development/architecture.html#common">Common</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="development/architecture.html#id3">设计模式</a><ul>
<li class="toctree-l4"><a class="reference internal" href="development/architecture.html#strategy-pattern">策略模式 (Strategy Pattern)</a></li>
<li class="toctree-l4"><a class="reference internal" href="development/architecture.html#factory-pattern">工厂模式 (Factory Pattern)</a></li>
<li class="toctree-l4"><a class="reference internal" href="development/architecture.html#dependency-injection">依赖注入 (Dependency Injection)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="development/architecture.html#id4">模块依赖关系</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="development/design_patterns.html">设计模式</a><ul>
<li class="toctree-l3"><a class="reference internal" href="development/design_patterns.html#strategy-pattern">策略模式 (Strategy Pattern)</a></li>
<li class="toctree-l3"><a class="reference internal" href="development/design_patterns.html#factory-pattern">工厂模式 (Factory Pattern)</a></li>
<li class="toctree-l3"><a class="reference internal" href="development/design_patterns.html#dependency-injection">依赖注入 (Dependency Injection)</a></li>
<li class="toctree-l3"><a class="reference internal" href="development/design_patterns.html#observer-pattern">观察者模式 (Observer Pattern)</a></li>
<li class="toctree-l3"><a class="reference internal" href="development/design_patterns.html#template-method-pattern">模板方法模式 (Template Method Pattern)</a></li>
<li class="toctree-l3"><a class="reference internal" href="development/design_patterns.html#adapter-pattern">适配器模式 (Adapter Pattern)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="development/testing.html">测试指南</a><ul>
<li class="toctree-l3"><a class="reference internal" href="development/testing.html#id2">运行测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="development/testing.html#id3">编写测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="development/testing.html#fixtures">使用 Fixtures</a></li>
<li class="toctree-l3"><a class="reference internal" href="development/testing.html#id4">测试最佳实践</a></li>
<li class="toctree-l3"><a class="reference internal" href="development/testing.html#id5">持续集成</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="development/contributing.html">贡献指南</a><ul>
<li class="toctree-l3"><a class="reference internal" href="development/contributing.html#id2">如何贡献</a><ul>
<li class="toctree-l4"><a class="reference internal" href="development/contributing.html#bug">报告 Bug</a></li>
<li class="toctree-l4"><a class="reference internal" href="development/contributing.html#id3">提交代码</a></li>
<li class="toctree-l4"><a class="reference internal" href="development/contributing.html#id4">代码规范</a></li>
<li class="toctree-l4"><a class="reference internal" href="development/contributing.html#id5">文档贡献</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="development/contributing.html#id6">开发环境设置</a></li>
<li class="toctree-l3"><a class="reference internal" href="development/contributing.html#pull-request">提交 Pull Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="development/contributing.html#id7">行为准则</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="algorithms/index.html">算法参考</a><ul>
<li class="toctree-l2"><a class="reference internal" href="algorithms/clustering.html">聚类算法</a></li>
<li class="toctree-l2"><a class="reference internal" href="algorithms/clustering.html#id2">支持的聚类算法</a><ul>
<li class="toctree-l3"><a class="reference internal" href="algorithms/clustering.html#k-means">K-Means</a><ul>
<li class="toctree-l4"><a class="reference internal" href="algorithms/clustering.html#habit.core.habitat_analysis.algorithms.kmeans_clustering.KMeansClustering"><code class="docutils literal notranslate"><span class="pre">KMeansClustering</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="algorithms/clustering.html#gmm-gaussian-mixture-model">GMM (Gaussian Mixture Model)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="algorithms/clustering.html#habit.core.habitat_analysis.algorithms.gmm_clustering.GMMClustering"><code class="docutils literal notranslate"><span class="pre">GMMClustering</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="algorithms/clustering.html#id3">层次聚类</a><ul>
<li class="toctree-l4"><a class="reference internal" href="algorithms/clustering.html#habit.core.habitat_analysis.algorithms.hierarchical_clustering.HierarchicalClustering"><code class="docutils literal notranslate"><span class="pre">HierarchicalClustering</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="algorithms/clustering.html#dbscan">DBSCAN</a><ul>
<li class="toctree-l4"><a class="reference internal" href="algorithms/clustering.html#habit.core.habitat_analysis.algorithms.dbscan_clustering.DBSCANClustering"><code class="docutils literal notranslate"><span class="pre">DBSCANClustering</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="algorithms/clustering.html#spectral-clustering">Spectral Clustering</a><ul>
<li class="toctree-l4"><a class="reference internal" href="algorithms/clustering.html#habit.core.habitat_analysis.algorithms.spectral_clustering.SpectralClustering"><code class="docutils literal notranslate"><span class="pre">SpectralClustering</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="algorithms/clustering.html#mean-shift">Mean Shift</a><ul>
<li class="toctree-l4"><a class="reference internal" href="algorithms/clustering.html#habit.core.habitat_analysis.algorithms.mean_shift_clustering.MeanShiftClustering"><code class="docutils literal notranslate"><span class="pre">MeanShiftClustering</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="algorithms/clustering.html#affinity-propagation">Affinity Propagation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="algorithms/clustering.html#habit.core.habitat_analysis.algorithms.affinity_propagation.AffinityPropagationClustering"><code class="docutils literal notranslate"><span class="pre">AffinityPropagationClustering</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="algorithms/feature_extraction.html">特征提取</a><ul>
<li class="toctree-l3"><a class="reference internal" href="algorithms/feature_extraction.html#id2">特征提取器</a><ul>
<li class="toctree-l4"><a class="reference internal" href="algorithms/feature_extraction.html#mean-voxel-features">Mean Voxel Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="algorithms/feature_extraction.html#kinetic-features">Kinetic Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="algorithms/feature_extraction.html#local-entropy-features">Local Entropy Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="algorithms/feature_extraction.html#voxel-radiomics-features">Voxel Radiomics Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="algorithms/feature_extraction.html#supervoxel-radiomics-features">Supervoxel Radiomics Features</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="algorithms/feature_extraction.html#id3">自定义特征提取器</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="algorithms/validation_methods.html">验证方法</a><ul>
<li class="toctree-l3"><a class="reference internal" href="algorithms/validation_methods.html#id2">聚类验证指标</a><ul>
<li class="toctree-l4"><a class="reference internal" href="algorithms/validation_methods.html#silhouette-score">Silhouette Score</a></li>
<li class="toctree-l4"><a class="reference internal" href="algorithms/validation_methods.html#calinski-harabasz-score">Calinski-Harabasz Score</a></li>
<li class="toctree-l4"><a class="reference internal" href="algorithms/validation_methods.html#davies-bouldin-score">Davies-Bouldin Score</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="algorithms/validation_methods.html#id3">验证方法选择</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-1-0-0-2024-xx-xx">Version 1.0.0 (2024-XX-XX)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#added">Added</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#changed">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#known-issues">Known Issues</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">HABIT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">CLI 参考文档</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/cli_zh.rst.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="cli">
<h1>CLI 参考文档<a class="headerlink" href="#cli" title="此标题的永久链接"></a></h1>
<p>本节详细介绍 HABIT 的所有命令行接口（CLI）命令。</p>
<section id="id1">
<h2>概述<a class="headerlink" href="#id1" title="此标题的永久链接"></a></h2>
<p>HABIT 提供了完整的命令行接口（CLI），用户可以通过命令行执行所有功能，包括图像预处理、生境分析、特征提取和机器学习建模。</p>
<p><strong>CLI 特点：</strong></p>
<ul class="simple">
<li><p><strong>简单易用</strong>: 通过简单的命令即可执行复杂功能</p></li>
<li><p><strong>参数灵活</strong>: 支持多种参数配置</p></li>
<li><p><strong>批处理</strong>: 适合批处理和自动化任务</p></li>
<li><p><strong>日志记录</strong>: 自动记录详细的日志信息</p></li>
<li><p><strong>进度显示</strong>: 显示处理进度</p></li>
</ul>
<p><strong>可用命令：</strong></p>
<ul class="simple">
<li><p><cite>habit preprocess</cite>: 图像预处理</p></li>
<li><p><cite>habit get-habitat</cite>: 生境分割</p></li>
<li><p><cite>habit extract</cite>: 生境特征提取</p></li>
<li><p><cite>habit model</cite>: 机器学习建模</p></li>
<li><p><cite>habit –help</cite>: 显示帮助信息</p></li>
</ul>
</section>
<section id="id2">
<h2>通用参数<a class="headerlink" href="#id2" title="此标题的永久链接"></a></h2>
<p><strong>–config, -c</strong>: 配置文件路径</p>
<ul class="simple">
<li><p><strong>类型</strong>: 字符串</p></li>
<li><p><strong>必需</strong>: 是</p></li>
<li><p><strong>说明</strong>: 指定 YAML 配置文件路径</p></li>
<li><p><strong>示例</strong>: <cite>–config ./config_preprocessing.yaml</cite></p></li>
</ul>
<p><strong>–help, -h</strong>: 显示帮助信息</p>
<ul class="simple">
<li><p><strong>类型</strong>: 标志</p></li>
<li><p><strong>必需</strong>: 否</p></li>
<li><p><strong>说明</strong>: 显示命令的帮助信息</p></li>
<li><p><strong>示例</strong>: <cite>–help</cite></p></li>
</ul>
<p><strong>–version, -v</strong>: 显示版本信息</p>
<ul class="simple">
<li><p><strong>类型</strong>: 标志</p></li>
<li><p><strong>必需</strong>: 否</p></li>
<li><p><strong>说明</strong>: 显示 HABIT 的版本信息</p></li>
<li><p><strong>示例</strong>: <cite>–version</cite></p></li>
</ul>
</section>
<section id="id3">
<h2>图像预处理命令<a class="headerlink" href="#id3" title="此标题的永久链接"></a></h2>
<p><strong>命令名称：</strong> <cite>habit preprocess</cite></p>
<p><strong>功能描述：</strong> 执行图像预处理，包括 DICOM 转换、N4 偏置场校正、重采样、配准、标准化等。</p>
<p><strong>基本语法：</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>habit<span class="w"> </span>preprocess<span class="w"> </span>--config<span class="w"> </span>&lt;config_file&gt;
</pre></div>
</div>
<p><strong>参数说明：</strong></p>
<ul class="simple">
<li><p><cite>–config</cite>, <cite>-c</cite>: 配置文件路径（必需）</p></li>
</ul>
<p><strong>使用示例：</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># 基本用法</span>
habit<span class="w"> </span>preprocess<span class="w"> </span>--config<span class="w"> </span>./config_preprocessing.yaml

<span class="c1"># 使用短选项</span>
habit<span class="w"> </span>preprocess<span class="w"> </span>-c<span class="w"> </span>./config_preprocessing.yaml
</pre></div>
</div>
<p><strong>输出：</strong></p>
<p>预处理后的图像将保存在配置文件中指定的输出目录。</p>
<p><strong>详细说明：</strong></p>
<p><cite>habit preprocess</cite> 命令执行以下步骤：</p>
<ol class="arabic simple">
<li><p><strong>加载配置</strong>: 从配置文件加载预处理参数</p></li>
<li><p><strong>读取数据</strong>: 读取原始图像数据</p></li>
<li><p><strong>执行预处理</strong>: 按照配置文件中的顺序执行预处理步骤</p></li>
<li><p><strong>保存结果</strong>: 保存预处理后的图像</p></li>
<li><p><strong>记录日志</strong>: 记录详细的处理日志</p></li>
</ol>
<p><strong>支持的预处理步骤：</strong></p>
<ul class="simple">
<li><p><cite>dcm2nii</cite>: DICOM 转换</p></li>
<li><p><cite>n4_correction</cite>: N4 偏置场校正</p></li>
<li><p><cite>resample</cite>: 重采样</p></li>
<li><p><cite>registration</cite>: 配准</p></li>
<li><p><cite>zscore_normalization</cite>: Z-Score 标准化</p></li>
<li><p><cite>adaptive_histogram_equalization</cite>: 自适应直方图均衡化</p></li>
</ul>
<p><strong>配置文件示例：</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">data_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./files_preprocessing.yaml</span>
<span class="nt">out_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./preprocessed</span>

<span class="nt">Preprocessing</span><span class="p">:</span>
<span class="w">  </span><span class="nt">dcm2nii</span><span class="p">:</span>
<span class="w">    </span><span class="nt">images</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">delay2</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">delay3</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">delay5</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">dcm2niix_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./dcm2niix.exe</span>
<span class="w">    </span><span class="nt">compress</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">  </span><span class="nt">resample</span><span class="p">:</span>
<span class="w">    </span><span class="nt">images</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">delay2</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">delay3</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">delay5</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">target_spacing</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">1.0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">1.0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">1.0</span><span class="p p-Indicator">]</span>

<span class="nt">processes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="nt">random_state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">42</span>
</pre></div>
</div>
</section>
<section id="id4">
<h2>生境分析命令<a class="headerlink" href="#id4" title="此标题的永久链接"></a></h2>
<p><strong>命令名称：</strong> <cite>habit get-habitat</cite></p>
<p><strong>功能描述：</strong> 执行生境分割，将肿瘤分割为多个具有相似特征的区域（生境）。</p>
<p><strong>基本语法：</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>habit<span class="w"> </span>get-habitat<span class="w"> </span>--config<span class="w"> </span>&lt;config_file&gt;<span class="w"> </span><span class="o">[</span>--mode<span class="w"> </span>&lt;mode&gt;<span class="o">]</span><span class="w"> </span><span class="o">[</span>--pipeline<span class="w"> </span>&lt;pipeline_path&gt;<span class="o">]</span><span class="w"> </span><span class="o">[</span>--debug<span class="o">]</span>
</pre></div>
</div>
<p><strong>参数说明：</strong></p>
<ul class="simple">
<li><p><cite>–config</cite>, <cite>-c</cite>: 配置文件路径（必需）</p></li>
<li><p><cite>–mode</cite>, <cite>-m</cite>: 运行模式（train 或 predict），覆盖配置文件中的设置</p></li>
<li><p><cite>–pipeline</cite>: Pipeline 文件路径，用于 predict 模式，覆盖配置文件中的设置</p></li>
<li><p><cite>–debug</cite>: 启用调试模式</p></li>
</ul>
<p><strong>使用示例：</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># 训练模式</span>
habit<span class="w"> </span>get-habitat<span class="w"> </span>--config<span class="w"> </span>./config_habitat_train.yaml<span class="w"> </span>--mode<span class="w"> </span>train

<span class="c1"># 预测模式</span>
habit<span class="w"> </span>get-habitat<span class="w"> </span>--config<span class="w"> </span>./config_habitat.yaml<span class="w"> </span>--mode<span class="w"> </span>predict

<span class="c1"># 使用指定的 Pipeline 文件</span>
habit<span class="w"> </span>get-habitat<span class="w"> </span>--config<span class="w"> </span>./config_habitat.yaml<span class="w"> </span>--mode<span class="w"> </span>predict<span class="w"> </span>--pipeline<span class="w"> </span>./custom_pipeline.pkl

<span class="c1"># 启用调试模式</span>
habit<span class="w"> </span>get-habitat<span class="w"> </span>--config<span class="w"> </span>./config_habitat.yaml<span class="w"> </span>--debug
</pre></div>
</div>
<p><strong>输出：</strong></p>
<p>生境图将保存在配置文件中指定的输出目录。</p>
<p><strong>详细说明：</strong></p>
<p><cite>habit get-habitat</cite> 命令执行以下步骤：</p>
<ol class="arabic simple">
<li><p><strong>加载配置</strong>: 从配置文件加载生境分析参数</p></li>
<li><p><strong>读取数据</strong>: 读取预处理后的图像数据</p></li>
<li><p><strong>特征提取</strong>: 提取体素级或超像素级特征</p></li>
<li><p><strong>聚类</strong>: 使用聚类算法进行生境分割</p></li>
<li><p><strong>保存结果</strong>: 保存生境图和聚类结果</p></li>
<li><p><strong>记录日志</strong>: 记录详细的处理日志</p></li>
</ol>
<p><strong>运行模式：</strong></p>
<ul class="simple">
<li><p><strong>train</strong>: 训练模式，在训练集上训练新的 Pipeline</p></li>
<li><p><strong>predict</strong>: 预测模式，加载训练好的 Pipeline，应用于测试集</p></li>
</ul>
<p><strong>Pipeline 机制：</strong></p>
<p>HABIT 使用 scikit-learn 的 Pipeline 机制，确保训练和测试使用相同的处理流程，避免数据泄露。</p>
<p><strong>配置文件示例：</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">run_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">train</span>
<span class="nt">data_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./file_habitat.yaml</span>
<span class="nt">out_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./results/habitat/train</span>

<span class="nt">FeatureConstruction</span><span class="p">:</span>
<span class="w">  </span><span class="nt">voxel_level</span><span class="p">:</span>
<span class="w">    </span><span class="nt">method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">concat(raw(delay2), raw(delay3), raw(delay5))</span>
<span class="w">    </span><span class="nt">params</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span>

<span class="nt">HabitatsSegmention</span><span class="p">:</span>
<span class="w">  </span><span class="nt">clustering_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">two_step</span>
<span class="w">  </span><span class="nt">supervoxel</span><span class="p">:</span>
<span class="w">    </span><span class="nt">algorithm</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kmeans</span>
<span class="w">    </span><span class="nt">n_clusters</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span>
<span class="w">  </span><span class="nt">habitat</span><span class="p">:</span>
<span class="w">    </span><span class="nt">algorithm</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kmeans</span>
<span class="w">    </span><span class="nt">max_clusters</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>

<span class="nt">processes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="nt">random_state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">42</span>
</pre></div>
</div>
</section>
<section id="id5">
<h2>特征提取命令<a class="headerlink" href="#id5" title="此标题的永久链接"></a></h2>
<p><strong>命令名称：</strong> <cite>habit extract</cite></p>
<p><strong>功能描述：</strong> 从生境图中提取各种类型的特征，包括传统影像组学特征、非影像组学特征、整体生境特征等。</p>
<p><strong>基本语法：</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>habit<span class="w"> </span>extract<span class="w"> </span>--config<span class="w"> </span>&lt;config_file&gt;
</pre></div>
</div>
<p><strong>参数说明：</strong></p>
<ul class="simple">
<li><p><cite>–config</cite>, <cite>-c</cite>: 配置文件路径（必需）</p></li>
</ul>
<p><strong>使用示例：</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># 基本用法</span>
habit<span class="w"> </span>extract<span class="w"> </span>--config<span class="w"> </span>./config_extract_features.yaml

<span class="c1"># 使用短选项</span>
habit<span class="w"> </span>extract<span class="w"> </span>-c<span class="w"> </span>./config_extract_features.yaml
</pre></div>
</div>
<p><strong>输出：</strong></p>
<p>特征文件将保存在配置文件中指定的输出目录。</p>
<p><strong>详细说明：</strong></p>
<p><cite>habit extract</cite> 命令执行以下步骤：</p>
<ol class="arabic simple">
<li><p><strong>加载配置</strong>: 从配置文件加载特征提取参数</p></li>
<li><p><strong>读取数据</strong>: 读取生境图和原始图像</p></li>
<li><p><strong>特征提取</strong>: 提取各种类型的特征</p></li>
<li><p><strong>保存结果</strong>: 保存特征文件</p></li>
<li><p><strong>记录日志</strong>: 记录详细的处理日志</p></li>
</ol>
<p><strong>支持的特征类型：</strong></p>
<ul class="simple">
<li><p><cite>traditional</cite>: 传统影像组学特征</p></li>
<li><p><cite>non_radiomics</cite>: 非影像组学特征</p></li>
<li><p><cite>whole_habitat</cite>: 整体生境特征</p></li>
<li><p><cite>each_habitat</cite>: 每个生境特征</p></li>
<li><p><cite>msi</cite>: MSI 特征</p></li>
<li><p><cite>ith_score</cite>: ITH 特征</p></li>
</ul>
<p><strong>配置文件示例：</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">params_file_of_non_habitat</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./parameter.yaml</span>
<span class="nt">params_file_of_habitat</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./parameter_habitat.yaml</span>

<span class="nt">raw_img_folder</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./preprocessed/processed_images</span>
<span class="nt">habitats_map_folder</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./results/habitat</span>
<span class="nt">out_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./results/features</span>

<span class="nt">n_processes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="nt">habitat_pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;*_habitats.nrrd&#39;</span>

<span class="nt">feature_types</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">traditional</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">non_radiomics</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">whole_habitat</span>

<span class="nt">debug</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</div>
</section>
<section id="id6">
<h2>机器学习命令<a class="headerlink" href="#id6" title="此标题的永久链接"></a></h2>
<p><strong>命令名称：</strong> <cite>habit model</cite></p>
<p><strong>功能描述：</strong> 执行机器学习建模，包括特征选择、模型训练、模型评估和模型预测。</p>
<p><strong>基本语法：</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>habit<span class="w"> </span>model<span class="w"> </span>--config<span class="w"> </span>&lt;config_file&gt;<span class="w"> </span><span class="o">[</span>--mode<span class="w"> </span>&lt;mode&gt;<span class="o">]</span>
</pre></div>
</div>
<p><strong>参数说明：</strong></p>
<ul class="simple">
<li><p><cite>–config</cite>, <cite>-c</cite>: 配置文件路径（必需）</p></li>
<li><p><cite>–mode</cite>, <cite>-m</cite>: 运行模式（train 或 predict），覆盖配置文件中的设置</p></li>
</ul>
<p><strong>使用示例：</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># 训练模式</span>
habit<span class="w"> </span>model<span class="w"> </span>--config<span class="w"> </span>./config_machine_learning.yaml<span class="w"> </span>--mode<span class="w"> </span>train

<span class="c1"># 预测模式</span>
habit<span class="w"> </span>model<span class="w"> </span>--config<span class="w"> </span>./config_machine_learning.yaml<span class="w"> </span>--mode<span class="w"> </span>predict
</pre></div>
</div>
<p><strong>输出：</strong></p>
<p>训练好的模型和评估结果将保存在配置文件中指定的输出目录。</p>
<p><strong>详细说明：</strong></p>
<p><cite>habit model</cite> 命令执行以下步骤：</p>
<ol class="arabic simple">
<li><p><strong>加载配置</strong>: 从配置文件加载机器学习参数</p></li>
<li><p><strong>读取数据</strong>: 读取特征数据和标签</p></li>
<li><p><strong>特征选择</strong>: 执行特征选择（如果启用）</p></li>
<li><p><strong>模型训练</strong>: 训练机器学习模型（train 模式）</p></li>
<li><p><strong>模型评估</strong>: 评估模型性能（如果启用）</p></li>
<li><p><strong>模型预测</strong>: 使用训练好的模型进行预测（predict 模式）</p></li>
<li><p><strong>保存结果</strong>: 保存模型、评估结果和预测结果</p></li>
<li><p><strong>记录日志</strong>: 记录详细的处理日志</p></li>
</ol>
<p><strong>运行模式：</strong></p>
<ul class="simple">
<li><p><strong>train</strong>: 训练模式，训练新的机器学习模型</p></li>
<li><p><strong>predict</strong>: 预测模式，使用训练好的模型进行预测</p></li>
</ul>
<p><strong>Pipeline 机制：</strong></p>
<p>HABIT 使用 scikit-learn 的 Pipeline 机制，确保特征选择、模型训练等步骤在交叉验证中正确应用，避免数据泄露。</p>
<p><strong>配置文件示例：</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">run_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">train</span>
<span class="nt">data_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./files_ml.yaml</span>
<span class="nt">out_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./results/ml/train</span>

<span class="nt">FeatureSelection</span><span class="p">:</span>
<span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">variance</span>
<span class="w">  </span><span class="nt">params</span><span class="p">:</span>
<span class="w">    </span><span class="nt">threshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0</span>

<span class="nt">ModelTraining</span><span class="p">:</span>
<span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">model_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RandomForest</span>
<span class="w">  </span><span class="nt">params</span><span class="p">:</span>
<span class="w">    </span><span class="nt">n_estimators</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span>
<span class="w">    </span><span class="nt">random_state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">42</span>

<span class="nt">ModelEvaluation</span><span class="p">:</span>
<span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">metrics</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">accuracy</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">precision</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">recall</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">f1</span>
<span class="w">  </span><span class="nt">cv</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">  </span><span class="nt">test_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.2</span>

<span class="nt">processes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="nt">random_state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">42</span>
</pre></div>
</div>
</section>
<section id="id7">
<h2>帮助命令<a class="headerlink" href="#id7" title="此标题的永久链接"></a></h2>
<p><strong>命令名称：</strong> <cite>habit –help</cite></p>
<p><strong>功能描述：</strong> 显示 HABIT 的帮助信息，包括所有可用命令和参数。</p>
<p><strong>基本语法：</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>habit<span class="w"> </span>--help
</pre></div>
</div>
<p><strong>使用示例：</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># 显示主帮助信息</span>
habit<span class="w"> </span>--help

<span class="c1"># 显示特定命令的帮助信息</span>
habit<span class="w"> </span>preprocess<span class="w"> </span>--help
habit<span class="w"> </span>get-habitat<span class="w"> </span>--help
habit<span class="w"> </span>extract<span class="w"> </span>--help
habit<span class="w"> </span>model<span class="w"> </span>--help
</pre></div>
</div>
<p><strong>输出：</strong></p>
<p>显示帮助信息，包括命令描述、参数说明和使用示例。</p>
</section>
<section id="id8">
<h2>版本命令<a class="headerlink" href="#id8" title="此标题的永久链接"></a></h2>
<p><strong>命令名称：</strong> <cite>habit –version</cite></p>
<p><strong>功能描述：</strong> 显示 HABIT 的版本信息。</p>
<p><strong>基本语法：</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>habit<span class="w"> </span>--version
</pre></div>
</div>
<p><strong>使用示例：</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>habit<span class="w"> </span>--version
</pre></div>
</div>
<p><strong>输出：</strong></p>
<p>显示 HABIT 的版本号，例如：</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>HABIT 0.1.0
</pre></div>
</div>
</section>
<section id="id9">
<h2>命令行参数优先级<a class="headerlink" href="#id9" title="此标题的永久链接"></a></h2>
<p>命令行参数的优先级高于配置文件中的参数。</p>
<p><strong>优先级顺序：</strong></p>
<ol class="arabic simple">
<li><p>命令行参数（最高优先级）</p></li>
<li><p>配置文件参数</p></li>
<li><p>默认值（最低优先级）</p></li>
</ol>
<p><strong>示例：</strong></p>
<p>如果配置文件中设置了 <cite>run_mode: train</cite>，但命令行中使用了 <cite>–mode predict</cite>，则实际运行模式为 <cite>predict</cite>。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># 配置文件中 run_mode: train</span>
habit<span class="w"> </span>get-habitat<span class="w"> </span>--config<span class="w"> </span>./config_habitat.yaml<span class="w"> </span>--mode<span class="w"> </span>predict
<span class="c1"># 实际运行模式为 predict</span>
</pre></div>
</div>
</section>
<section id="id10">
<h2>错误处理<a class="headerlink" href="#id10" title="此标题的永久链接"></a></h2>
<p><strong>常见错误：</strong></p>
<ol class="arabic">
<li><p><strong>配置文件不存在</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ERROR: Config file not found: ./config.yaml
</pre></div>
</div>
<p><strong>解决方法</strong>: 检查配置文件路径是否正确</p>
</li>
<li><p><strong>参数缺失</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ERROR: Missing required parameter: data_dir
</pre></div>
</div>
<p><strong>解决方法</strong>: 在配置文件中添加缺失的参数</p>
</li>
<li><p><strong>参数类型错误</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ERROR: Invalid type for parameter &#39;processes&#39;: expected int, got str
</pre></div>
</div>
<p><strong>解决方法</strong>: 检查参数类型是否正确</p>
</li>
<li><p><strong>数据文件不存在</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ERROR: Data file not found: ./data/subject1.nii.gz
</pre></div>
</div>
<p><strong>解决方法</strong>: 检查数据文件路径是否正确</p>
</li>
</ol>
<p><strong>调试技巧：</strong></p>
<ol class="arabic simple">
<li><p><strong>使用 `–debug` 参数</strong>: 启用调试模式，查看详细的日志信息</p></li>
<li><p><strong>检查日志文件</strong>: 查看日志文件了解详细的错误信息</p></li>
<li><p><strong>逐步执行</strong>: 逐步执行命令，定位问题</p></li>
<li><p><strong>检查配置文件</strong>: 检查配置文件的语法和参数</p></li>
</ol>
</section>
<section id="id11">
<h2>日志记录<a class="headerlink" href="#id11" title="此标题的永久链接"></a></h2>
<p>HABIT 自动记录详细的日志信息，包括：</p>
<ul class="simple">
<li><p><strong>处理进度</strong>: 显示处理的进度</p></li>
<li><p><strong>参数信息</strong>: 记录使用的参数</p></li>
<li><p><strong>警告信息</strong>: 记录警告信息</p></li>
<li><p><strong>错误信息</strong>: 记录错误信息</p></li>
</ul>
<p><strong>日志文件位置：</strong></p>
<p>日志文件保存在输出目录中，文件名为 <cite>&lt;command_name&gt;.log</cite>。</p>
<p><strong>示例：</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>results/
├── preprocessing.log
├── habitat_analysis.log
├── feature_extraction.log
└── machine_learning.log
</pre></div>
</div>
<p><strong>日志级别：</strong></p>
<ul class="simple">
<li><p><strong>INFO</strong>: 一般信息</p></li>
<li><p><strong>WARNING</strong>: 警告信息</p></li>
<li><p><strong>ERROR</strong>: 错误信息</p></li>
<li><p><strong>DEBUG</strong>: 调试信息（仅在调试模式下显示）</p></li>
</ul>
</section>
<section id="id12">
<h2>批处理示例<a class="headerlink" href="#id12" title="此标题的永久链接"></a></h2>
<p><strong>示例 1: 完整工作流程</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1. 图像预处理</span>
habit<span class="w"> </span>preprocess<span class="w"> </span>--config<span class="w"> </span>./config_preprocessing.yaml

<span class="c1"># 2. 生境分割（训练）</span>
habit<span class="w"> </span>get-habitat<span class="w"> </span>--config<span class="w"> </span>./config_habitat_train.yaml<span class="w"> </span>--mode<span class="w"> </span>train

<span class="c1"># 3. 生境分割（预测）</span>
habit<span class="w"> </span>get-habitat<span class="w"> </span>--config<span class="w"> </span>./config_habitat.yaml<span class="w"> </span>--mode<span class="w"> </span>predict

<span class="c1"># 4. 特征提取</span>
habit<span class="w"> </span>extract<span class="w"> </span>--config<span class="w"> </span>./config_extract_features.yaml

<span class="c1"># 5. 机器学习（训练）</span>
habit<span class="w"> </span>model<span class="w"> </span>--config<span class="w"> </span>./config_ml_train.yaml<span class="w"> </span>--mode<span class="w"> </span>train

<span class="c1"># 6. 机器学习（预测）</span>
habit<span class="w"> </span>model<span class="w"> </span>--config<span class="w"> </span>./config_ml.yaml<span class="w"> </span>--mode<span class="w"> </span>predict
</pre></div>
</div>
<p><strong>示例 2: 使用脚本自动化</strong></p>
<p>创建批处理脚本 <cite>run_analysis.sh</cite>：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="c1"># 设置变量</span>
<span class="nv">CONFIG_DIR</span><span class="o">=</span><span class="s2">&quot;./configs&quot;</span>
<span class="nv">OUTPUT_DIR</span><span class="o">=</span><span class="s2">&quot;./results&quot;</span>

<span class="c1"># 创建输出目录</span>
mkdir<span class="w"> </span>-p<span class="w"> </span><span class="nv">$OUTPUT_DIR</span>

<span class="c1"># 1. 图像预处理</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Step 1: Image preprocessing...&quot;</span>
habit<span class="w"> </span>preprocess<span class="w"> </span>--config<span class="w"> </span><span class="nv">$CONFIG_DIR</span>/config_preprocessing.yaml

<span class="c1"># 2. 生境分割</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Step 2: Habitat segmentation...&quot;</span>
habit<span class="w"> </span>get-habitat<span class="w"> </span>--config<span class="w"> </span><span class="nv">$CONFIG_DIR</span>/config_habitat.yaml<span class="w"> </span>--mode<span class="w"> </span>predict

<span class="c1"># 3. 特征提取</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Step 3: Feature extraction...&quot;</span>
habit<span class="w"> </span>extract<span class="w"> </span>--config<span class="w"> </span><span class="nv">$CONFIG_DIR</span>/config_extract_features.yaml

<span class="c1"># 4. 机器学习</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Step 4: Machine learning...&quot;</span>
habit<span class="w"> </span>model<span class="w"> </span>--config<span class="w"> </span><span class="nv">$CONFIG_DIR</span>/config_ml.yaml<span class="w"> </span>--mode<span class="w"> </span>predict

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Analysis completed!&quot;</span>
</pre></div>
</div>
<p>运行脚本：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>chmod<span class="w"> </span>+x<span class="w"> </span>run_analysis.sh
./run_analysis.sh
</pre></div>
</div>
<p><strong>示例 3: 使用 Python 脚本</strong></p>
<p>创建 Python 脚本 <cite>run_analysis.py</cite>：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="k">def</span> <span class="nf">run_command</span><span class="p">(</span><span class="n">command</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Running: </span><span class="si">{</span><span class="n">command</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">capture_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">returncode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">stderr</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>

<span class="c1"># 设置变量</span>
<span class="n">config_dir</span> <span class="o">=</span> <span class="s2">&quot;./configs&quot;</span>

<span class="c1"># 1. 图像预处理</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Step 1: Image preprocessing...&quot;</span><span class="p">)</span>
<span class="n">run_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;habit preprocess --config </span><span class="si">{</span><span class="n">config_dir</span><span class="si">}</span><span class="s2">/config_preprocessing.yaml&quot;</span><span class="p">)</span>

<span class="c1"># 2. 生境分割</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Step 2: Habitat segmentation...&quot;</span><span class="p">)</span>
<span class="n">run_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;habit get-habitat --config </span><span class="si">{</span><span class="n">config_dir</span><span class="si">}</span><span class="s2">/config_habitat.yaml --mode predict&quot;</span><span class="p">)</span>

<span class="c1"># 3. 特征提取</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Step 3: Feature extraction...&quot;</span><span class="p">)</span>
<span class="n">run_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;habit extract --config </span><span class="si">{</span><span class="n">config_dir</span><span class="si">}</span><span class="s2">/config_extract_features.yaml&quot;</span><span class="p">)</span>

<span class="c1"># 4. 机器学习</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Step 4: Machine learning...&quot;</span><span class="p">)</span>
<span class="n">run_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;habit model --config </span><span class="si">{</span><span class="n">config_dir</span><span class="si">}</span><span class="s2">/config_ml.yaml --mode predict&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Analysis completed!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>运行脚本：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>run_analysis.py
</pre></div>
</div>
</section>
<section id="id13">
<h2>常见问题<a class="headerlink" href="#id13" title="此标题的永久链接"></a></h2>
<p><strong>Q1: 如何查看命令的帮助信息？</strong></p>
<p>A: 使用 <cite>–help</cite> 参数：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>habit<span class="w"> </span>--help
habit<span class="w"> </span>preprocess<span class="w"> </span>--help
habit<span class="w"> </span>get-habitat<span class="w"> </span>--help
</pre></div>
</div>
<p><strong>Q2: 如何调试命令执行问题？</strong></p>
<p>A: 使用 <cite>–debug</cite> 参数启用调试模式：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>habit<span class="w"> </span>preprocess<span class="w"> </span>--config<span class="w"> </span>./config.yaml<span class="w"> </span>--debug
</pre></div>
</div>
<p><strong>Q3: 如何在命令行中覆盖配置文件参数？</strong></p>
<p>A: 使用相应的命令行参数：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>habit<span class="w"> </span>get-habitat<span class="w"> </span>--config<span class="w"> </span>./config.yaml<span class="w"> </span>--mode<span class="w"> </span>predict
</pre></div>
</div>
<p><strong>Q4: 如何查看命令的执行日志？</strong></p>
<p>A: 查看输出目录中的日志文件：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat<span class="w"> </span>results/preprocessing.log
</pre></div>
</div>
<p><strong>Q5: 如何在脚本中使用 CLI 命令？</strong></p>
<p>A: 可以在 Shell 脚本或 Python 脚本中使用 CLI 命令，参考上面的批处理示例。</p>
</section>
<section id="id14">
<h2>下一步<a class="headerlink" href="#id14" title="此标题的永久链接"></a></h2>
<p>CLI 参考文档完成后，您可以：</p>
<ul class="simple">
<li><p><a class="reference internal" href="configuration_zh.html"><span class="doc">配置参考</span></a>: 了解配置文件的详细说明</p></li>
<li><p><a class="reference internal" href="user_guide/index_zh.html"><span class="doc">用户指南</span></a>: 了解用户指南</p></li>
<li><p><a class="reference internal" href="design_philosophy_zh.html"><span class="doc">HABIT 包的设计哲学和理念</span></a>: 了解 HABIT 的设计哲学</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="configuration_zh.html" class="btn btn-neutral float-left" title="配置参考" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="api/index.html" class="btn btn-neutral float-right" title="API Reference" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2026, HABIT Team。</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>