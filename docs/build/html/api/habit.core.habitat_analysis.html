

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>habit.core.habitat_analysis package &mdash; HABIT 0.1.0 文档</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=9edc463e" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=cebd9dbd"></script>
      <script src="../_static/doctools.js?v=888ff710"></script>
      <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
      <script src="../_static/translations.js?v=beaddf03"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="habit.utils package" href="habit.utils.html" />
    <link rel="prev" title="habit.core package" href="habit.core.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            HABIT
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <p class="caption" role="heading"><span class="caption-text">开始使用</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index_zh.html">快速开始</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/installation.html">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/installation.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/installation.html#install-from-source">Install from Source</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/installation.html#install-dependencies">Install Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/installation.html#verification">Verification</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/quickstart.html">Quick Start</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/quickstart.html#basic-workflow">Basic Workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/quickstart.html#example-configuration">Example Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/quickstart.html#running-analysis">Running Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/quickstart.html#next-steps">Next Steps</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../data_structure_zh.html">数据结构说明</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../data_structure_zh.html#id2">数据输入方式概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_structure_zh.html#id3">文件夹结构方式</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../data_structure_zh.html#id4">标准文件夹结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_structure_zh.html#id5">文件夹命名规则</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../data_structure_zh.html#yaml">YAML 配置文件方式（推荐）</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../data_structure_zh.html#id6">YAML 配置文件结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_structure_zh.html#id7">路径格式</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_structure_zh.html#auto-select-first-file">auto_select_first_file 参数详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_structure_zh.html#id8">路径和文件名规则</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_structure_zh.html#id9">实际示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../data_structure_zh.html#id10">两种方式对比</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_structure_zh.html#id11">转换方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_structure_zh.html#id12">数据验证</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_structure_zh.html#id13">下一步</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">用户指南</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/index_zh.html">用户指南</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/roi_preparation_zh.html">ROI 文件准备</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/roi_preparation_zh.html#id1">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/roi_preparation_zh.html#id2">ROI 文件格式要求</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/roi_preparation_zh.html#id3">勾画工具推荐</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/roi_preparation_zh.html#id4">ROI 勾画指南</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/roi_preparation_zh.html#id5">ROI 验证方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/roi_preparation_zh.html#id6">ROI 文件组织</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/roi_preparation_zh.html#id7">常见问题</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/roi_preparation_zh.html#id8">下一步</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html">图像预处理</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html#id2">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html#cli">CLI 使用方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html#python-api">Python API 使用方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html#yaml">YAML 配置详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html#id3">预处理方法详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html#id4">自定义预处理器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html#id5">实际示例</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html#id6">输出结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html#id7">常见问题</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html#id8">下一步</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html">生境分割</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#id2">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#cli">CLI 使用方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#python-api">Python API 使用方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#yaml">YAML 配置详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#id3">聚类策略详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#pipeline">Pipeline 机制</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#id4">特征提取详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#id5">自定义特征提取器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#id6">实际示例</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#id7">输出结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#id8">常见问题</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#id9">下一步</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/habitat_feature_extraction_zh.html">生境特征提取</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_feature_extraction_zh.html#id2">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_feature_extraction_zh.html#cli">CLI 使用方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_feature_extraction_zh.html#python-api">Python API 使用方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_feature_extraction_zh.html#yaml">YAML 配置详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_feature_extraction_zh.html#id3">特征类型详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_feature_extraction_zh.html#id4">参数文件说明</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_feature_extraction_zh.html#id5">实际示例</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_feature_extraction_zh.html#id6">输出结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_feature_extraction_zh.html#id7">常见问题</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/habitat_feature_extraction_zh.html#id8">下一步</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html">机器学习建模</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#id2">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#cli">CLI 使用方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#python-api">Python API 使用方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#yaml">YAML 配置详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#id3">特征选择方法详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#id4">模型类型详解</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#pipeline">Pipeline 机制</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#id5">实际示例</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#id6">输出结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#id7">常见问题</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#id8">下一步</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/index_zh.html#id2">工作流程概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/index_zh.html#id3">自定义扩展</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/index_zh.html#id4">配置文件</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/index_zh.html#id5">数据结构</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/index_zh.html#id6">下一步</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/roi_preparation_zh.html">ROI 文件准备</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/roi_preparation_zh.html#id1">概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/roi_preparation_zh.html#id2">ROI 文件格式要求</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/roi_preparation_zh.html#id3">勾画工具推荐</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/roi_preparation_zh.html#id4">ROI 勾画指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/roi_preparation_zh.html#id5">ROI 验证方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/roi_preparation_zh.html#id6">ROI 文件组织</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/roi_preparation_zh.html#id7">常见问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/roi_preparation_zh.html#id8">下一步</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html">图像预处理</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html#id2">概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html#cli">CLI 使用方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html#python-api">Python API 使用方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html#yaml">YAML 配置详解</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html#id3">预处理方法详解</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html#id4">自定义预处理器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html#id5">实际示例</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html#id6">输出结构</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html#id7">常见问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/image_preprocessing_zh.html#id8">下一步</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html">生境分割</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#id2">概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#cli">CLI 使用方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#python-api">Python API 使用方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#yaml">YAML 配置详解</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#id3">聚类策略详解</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#pipeline">Pipeline 机制</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#id4">特征提取详解</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#id5">自定义特征提取器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#id6">实际示例</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#id7">输出结构</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#id8">常见问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/habitat_segmentation_zh.html#id9">下一步</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html">机器学习建模</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#id2">概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#cli">CLI 使用方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#python-api">Python API 使用方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#yaml">YAML 配置详解</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#id3">特征选择方法详解</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#id4">模型类型详解</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#pipeline">Pipeline 机制</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#id5">实际示例</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#id6">输出结构</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#id7">常见问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/machine_learning_modeling_zh.html#id8">下一步</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">设计哲学</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../design_philosophy_zh.html">HABIT 包的设计哲学和理念</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../design_philosophy_zh.html#id1">核心理念</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design_philosophy_zh.html#id2">设计原则</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design_philosophy_zh.html#id3">设计理念总结</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">自定义扩展</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../customization/index_zh.html">自定义扩展指南</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../customization/index_zh.html#id2">概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="../customization/index_zh.html#id3">扩展原则</a></li>
<li class="toctree-l2"><a class="reference internal" href="../customization/index_zh.html#id4">自定义预处理器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../customization/index_zh.html#id5">自定义特征提取器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../customization/index_zh.html#id6">自定义聚类算法</a></li>
<li class="toctree-l2"><a class="reference internal" href="../customization/index_zh.html#id7">自定义模型</a></li>
<li class="toctree-l2"><a class="reference internal" href="../customization/index_zh.html#id8">自定义特征选择器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../customization/index_zh.html#id9">最佳实践</a></li>
<li class="toctree-l2"><a class="reference internal" href="../customization/index_zh.html#id10">常见问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="../customization/index_zh.html#id11">下一步</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">配置参考</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../configuration_zh.html">配置参考</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../configuration_zh.html#id2">概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_zh.html#id3">通用配置参数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_zh.html#id4">预处理配置参数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_zh.html#id5">生境分析配置参数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_zh.html#id22">特征提取配置参数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_zh.html#id25">机器学习配置参数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_zh.html#id26">数据配置参数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_zh.html#id43">配置文件验证</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_zh.html#id44">常见问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_zh.html#id45">下一步</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">命令行工具</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cli_zh.html">CLI 参考文档</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cli_zh.html#id1">概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_zh.html#id2">通用参数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_zh.html#id3">图像预处理命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_zh.html#id4">生境分析命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_zh.html#id5">特征提取命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_zh.html#id6">机器学习命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_zh.html#id7">帮助命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_zh.html#id8">版本命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_zh.html#id9">命令行参数优先级</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_zh.html#id10">错误处理</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_zh.html#id11">日志记录</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_zh.html#id12">批处理示例</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_zh.html#id13">常见问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli_zh.html#id14">下一步</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API 参考</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="habit.core.html">habit.core package</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="habit.core.html#habit.core.HabitatAnalysis"><code class="docutils literal notranslate"><span class="pre">HabitatAnalysis</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="habit.core.html#habit.core.HabitatAnalysis.images_paths"><code class="docutils literal notranslate"><span class="pre">HabitatAnalysis.images_paths</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.core.html#habit.core.HabitatAnalysis.mask_paths"><code class="docutils literal notranslate"><span class="pre">HabitatAnalysis.mask_paths</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.core.html#habit.core.HabitatAnalysis.results_df"><code class="docutils literal notranslate"><span class="pre">HabitatAnalysis.results_df</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.core.html#habit.core.HabitatAnalysis.run"><code class="docutils literal notranslate"><span class="pre">HabitatAnalysis.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.core.html#habit.core.HabitatAnalysis.supervoxel2habitat_clustering"><code class="docutils literal notranslate"><span class="pre">HabitatAnalysis.supervoxel2habitat_clustering</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="habit.core.html#habit.core.HabitatFeatureExtractor"><code class="docutils literal notranslate"><span class="pre">HabitatFeatureExtractor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="habit.core.html#habit.core.Modeling"><code class="docutils literal notranslate"><span class="pre">Modeling</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="habit.core.html#habit.core.get_available_classes"><code class="docutils literal notranslate"><span class="pre">get_available_classes()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="habit.core.html#habit.core.get_import_errors"><code class="docutils literal notranslate"><span class="pre">get_import_errors()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="habit.core.html#habit.core.is_class_available"><code class="docutils literal notranslate"><span class="pre">is_class_available()</span></code></a></li>
<li class="toctree-l3 current"><a class="reference internal" href="habit.core.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">habit.core.habitat_analysis package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="habit.utils.html">habit.utils package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="habit.utils.html#habit.utils.ParallelProcessor"><code class="docutils literal notranslate"><span class="pre">ParallelProcessor</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#habit.utils.ParallelProcessor.map"><code class="docutils literal notranslate"><span class="pre">ParallelProcessor.map()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="habit.utils.html#habit.utils.ProcessingResult"><code class="docutils literal notranslate"><span class="pre">ProcessingResult</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#habit.utils.ProcessingResult.item_id"><code class="docutils literal notranslate"><span class="pre">ProcessingResult.item_id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#habit.utils.ProcessingResult.result"><code class="docutils literal notranslate"><span class="pre">ProcessingResult.result</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#habit.utils.ProcessingResult.error"><code class="docutils literal notranslate"><span class="pre">ProcessingResult.error</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#habit.utils.ProcessingResult.success"><code class="docutils literal notranslate"><span class="pre">ProcessingResult.success</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#id0"><code class="docutils literal notranslate"><span class="pre">ProcessingResult.error</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#id1"><code class="docutils literal notranslate"><span class="pre">ProcessingResult.item_id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#id2"><code class="docutils literal notranslate"><span class="pre">ProcessingResult.result</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#id3"><code class="docutils literal notranslate"><span class="pre">ProcessingResult.success</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#habit.utils.ProcessingResult.unwrap"><code class="docutils literal notranslate"><span class="pre">ProcessingResult.unwrap()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="habit.utils.html#habit.utils.parallel_map"><code class="docutils literal notranslate"><span class="pre">parallel_map()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="habit.utils.html#habit.utils.parallel_map_simple"><code class="docutils literal notranslate"><span class="pre">parallel_map_simple()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="habit.utils.html#module-habit.utils.dicom_utils">Submodules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#habit.utils.dicom_utils.batch_read_dicom_info"><code class="docutils literal notranslate"><span class="pre">batch_read_dicom_info()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#habit.utils.dicom_utils.get_dicom_files"><code class="docutils literal notranslate"><span class="pre">get_dicom_files()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#habit.utils.dicom_utils.get_one_dicom_per_folder"><code class="docutils literal notranslate"><span class="pre">get_one_dicom_per_folder()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#habit.utils.dicom_utils.list_available_tags"><code class="docutils literal notranslate"><span class="pre">list_available_tags()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#habit.utils.dicom_utils.read_dicom_tags"><code class="docutils literal notranslate"><span class="pre">read_dicom_tags()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#habit.utils.image_converter.ImageConverter"><code class="docutils literal notranslate"><span class="pre">ImageConverter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#habit.utils.visualization.plot_cluster_results"><code class="docutils literal notranslate"><span class="pre">plot_cluster_results()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#habit.utils.visualization.plot_cluster_scores"><code class="docutils literal notranslate"><span class="pre">plot_cluster_scores()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#habit.utils.visualization.plot_elbow_curve"><code class="docutils literal notranslate"><span class="pre">plot_elbow_curve()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#habit.utils.visualization.plot_multiple_scores"><code class="docutils literal notranslate"><span class="pre">plot_multiple_scores()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#habit.utils.dice_calculator.compute_dice"><code class="docutils literal notranslate"><span class="pre">compute_dice()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="habit.utils.html#habit.utils.dice_calculator.run_dice_calculation"><code class="docutils literal notranslate"><span class="pre">run_dice_calculation()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#main-modules">Main Modules</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">开发与架构</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">开发指南</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/architecture.html">架构设计</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/architecture.html#id2">核心模块</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../development/architecture.html#habitat-analysis">Habitat Analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../development/architecture.html#machine-learning">Machine Learning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../development/architecture.html#preprocessing">Preprocessing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../development/architecture.html#common">Common</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../development/architecture.html#id3">设计模式</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../development/architecture.html#strategy-pattern">策略模式 (Strategy Pattern)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../development/architecture.html#factory-pattern">工厂模式 (Factory Pattern)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../development/architecture.html#dependency-injection">依赖注入 (Dependency Injection)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../development/architecture.html#id4">模块依赖关系</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/design_patterns.html">设计模式</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/design_patterns.html#strategy-pattern">策略模式 (Strategy Pattern)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/design_patterns.html#factory-pattern">工厂模式 (Factory Pattern)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/design_patterns.html#dependency-injection">依赖注入 (Dependency Injection)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/design_patterns.html#observer-pattern">观察者模式 (Observer Pattern)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/design_patterns.html#template-method-pattern">模板方法模式 (Template Method Pattern)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/design_patterns.html#adapter-pattern">适配器模式 (Adapter Pattern)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/testing.html">测试指南</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/testing.html#id2">运行测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/testing.html#id3">编写测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/testing.html#fixtures">使用 Fixtures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/testing.html#id4">测试最佳实践</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/testing.html#id5">持续集成</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/contributing.html">贡献指南</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/contributing.html#id2">如何贡献</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../development/contributing.html#bug">报告 Bug</a></li>
<li class="toctree-l4"><a class="reference internal" href="../development/contributing.html#id3">提交代码</a></li>
<li class="toctree-l4"><a class="reference internal" href="../development/contributing.html#id4">代码规范</a></li>
<li class="toctree-l4"><a class="reference internal" href="../development/contributing.html#id5">文档贡献</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../development/contributing.html#id6">开发环境设置</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/contributing.html#pull-request">提交 Pull Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/contributing.html#id7">行为准则</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../algorithms/index.html">算法参考</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../algorithms/clustering.html">聚类算法</a></li>
<li class="toctree-l2"><a class="reference internal" href="../algorithms/clustering.html#id2">支持的聚类算法</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../algorithms/clustering.html#k-means">K-Means</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../algorithms/clustering.html#habit.core.habitat_analysis.algorithms.kmeans_clustering.KMeansClustering"><code class="docutils literal notranslate"><span class="pre">KMeansClustering</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../algorithms/clustering.html#gmm-gaussian-mixture-model">GMM (Gaussian Mixture Model)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../algorithms/clustering.html#habit.core.habitat_analysis.algorithms.gmm_clustering.GMMClustering"><code class="docutils literal notranslate"><span class="pre">GMMClustering</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../algorithms/clustering.html#id3">层次聚类</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../algorithms/clustering.html#habit.core.habitat_analysis.algorithms.hierarchical_clustering.HierarchicalClustering"><code class="docutils literal notranslate"><span class="pre">HierarchicalClustering</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../algorithms/clustering.html#dbscan">DBSCAN</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../algorithms/clustering.html#habit.core.habitat_analysis.algorithms.dbscan_clustering.DBSCANClustering"><code class="docutils literal notranslate"><span class="pre">DBSCANClustering</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../algorithms/clustering.html#spectral-clustering">Spectral Clustering</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../algorithms/clustering.html#habit.core.habitat_analysis.algorithms.spectral_clustering.SpectralClustering"><code class="docutils literal notranslate"><span class="pre">SpectralClustering</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../algorithms/clustering.html#mean-shift">Mean Shift</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../algorithms/clustering.html#habit.core.habitat_analysis.algorithms.mean_shift_clustering.MeanShiftClustering"><code class="docutils literal notranslate"><span class="pre">MeanShiftClustering</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../algorithms/clustering.html#affinity-propagation">Affinity Propagation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../algorithms/clustering.html#habit.core.habitat_analysis.algorithms.affinity_propagation.AffinityPropagationClustering"><code class="docutils literal notranslate"><span class="pre">AffinityPropagationClustering</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../algorithms/feature_extraction.html">特征提取</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../algorithms/feature_extraction.html#id2">特征提取器</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../algorithms/feature_extraction.html#mean-voxel-features">Mean Voxel Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../algorithms/feature_extraction.html#kinetic-features">Kinetic Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../algorithms/feature_extraction.html#local-entropy-features">Local Entropy Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../algorithms/feature_extraction.html#voxel-radiomics-features">Voxel Radiomics Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../algorithms/feature_extraction.html#supervoxel-radiomics-features">Supervoxel Radiomics Features</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../algorithms/feature_extraction.html#id3">自定义特征提取器</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../algorithms/validation_methods.html">验证方法</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../algorithms/validation_methods.html#id2">聚类验证指标</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../algorithms/validation_methods.html#silhouette-score">Silhouette Score</a></li>
<li class="toctree-l4"><a class="reference internal" href="../algorithms/validation_methods.html#calinski-harabasz-score">Calinski-Harabasz Score</a></li>
<li class="toctree-l4"><a class="reference internal" href="../algorithms/validation_methods.html#davies-bouldin-score">Davies-Bouldin Score</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../algorithms/validation_methods.html#id3">验证方法选择</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#version-1-0-0-2024-xx-xx">Version 1.0.0 (2024-XX-XX)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#added">Added</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#changed">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../changelog.html#known-issues">Known Issues</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HABIT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="habit.core.html">habit.core package</a></li>
      <li class="breadcrumb-item active">habit.core.habitat_analysis package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/habit.core.habitat_analysis.rst.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-habit.core.habitat_analysis">
<span id="habit-core-habitat-analysis-package"></span><h1>habit.core.habitat_analysis package<a class="headerlink" href="#module-habit.core.habitat_analysis" title="此标题的永久链接"></a></h1>
<p>Habitat Analysis module for HABIT package.</p>
<p>This module provides:
- HabitatAnalysis: Main class for habitat clustering analysis
- Configuration schemas: HabitatAnalysisConfig, ResultColumns
- Analyzer classes: HabitatMapAnalyzer (formerly HabitatFeatureExtractor)</p>
<dl class="py class">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.BasePipelineStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.</span></span><span class="sig-name descname"><span class="pre">BasePipelineStep</span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/base_pipeline.html#BasePipelineStep"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.BasePipelineStep" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerMixin</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>Base class for all pipeline steps.</p>
<p>Follows sklearn interface: fit() and transform()
All steps should inherit from this class and implement the abstract methods.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.BasePipelineStep.fitted_">
<span class="sig-name descname"><span class="pre">fitted_</span></span><a class="headerlink" href="#habit.core.habitat_analysis.BasePipelineStep.fitted_" title="永久链接至目标"></a></dt>
<dd><p>bool indicating whether the step has been fitted</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.BasePipelineStep.fit">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fit_params</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.BasePipelineStep" title="habit.core.habitat_analysis.pipelines.base_pipeline.BasePipelineStep"><span class="pre">BasePipelineStep</span></a></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/base_pipeline.html#BasePipelineStep.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.BasePipelineStep.fit" title="永久链接至目标"></a></dt>
<dd><p>Fit the step on training data.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Input data (can be DataFrame, dict, or other types depending on step)</p></li>
<li><p><strong>y</strong> – Optional target data</p></li>
<li><p><strong>**fit_params</strong> – Additional fitting parameters</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.BasePipelineStep.fit_transform">
<span class="sig-name descname"><span class="pre">fit_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fit_params</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/base_pipeline.html#BasePipelineStep.fit_transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.BasePipelineStep.fit_transform" title="永久链接至目标"></a></dt>
<dd><p>Fit and transform in one call.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Input data</p></li>
<li><p><strong>y</strong> – Optional target data</p></li>
<li><p><strong>**fit_params</strong> – Additional fitting parameters</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Transformed data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.BasePipelineStep.transform">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/base_pipeline.html#BasePipelineStep.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.BasePipelineStep.transform" title="永久链接至目标"></a></dt>
<dd><p>Transform data using fitted parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>X</strong> – Input data</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Transformed data</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.GroupPreprocessingStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.</span></span><span class="sig-name descname"><span class="pre">GroupPreprocessingStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">methods</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/group_preprocessing.html#GroupPreprocessingStep"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.GroupPreprocessingStep" title="永久链接至目标"></a></dt>
<dd><p>基类：<a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.BasePipelineStep" title="habit.core.habitat_analysis.pipelines.base_pipeline.BasePipelineStep"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasePipelineStep</span></code></a></p>
<p>Group-level preprocessing using PreprocessingState.</p>
<p>Stateful: fit() learns statistics from training data, transform() applies to new data.</p>
<p>Note: This step manages PreprocessingState internally, no need for external Mode classes.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.GroupPreprocessingStep.preprocessing_state">
<span class="sig-name descname"><span class="pre">preprocessing_state</span></span><a class="headerlink" href="#habit.core.habitat_analysis.GroupPreprocessingStep.preprocessing_state" title="永久链接至目标"></a></dt>
<dd><p>PreprocessingState instance for managing group-level statistics</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.GroupPreprocessingStep.methods">
<span class="sig-name descname"><span class="pre">methods</span></span><a class="headerlink" href="#habit.core.habitat_analysis.GroupPreprocessingStep.methods" title="永久链接至目标"></a></dt>
<dd><p>List of preprocessing method configurations</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.GroupPreprocessingStep.out_dir">
<span class="sig-name descname"><span class="pre">out_dir</span></span><a class="headerlink" href="#habit.core.habitat_analysis.GroupPreprocessingStep.out_dir" title="永久链接至目标"></a></dt>
<dd><p>Output directory for saving state (if needed)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.GroupPreprocessingStep.fitted_">
<span class="sig-name descname"><span class="pre">fitted_</span></span><a class="headerlink" href="#habit.core.habitat_analysis.GroupPreprocessingStep.fitted_" title="永久链接至目标"></a></dt>
<dd><p>bool indicating whether the step has been fitted</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.GroupPreprocessingStep.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fit_params</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.GroupPreprocessingStep" title="habit.core.habitat_analysis.pipelines.steps.group_preprocessing.GroupPreprocessingStep"><span class="pre">GroupPreprocessingStep</span></a></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/group_preprocessing.html#GroupPreprocessingStep.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.GroupPreprocessingStep.fit" title="永久链接至目标"></a></dt>
<dd><p>Fit preprocessing state on data (learn statistics).</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Combined supervoxel features DataFrame</p></li>
<li><p><strong>y</strong> – Optional target data (not used)</p></li>
<li><p><strong>**fit_params</strong> – Additional fitting parameters (not used)</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.GroupPreprocessingStep.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/group_preprocessing.html#GroupPreprocessingStep.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.GroupPreprocessingStep.transform" title="永久链接至目标"></a></dt>
<dd><p>Transform using fitted preprocessing state.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>X</strong> – Supervoxel features DataFrame</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Preprocessed DataFrame</p>
</dd>
<dt class="field-odd">抛出<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If step has not been fitted</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysis">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.</span></span><span class="sig-name descname"><span class="pre">HabitatAnalysis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.HabitatAnalysisConfig" title="habit.core.habitat_analysis.config_schemas.HabitatAnalysisConfig"><span class="pre">HabitatAnalysisConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.managers.FeatureManager" title="habit.core.habitat_analysis.managers.feature_manager.FeatureManager"><span class="pre">FeatureManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">clustering_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.managers.ClusteringManager" title="habit.core.habitat_analysis.managers.clustering_manager.ClusteringManager"><span class="pre">ClusteringManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">result_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.managers.ResultManager" title="habit.core.habitat_analysis.managers.result_manager.ResultManager"><span class="pre">ResultManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/habitat_analysis.html#HabitatAnalysis"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysis" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Habitat Analysis class for performing clustering analysis on medical images.</p>
<p>Acts as a coordinator for FeatureManager, ClusteringManager, and ResultManager.</p>
<p>Note: Dependencies should be provided via ServiceConfigurator or explicitly.</p>
<dl class="py property">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysis.images_paths">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">images_paths</span></span><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysis.images_paths" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysis.mask_paths">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mask_paths</span></span><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysis.mask_paths" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysis.results_df">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">results_df</span></span><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysis.results_df" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysis.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subjects</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_results_csv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/habitat_analysis.html#HabitatAnalysis.run"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysis.run" title="永久链接至目标"></a></dt>
<dd><p>Run the habitat clustering pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subjects</strong> – List of subjects to process (None = all subjects)</p></li>
<li><p><strong>save_results_csv</strong> – Whether to save results as CSV files (defaults to config.save_results_csv)</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame with habitat clustering results</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysis.supervoxel2habitat_clustering">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">supervoxel2habitat_clustering</span></span><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysis.supervoxel2habitat_clustering" title="永久链接至目标"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysisConfig">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.</span></span><span class="sig-name descname"><span class="pre">HabitatAnalysisConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'train'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'predict'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'train'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pipeline_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">FeatureConstruction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FeatureConstructionConfig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">HabitatsSegmention</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">HabitatsSegmentionConfig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_curves</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_images</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_results_csv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">42</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/config_schemas.html#HabitatAnalysisConfig"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysisConfig" title="永久链接至目标"></a></dt>
<dd><p>基类：<a class="reference internal" href="common.html#habit.core.common.BaseConfig" title="habit.core.common.config_base.BaseConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseConfig</span></code></a></p>
<p>Root model for the entire habitat analysis configuration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysisConfig.FeatureConstruction">
<span class="sig-name descname"><span class="pre">FeatureConstruction</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">FeatureConstructionConfig</span></em><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysisConfig.FeatureConstruction" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysisConfig.HabitatsSegmention">
<span class="sig-name descname"><span class="pre">HabitatsSegmention</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">HabitatsSegmentionConfig</span></em><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysisConfig.HabitatsSegmention" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysisConfig.config_file">
<span class="sig-name descname"><span class="pre">config_file</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysisConfig.config_file" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysisConfig.data_dir">
<span class="sig-name descname"><span class="pre">data_dir</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysisConfig.data_dir" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysisConfig.debug">
<span class="sig-name descname"><span class="pre">debug</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysisConfig.debug" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysisConfig.model_computed_fields">
<span class="sig-name descname"><span class="pre">model_computed_fields</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ComputedFieldInfo</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysisConfig.model_computed_fields" title="永久链接至目标"></a></dt>
<dd><p>A dictionary of computed field names and their corresponding <cite>ComputedFieldInfo</cite> objects.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysisConfig.model_config">
<span class="sig-name descname"><span class="pre">model_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">ConfigDict</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'extra':</span> <span class="pre">'forbid',</span> <span class="pre">'use_enum_values':</span> <span class="pre">True,</span> <span class="pre">'validate_assignment':</span> <span class="pre">True}</span></em><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysisConfig.model_config" title="永久链接至目标"></a></dt>
<dd><p>Configuration for the model, should be a dictionary conforming to [<cite>ConfigDict</cite>][pydantic.config.ConfigDict].</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysisConfig.model_fields">
<span class="sig-name descname"><span class="pre">model_fields</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'FeatureConstruction':</span> <span class="pre">FieldInfo(annotation=FeatureConstructionConfig,</span> <span class="pre">required=True),</span> <span class="pre">'HabitatsSegmention':</span> <span class="pre">FieldInfo(annotation=HabitatsSegmentionConfig,</span> <span class="pre">required=True),</span> <span class="pre">'config_file':</span> <span class="pre">FieldInfo(annotation=Union[str,</span> <span class="pre">NoneType],</span> <span class="pre">required=False,</span> <span class="pre">description='Path</span> <span class="pre">to</span> <span class="pre">original</span> <span class="pre">config</span> <span class="pre">file.'),</span> <span class="pre">'config_version':</span> <span class="pre">FieldInfo(annotation=Union[str,</span> <span class="pre">NoneType],</span> <span class="pre">required=False),</span> <span class="pre">'data_dir':</span> <span class="pre">FieldInfo(annotation=str,</span> <span class="pre">required=True,</span> <span class="pre">description='Path</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">input</span> <span class="pre">data</span> <span class="pre">directory</span> <span class="pre">or</span> <span class="pre">a</span> <span class="pre">file</span> <span class="pre">list</span> <span class="pre">YAML.'),</span> <span class="pre">'debug':</span> <span class="pre">FieldInfo(annotation=bool,</span> <span class="pre">required=False,</span> <span class="pre">default=False,</span> <span class="pre">description='Enable</span> <span class="pre">debug</span> <span class="pre">mode</span> <span class="pre">for</span> <span class="pre">verbose</span> <span class="pre">logging.'),</span> <span class="pre">'out_dir':</span> <span class="pre">FieldInfo(annotation=str,</span> <span class="pre">required=True,</span> <span class="pre">description='Path</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">output</span> <span class="pre">directory</span> <span class="pre">for</span> <span class="pre">results.'),</span> <span class="pre">'pipeline_path':</span> <span class="pre">FieldInfo(annotation=Union[str,</span> <span class="pre">NoneType],</span> <span class="pre">required=False,</span> <span class="pre">description='Path</span> <span class="pre">to</span> <span class="pre">a</span> <span class="pre">trained</span> <span class="pre">pipeline</span> <span class="pre">file</span> <span class="pre">used</span> <span class="pre">in</span> <span class="pre">predict</span> <span class="pre">mode.'),</span> <span class="pre">'plot_curves':</span> <span class="pre">FieldInfo(annotation=bool,</span> <span class="pre">required=False,</span> <span class="pre">default=True,</span> <span class="pre">description='Whether</span> <span class="pre">to</span> <span class="pre">generate</span> <span class="pre">and</span> <span class="pre">save</span> <span class="pre">plots.'),</span> <span class="pre">'processes':</span> <span class="pre">FieldInfo(annotation=int,</span> <span class="pre">required=False,</span> <span class="pre">default=2,</span> <span class="pre">description='Number</span> <span class="pre">of</span> <span class="pre">parallel</span> <span class="pre">processes</span> <span class="pre">to</span> <span class="pre">use.',</span> <span class="pre">metadata=[Gt(gt=0)]),</span> <span class="pre">'random_state':</span> <span class="pre">FieldInfo(annotation=int,</span> <span class="pre">required=False,</span> <span class="pre">default=42,</span> <span class="pre">description='Global</span> <span class="pre">random</span> <span class="pre">seed</span> <span class="pre">for</span> <span class="pre">reproducibility.'),</span> <span class="pre">'run_mode':</span> <span class="pre">FieldInfo(annotation=Literal['train',</span> <span class="pre">'predict'],</span> <span class="pre">required=False,</span> <span class="pre">default='train',</span> <span class="pre">description='Run</span> <span class="pre">mode</span> <span class="pre">for</span> <span class="pre">habitat</span> <span class="pre">analysis:</span> <span class="pre">train</span> <span class="pre">or</span> <span class="pre">predict.'),</span> <span class="pre">'save_images':</span> <span class="pre">FieldInfo(annotation=bool,</span> <span class="pre">required=False,</span> <span class="pre">default=True,</span> <span class="pre">description='Whether</span> <span class="pre">to</span> <span class="pre">save</span> <span class="pre">any</span> <span class="pre">output</span> <span class="pre">images</span> <span class="pre">during</span> <span class="pre">runs.'),</span> <span class="pre">'save_results_csv':</span> <span class="pre">FieldInfo(annotation=bool,</span> <span class="pre">required=False,</span> <span class="pre">default=True,</span> <span class="pre">description='Whether</span> <span class="pre">to</span> <span class="pre">save</span> <span class="pre">results</span> <span class="pre">as</span> <span class="pre">CSV</span> <span class="pre">files.'),</span> <span class="pre">'verbose':</span> <span class="pre">FieldInfo(annotation=bool,</span> <span class="pre">required=False,</span> <span class="pre">default=True,</span> <span class="pre">description='Whether</span> <span class="pre">to</span> <span class="pre">output</span> <span class="pre">detailed</span> <span class="pre">logs.')}</span></em><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysisConfig.model_fields" title="永久链接至目标"></a></dt>
<dd><p>Metadata about the fields defined on the model,
mapping of field names to [<cite>FieldInfo</cite>][pydantic.fields.FieldInfo].</p>
<p>This replaces <cite>Model.__fields__</cite> from Pydantic V1.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysisConfig.out_dir">
<span class="sig-name descname"><span class="pre">out_dir</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysisConfig.out_dir" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysisConfig.pipeline_path">
<span class="sig-name descname"><span class="pre">pipeline_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysisConfig.pipeline_path" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysisConfig.plot_curves">
<span class="sig-name descname"><span class="pre">plot_curves</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysisConfig.plot_curves" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysisConfig.processes">
<span class="sig-name descname"><span class="pre">processes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysisConfig.processes" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysisConfig.random_state">
<span class="sig-name descname"><span class="pre">random_state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysisConfig.random_state" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysisConfig.run_mode">
<span class="sig-name descname"><span class="pre">run_mode</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'train'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'predict'</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysisConfig.run_mode" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysisConfig.save_images">
<span class="sig-name descname"><span class="pre">save_images</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysisConfig.save_images" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysisConfig.save_results_csv">
<span class="sig-name descname"><span class="pre">save_results_csv</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysisConfig.save_results_csv" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatAnalysisConfig.verbose">
<span class="sig-name descname"><span class="pre">verbose</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#habit.core.habitat_analysis.HabitatAnalysisConfig.verbose" title="永久链接至目标"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatFeatureExtractor">
<span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.</span></span><span class="sig-name descname"><span class="pre">HabitatFeatureExtractor</span></span><a class="headerlink" href="#habit.core.habitat_analysis.HabitatFeatureExtractor" title="永久链接至目标"></a></dt>
<dd><p><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.HabitatMapAnalyzer" title="habit.core.habitat_analysis.analyzers.habitat_analyzer.HabitatMapAnalyzer"><code class="xref py py-class docutils literal notranslate"><span class="pre">HabitatMapAnalyzer</span></code></a> 的别名</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatMapAnalyzer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.</span></span><span class="sig-name descname"><span class="pre">HabitatMapAnalyzer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params_file_of_non_habitat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_file_of_habitat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_img_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">habitats_map_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_processes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">habitat_pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_cutoff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/analyzers/habitat_analyzer.html#HabitatMapAnalyzer"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.HabitatMapAnalyzer" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Habitat Map Analyzer Class (Refactored)</p>
<p>This class provides functionality for extracting various features from habitat maps:
1. Radiomic features of raw images within different habitats
2. Radiomic features of habitats within the entire ROI
3. Number of disconnected regions and volume percentage for each habitat
4. MSI (Mutual Spatial Integrity) features from habitat maps
5. ITH (Intratumoral Heterogeneity) index from habitat maps</p>
<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatMapAnalyzer.extract_features">
<span class="sig-name descname"><span class="pre">extract_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">images_paths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">habitat_paths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/analyzers/habitat_analyzer.html#HabitatMapAnalyzer.extract_features"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.HabitatMapAnalyzer.extract_features" title="永久链接至目标"></a></dt>
<dd><p>Extract habitat features for all subjects</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatMapAnalyzer.get_mask_and_raw_files">
<span class="sig-name descname"><span class="pre">get_mask_and_raw_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/analyzers/habitat_analyzer.html#HabitatMapAnalyzer.get_mask_and_raw_files"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.HabitatMapAnalyzer.get_mask_and_raw_files" title="永久链接至目标"></a></dt>
<dd><p>Get paths to all original images and habitat maps</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatMapAnalyzer.process_subject">
<span class="sig-name descname"><span class="pre">process_subject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">images_paths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">habitat_paths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/analyzers/habitat_analyzer.html#HabitatMapAnalyzer.process_subject"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.HabitatMapAnalyzer.process_subject" title="永久链接至目标"></a></dt>
<dd><p>Process a single subject for habitat feature extraction</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatMapAnalyzer.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_types</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_habitats</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/analyzers/habitat_analyzer.html#HabitatMapAnalyzer.run"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.HabitatMapAnalyzer.run" title="永久链接至目标"></a></dt>
<dd><p>Run the complete analysis pipeline</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>feature_types</strong> – Types of features to extract</p></li>
<li><p><strong>n_habitats</strong> – Number of habitats to process (None for auto detection)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatPipeline">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.</span></span><span class="sig-name descname"><span class="pre">HabitatPipeline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.BasePipelineStep" title="habit.core.habitat_analysis.pipelines.base_pipeline.BasePipelineStep"><span class="pre">BasePipelineStep</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_from</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/base_pipeline.html#HabitatPipeline"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.HabitatPipeline" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Main pipeline for habitat analysis.</p>
<p>Similar to sklearn Pipeline but adapted for habitat-specific workflow.</p>
<p>Follows sklearn design philosophy:
- fit() for training: learn parameters and save state
- transform() for testing: use saved state to transform data
- No mode parameter needed: state is managed via <a href="#id1"><span class="problematic" id="id2">fitted_</span></a> attribute</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatPipeline.steps">
<span class="sig-name descname"><span class="pre">steps</span></span><a class="headerlink" href="#habit.core.habitat_analysis.HabitatPipeline.steps" title="永久链接至目标"></a></dt>
<dd><p>List of (name, step) tuples</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatPipeline.config">
<span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#habit.core.habitat_analysis.HabitatPipeline.config" title="永久链接至目标"></a></dt>
<dd><p>Configuration object</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatPipeline.fitted_">
<span class="sig-name descname"><span class="pre">fitted_</span></span><a class="headerlink" href="#habit.core.habitat_analysis.HabitatPipeline.fitted_" title="永久链接至目标"></a></dt>
<dd><p>bool indicating whether the pipeline has been fitted</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatPipeline.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_train</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fit_params</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.HabitatPipeline" title="habit.core.habitat_analysis.pipelines.base_pipeline.HabitatPipeline"><span class="pre">HabitatPipeline</span></a></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/base_pipeline.html#HabitatPipeline.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.HabitatPipeline.fit" title="永久链接至目标"></a></dt>
<dd><p>Fit pipeline on training data.</p>
<p>Sequentially fits each step, passing the output of one step as input to the next.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X_train</strong> – Training data (dict of subject_id -&gt; image/mask paths or features)</p></li>
<li><p><strong>y</strong> – Optional target data</p></li>
<li><p><strong>**fit_params</strong> – Additional fitting parameters</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>self</p>
</dd>
<dt class="field-odd">抛出<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If pipeline is already fitted</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatPipeline.fit_transform">
<span class="sig-name descname"><span class="pre">fit_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fit_params</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/base_pipeline.html#HabitatPipeline.fit_transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.HabitatPipeline.fit_transform" title="永久链接至目标"></a></dt>
<dd><p>Fit and transform in one call.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Input data</p></li>
<li><p><strong>y</strong> – Optional target data</p></li>
<li><p><strong>**fit_params</strong> – Additional fitting parameters</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Transformed data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatPipeline.load">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.HabitatPipeline" title="habit.core.habitat_analysis.pipelines.base_pipeline.HabitatPipeline"><span class="pre">HabitatPipeline</span></a></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/base_pipeline.html#HabitatPipeline.load"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.HabitatPipeline.load" title="永久链接至目标"></a></dt>
<dd><p>Load pipeline from disk.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filepath</strong> – Path to saved pipeline</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Loaded HabitatPipeline instance</p>
</dd>
<dt class="field-odd">抛出<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>FileNotFoundError</strong> – If file doesn’t exist</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatPipeline.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/base_pipeline.html#HabitatPipeline.save"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.HabitatPipeline.save" title="永久链接至目标"></a></dt>
<dd><p>Save fitted pipeline to disk.</p>
<p>Uses joblib to serialize the entire pipeline including all fitted steps.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filepath</strong> – Path to save pipeline</p>
</dd>
<dt class="field-even">抛出<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If pipeline has not been fitted</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.HabitatPipeline.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_test</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/base_pipeline.html#HabitatPipeline.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.HabitatPipeline.transform" title="永久链接至目标"></a></dt>
<dd><p>Transform test data using fitted pipeline.</p>
<p>Sequentially transforms data through each step using the fitted state.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>X_test</strong> – Test data (dict of subject_id -&gt; image/mask paths or features)</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Results DataFrame with habitat labels</p>
</dd>
<dt class="field-odd">抛出<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If pipeline has not been fitted</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.PopulationClusteringStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.</span></span><span class="sig-name descname"><span class="pre">PopulationClusteringStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clustering_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.HabitatAnalysisConfig" title="habit.core.habitat_analysis.config_schemas.HabitatAnalysisConfig"><span class="pre">HabitatAnalysisConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/population_clustering.html#PopulationClusteringStep"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.PopulationClusteringStep" title="永久链接至目标"></a></dt>
<dd><p>基类：<a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.BasePipelineStep" title="habit.core.habitat_analysis.pipelines.base_pipeline.BasePipelineStep"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasePipelineStep</span></code></a></p>
<p>Population-level clustering (supervoxel → habitat).</p>
<p>Stateful: fit() trains clustering model, transform() applies to new data.</p>
<p>Note: This step manages clustering model internally, no need for external Mode classes.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.PopulationClusteringStep.clustering_manager">
<span class="sig-name descname"><span class="pre">clustering_manager</span></span><a class="headerlink" href="#habit.core.habitat_analysis.PopulationClusteringStep.clustering_manager" title="永久链接至目标"></a></dt>
<dd><p>ClusteringManager instance (for accessing algorithm instances)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.PopulationClusteringStep.config">
<span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#habit.core.habitat_analysis.PopulationClusteringStep.config" title="永久链接至目标"></a></dt>
<dd><p>Configuration object</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.PopulationClusteringStep.out_dir">
<span class="sig-name descname"><span class="pre">out_dir</span></span><a class="headerlink" href="#habit.core.habitat_analysis.PopulationClusteringStep.out_dir" title="永久链接至目标"></a></dt>
<dd><p>Output directory for saving model (if needed)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.PopulationClusteringStep.clustering_model">
<span class="sig-name descname"><span class="pre">clustering_model</span></span><a class="headerlink" href="#habit.core.habitat_analysis.PopulationClusteringStep.clustering_model" title="永久链接至目标"></a></dt>
<dd><p>Fitted clustering model</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.PopulationClusteringStep.optimal_n_clusters_">
<span class="sig-name descname"><span class="pre">optimal_n_clusters_</span></span><a class="headerlink" href="#habit.core.habitat_analysis.PopulationClusteringStep.optimal_n_clusters_" title="永久链接至目标"></a></dt>
<dd><p>Optimal number of clusters found during fit</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.PopulationClusteringStep.fitted_">
<span class="sig-name descname"><span class="pre">fitted_</span></span><a class="headerlink" href="#habit.core.habitat_analysis.PopulationClusteringStep.fitted_" title="永久链接至目标"></a></dt>
<dd><p>bool indicating whether the step has been fitted</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.PopulationClusteringStep.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fit_params</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.PopulationClusteringStep" title="habit.core.habitat_analysis.pipelines.steps.population_clustering.PopulationClusteringStep"><span class="pre">PopulationClusteringStep</span></a></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/population_clustering.html#PopulationClusteringStep.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.PopulationClusteringStep.fit" title="永久链接至目标"></a></dt>
<dd><p>Fit clustering model on data (train model and find optimal clusters).</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Preprocessed supervoxel features DataFrame</p></li>
<li><p><strong>y</strong> – Optional target data (not used)</p></li>
<li><p><strong>**fit_params</strong> – Additional fitting parameters (not used)</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.PopulationClusteringStep.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/population_clustering.html#PopulationClusteringStep.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.PopulationClusteringStep.transform" title="永久链接至目标"></a></dt>
<dd><p>Apply fitted clustering model to new data.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>X</strong> – Preprocessed supervoxel features DataFrame</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame with habitat labels added</p>
</dd>
<dt class="field-odd">抛出<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If step has not been fitted</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.ResultColumns">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.</span></span><span class="sig-name descname"><span class="pre">ResultColumns</span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/config_schemas.html#ResultColumns"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.ResultColumns" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Centralized column name definitions for pipeline outputs.</p>
<p>This avoids magic strings across the codebase and keeps feature/metadata
column handling consistent in all pipeline steps and managers.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.ResultColumns.COUNT">
<span class="sig-name descname"><span class="pre">COUNT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Count'</span></em><a class="headerlink" href="#habit.core.habitat_analysis.ResultColumns.COUNT" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.ResultColumns.HABITATS">
<span class="sig-name descname"><span class="pre">HABITATS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Habitats'</span></em><a class="headerlink" href="#habit.core.habitat_analysis.ResultColumns.HABITATS" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.ResultColumns.ORIGINAL_SUFFIX">
<span class="sig-name descname"><span class="pre">ORIGINAL_SUFFIX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'-original'</span></em><a class="headerlink" href="#habit.core.habitat_analysis.ResultColumns.ORIGINAL_SUFFIX" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.ResultColumns.SUBJECT">
<span class="sig-name descname"><span class="pre">SUBJECT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Subject'</span></em><a class="headerlink" href="#habit.core.habitat_analysis.ResultColumns.SUBJECT" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.ResultColumns.SUPERVOXEL">
<span class="sig-name descname"><span class="pre">SUPERVOXEL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Supervoxel'</span></em><a class="headerlink" href="#habit.core.habitat_analysis.ResultColumns.SUPERVOXEL" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.ResultColumns.is_feature_column">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_feature_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/config_schemas.html#ResultColumns.is_feature_column"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.ResultColumns.is_feature_column" title="永久链接至目标"></a></dt>
<dd><p>Check if a column name represents a feature (not metadata).</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>col_name</strong> – Column name to check</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the column is a feature column</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.ResultColumns.metadata_columns">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metadata_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/config_schemas.html#ResultColumns.metadata_columns"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.ResultColumns.metadata_columns" title="永久链接至目标"></a></dt>
<dd><p>Return list of metadata column names (non-feature columns).</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>Columns that are metadata and should not be treated as features</p>
</dd>
<dt class="field-even">返回类型<span class="colon">:</span></dt>
<dd class="field-even"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.build_habitat_pipeline">
<span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.</span></span><span class="sig-name descname"><span class="pre">build_habitat_pipeline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.HabitatAnalysisConfig" title="habit.core.habitat_analysis.config_schemas.HabitatAnalysisConfig"><span class="pre">HabitatAnalysisConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.managers.FeatureManager" title="habit.core.habitat_analysis.managers.feature_manager.FeatureManager"><span class="pre">FeatureManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">clustering_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.managers.ClusteringManager" title="habit.core.habitat_analysis.managers.clustering_manager.ClusteringManager"><span class="pre">ClusteringManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">result_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.managers.ResultManager" title="habit.core.habitat_analysis.managers.result_manager.ResultManager"><span class="pre">ResultManager</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_from</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.HabitatPipeline" title="habit.core.habitat_analysis.pipelines.base_pipeline.HabitatPipeline"><span class="pre">HabitatPipeline</span></a></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/pipeline_builder.html#build_habitat_pipeline"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.build_habitat_pipeline" title="永久链接至目标"></a></dt>
<dd><p>Build habitat analysis pipeline based on strategy.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> – Configuration object</p></li>
<li><p><strong>feature_manager</strong> – FeatureManager instance</p></li>
<li><p><strong>clustering_manager</strong> – ClusteringManager instance</p></li>
<li><p><strong>result_manager</strong> – ResultManager instance (optional, needed for saving supervoxel maps)</p></li>
<li><p><strong>load_from</strong> – Optional path to load saved pipeline</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Configured HabitatPipeline for the specified strategy</p>
</dd>
</dl>
<p>Note: No mode_handler needed - Pipeline Steps manage their own state internally.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.get_available_classes">
<span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.</span></span><span class="sig-name descname"><span class="pre">get_available_classes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis.html#get_available_classes"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.get_available_classes" title="永久链接至目标"></a></dt>
<dd><p>Get dictionary of successfully imported classes.</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary mapping class names to their classes</p>
</dd>
<dt class="field-even">返回类型<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.get_import_errors">
<span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.</span></span><span class="sig-name descname"><span class="pre">get_import_errors</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis.html#get_import_errors"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.get_import_errors" title="永久链接至目标"></a></dt>
<dd><p>Get dictionary of import errors that occurred during module loading.</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary mapping class names to error messages</p>
</dd>
<dt class="field-even">返回类型<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.is_class_available">
<span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.</span></span><span class="sig-name descname"><span class="pre">is_class_available</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">class_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis.html#is_class_available"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.is_class_available" title="永久链接至目标"></a></dt>
<dd><p>Check if a specific class is available.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>class_name</strong> (<em>str</em>) – Name of the class to check</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>True if class is available, False otherwise</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<section id="module-habit.core.habitat_analysis.managers">
<span id="managers"></span><h2>Managers<a class="headerlink" href="#module-habit.core.habitat_analysis.managers" title="此标题的永久链接"></a></h2>
<p>Managers for Habitat Analysis.</p>
<dl class="py class">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.ClusteringManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.managers.</span></span><span class="sig-name descname"><span class="pre">ClusteringManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.HabitatAnalysisConfig" title="habit.core.habitat_analysis.config_schemas.HabitatAnalysisConfig"><span class="pre">HabitatAnalysisConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/clustering_manager.html#ClusteringManager"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.ClusteringManager" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manages clustering operations for habitat analysis.</p>
<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.ClusteringManager.cluster_subject_voxels">
<span class="sig-name descname"><span class="pre">cluster_subject_voxels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subject</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_clusters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/clustering_manager.html#ClusteringManager.cluster_subject_voxels"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.ClusteringManager.cluster_subject_voxels" title="永久链接至目标"></a></dt>
<dd><p>Cluster voxels to supervoxels for a single subject.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subject</strong> – Subject ID</p></li>
<li><p><strong>feature_df</strong> – Feature DataFrame</p></li>
<li><p><strong>n_clusters</strong> – Number of clusters (if None, uses config default)</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Array of supervoxel labels (1-indexed)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.ClusteringManager.find_optimal_clusters_for_subject">
<span class="sig-name descname"><span class="pre">find_optimal_clusters_for_subject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subject</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_clusters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_clusters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selection_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_validation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/clustering_manager.html#ClusteringManager.find_optimal_clusters_for_subject"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.ClusteringManager.find_optimal_clusters_for_subject" title="永久链接至目标"></a></dt>
<dd><p>Find optimal number of clusters for a single subject.
Atomic capability for OneStep strategy.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subject</strong> – Subject ID</p></li>
<li><p><strong>feature_df</strong> – Feature DataFrame</p></li>
<li><p><strong>min_clusters</strong> – Minimum number of clusters to try</p></li>
<li><p><strong>max_clusters</strong> – Maximum number of clusters to try</p></li>
<li><p><strong>selection_method</strong> – Validation method to use</p></li>
<li><p><strong>plot_validation</strong> – Whether to plot validation curves</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Optimal number of clusters</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.ClusteringManager.plot_habitat_scores">
<span class="sig-name descname"><span class="pre">plot_habitat_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scores</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimal_n_clusters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/clustering_manager.html#ClusteringManager.plot_habitat_scores"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.ClusteringManager.plot_habitat_scores" title="永久链接至目标"></a></dt>
<dd><p>Plot habitat clustering validation scores.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.ClusteringManager.plot_one_step_validation">
<span class="sig-name descname"><span class="pre">plot_one_step_validation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subject</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scores_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clusterer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selection_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/clustering_manager.html#ClusteringManager.plot_one_step_validation"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.ClusteringManager.plot_one_step_validation" title="永久链接至目标"></a></dt>
<dd><p>Plot validation curves for one-step clustering.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.ClusteringManager.visualize_habitat_clustering">
<span class="sig-name descname"><span class="pre">visualize_habitat_clustering</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">habitat_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimal_n_clusters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subject</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/clustering_manager.html#ClusteringManager.visualize_habitat_clustering"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.ClusteringManager.visualize_habitat_clustering" title="永久链接至目标"></a></dt>
<dd><p>Create visualizations for habitat clustering results.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>features</strong> – Feature matrix used for clustering</p></li>
<li><p><strong>habitat_labels</strong> – Cluster labels for habitats</p></li>
<li><p><strong>optimal_n_clusters</strong> – Selected number of clusters</p></li>
<li><p><strong>subject</strong> – Optional subject ID for one-step clustering visualization</p></li>
<li><p><strong>output_dir</strong> – Optional override for output directory</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.ClusteringManager.visualize_supervoxel_clustering">
<span class="sig-name descname"><span class="pre">visualize_supervoxel_clustering</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subject</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">supervoxel_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/clustering_manager.html#ClusteringManager.visualize_supervoxel_clustering"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.ClusteringManager.visualize_supervoxel_clustering" title="永久链接至目标"></a></dt>
<dd><p>Create visualizations for supervoxel clustering results.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.FeatureManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.managers.</span></span><span class="sig-name descname"><span class="pre">FeatureManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.HabitatAnalysisConfig" title="habit.core.habitat_analysis.config_schemas.HabitatAnalysisConfig"><span class="pre">HabitatAnalysisConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/feature_manager.html#FeatureManager"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.FeatureManager" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manages feature extraction and preprocessing for habitat analysis.</p>
<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.FeatureManager.apply_preprocessing">
<span class="sig-name descname"><span class="pre">apply_preprocessing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/feature_manager.html#FeatureManager.apply_preprocessing"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.FeatureManager.apply_preprocessing" title="永久链接至目标"></a></dt>
<dd><p>Apply preprocessing based on level.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>feature_df</strong> – DataFrame to preprocess</p></li>
<li><p><strong>level</strong> – ‘subject’ for individual level, ‘group’ for population level</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Preprocessed DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.FeatureManager.calculate_supervoxel_means">
<span class="sig-name descname"><span class="pre">calculate_supervoxel_means</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subject</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">supervoxel_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_clusters_supervoxel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/feature_manager.html#FeatureManager.calculate_supervoxel_means"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.FeatureManager.calculate_supervoxel_means" title="永久链接至目标"></a></dt>
<dd><p>Calculate supervoxel-level features (aggregated from voxel features).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.FeatureManager.clean_features">
<span class="sig-name descname"><span class="pre">clean_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/feature_manager.html#FeatureManager.clean_features"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.FeatureManager.clean_features" title="永久链接至目标"></a></dt>
<dd><p>Clean feature DataFrame: handle types, inf, nan values.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.FeatureManager.extract_supervoxel_features">
<span class="sig-name descname"><span class="pre">extract_supervoxel_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subject</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Exception</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/feature_manager.html#FeatureManager.extract_supervoxel_features"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.FeatureManager.extract_supervoxel_features" title="永久链接至目标"></a></dt>
<dd><p>Extract supervoxel-level features from supervoxel maps.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>subject</strong> – Subject ID to process</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (subject_id, features_df or Exception)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.FeatureManager.extract_voxel_features">
<span class="sig-name descname"><span class="pre">extract_voxel_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subject</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/feature_manager.html#FeatureManager.extract_voxel_features"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.FeatureManager.extract_voxel_features" title="永久链接至目标"></a></dt>
<dd><p>Extract voxel-level features for a single subject.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>subject</strong> – Subject ID to process</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (subject_id, feature_df, raw_df, mask_info)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.FeatureManager.set_data_paths">
<span class="sig-name descname"><span class="pre">set_data_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">images_paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/feature_manager.html#FeatureManager.set_data_paths"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.FeatureManager.set_data_paths" title="永久链接至目标"></a></dt>
<dd><p>Set image and mask paths.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.FeatureManager.set_logging_info">
<span class="sig-name descname"><span class="pre">set_logging_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log_file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/feature_manager.html#FeatureManager.set_logging_info"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.FeatureManager.set_logging_info" title="永久链接至目标"></a></dt>
<dd><p>Set logging info for subprocesses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.FeatureManager.setup_supervoxel_files">
<span class="sig-name descname"><span class="pre">setup_supervoxel_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subjects</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">failed_subjects</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/feature_manager.html#FeatureManager.setup_supervoxel_files"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.FeatureManager.setup_supervoxel_files" title="永久链接至目标"></a></dt>
<dd><p>Setup dictionary mapping subjects to supervoxel files.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.ResultManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.managers.</span></span><span class="sig-name descname"><span class="pre">ResultManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.HabitatAnalysisConfig" title="habit.core.habitat_analysis.config_schemas.HabitatAnalysisConfig"><span class="pre">HabitatAnalysisConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/result_manager.html#ResultManager"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.ResultManager" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manages result storage and output for habitat analysis.</p>
<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.ResultManager.save_all_habitat_images">
<span class="sig-name descname"><span class="pre">save_all_habitat_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">failed_subjects</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/result_manager.html#ResultManager.save_all_habitat_images"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.ResultManager.save_all_habitat_images" title="永久链接至目标"></a></dt>
<dd><p>Save habitat images for all successfully processed subjects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.ResultManager.save_habitat_for_subject">
<span class="sig-name descname"><span class="pre">save_habitat_for_subject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subject</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Exception</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/result_manager.html#ResultManager.save_habitat_for_subject"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.ResultManager.save_habitat_for_subject" title="永久链接至目标"></a></dt>
<dd><p>Save habitat image for a single subject.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>subject</strong> – Subject ID</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (subject_id, None or Exception)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.ResultManager.save_habitat_image_from_voxels">
<span class="sig-name descname"><span class="pre">save_habitat_image_from_voxels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subject</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/result_manager.html#ResultManager.save_habitat_image_from_voxels"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.ResultManager.save_habitat_image_from_voxels" title="永久链接至目标"></a></dt>
<dd><p>Save habitat image directly from voxel-level labels.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subject</strong> – Subject ID</p></li>
<li><p><strong>labels</strong> – Voxel-level habitat labels (1-indexed)</p></li>
<li><p><strong>mask_info</strong> – Mask metadata for reconstruction</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.ResultManager.save_supervoxel_image">
<span class="sig-name descname"><span class="pre">save_supervoxel_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subject</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">supervoxel_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/result_manager.html#ResultManager.save_supervoxel_image"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.ResultManager.save_supervoxel_image" title="永久链接至目标"></a></dt>
<dd><p>Save supervoxel labels as an image file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.managers.ResultManager.set_logging_info">
<span class="sig-name descname"><span class="pre">set_logging_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log_file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/managers/result_manager.html#ResultManager.set_logging_info"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.managers.ResultManager.set_logging_info" title="永久链接至目标"></a></dt>
<dd><p>Set logging info for subprocesses.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-habit.core.habitat_analysis.strategies">
<span id="strategies"></span><h2>Strategies<a class="headerlink" href="#module-habit.core.habitat_analysis.strategies" title="此标题的永久链接"></a></h2>
<p>Strategy factory and exports for habitat analysis.</p>
<dl class="py function">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.strategies.get_strategy">
<span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.strategies.</span></span><span class="sig-name descname"><span class="pre">get_strategy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">strategy_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><span class="pre">BaseClusteringStrategy</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/strategies.html#get_strategy"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.strategies.get_strategy" title="永久链接至目标"></a></dt>
<dd><p>Get strategy class by name.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>strategy_name</strong> – Strategy identifier from config</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Strategy class</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-habit.core.habitat_analysis.pipelines">
<span id="pipelines"></span><h2>Pipelines<a class="headerlink" href="#module-habit.core.habitat_analysis.pipelines" title="此标题的永久链接"></a></h2>
<p>Pipeline module for habitat analysis.</p>
<p>This module provides a sklearn-like pipeline interface for habitat analysis workflows.</p>
<dl class="py class">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.BasePipelineStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.pipelines.</span></span><span class="sig-name descname"><span class="pre">BasePipelineStep</span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/base_pipeline.html#BasePipelineStep"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.BasePipelineStep" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerMixin</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>Base class for all pipeline steps.</p>
<p>Follows sklearn interface: fit() and transform()
All steps should inherit from this class and implement the abstract methods.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.BasePipelineStep.fitted_">
<span class="sig-name descname"><span class="pre">fitted_</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.BasePipelineStep.fitted_" title="永久链接至目标"></a></dt>
<dd><p>bool indicating whether the step has been fitted</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.BasePipelineStep.fit">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fit_params</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.BasePipelineStep" title="habit.core.habitat_analysis.pipelines.base_pipeline.BasePipelineStep"><span class="pre">BasePipelineStep</span></a></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/base_pipeline.html#BasePipelineStep.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.BasePipelineStep.fit" title="永久链接至目标"></a></dt>
<dd><p>Fit the step on training data.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Input data (can be DataFrame, dict, or other types depending on step)</p></li>
<li><p><strong>y</strong> – Optional target data</p></li>
<li><p><strong>**fit_params</strong> – Additional fitting parameters</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.BasePipelineStep.fit_transform">
<span class="sig-name descname"><span class="pre">fit_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fit_params</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/base_pipeline.html#BasePipelineStep.fit_transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.BasePipelineStep.fit_transform" title="永久链接至目标"></a></dt>
<dd><p>Fit and transform in one call.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Input data</p></li>
<li><p><strong>y</strong> – Optional target data</p></li>
<li><p><strong>**fit_params</strong> – Additional fitting parameters</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Transformed data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.BasePipelineStep.transform">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/base_pipeline.html#BasePipelineStep.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.BasePipelineStep.transform" title="永久链接至目标"></a></dt>
<dd><p>Transform data using fitted parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>X</strong> – Input data</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Transformed data</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.ConcatenateVoxelsStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.pipelines.</span></span><span class="sig-name descname"><span class="pre">ConcatenateVoxelsStep</span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/concatenate_voxels.html#ConcatenateVoxelsStep"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.ConcatenateVoxelsStep" title="永久链接至目标"></a></dt>
<dd><p>基类：<a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.BasePipelineStep" title="habit.core.habitat_analysis.pipelines.base_pipeline.BasePipelineStep"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasePipelineStep</span></code></a></p>
<p>Concatenate all voxels from all subjects into a single DataFrame.</p>
<p>Used in direct pooling strategy where all voxels are pooled together
before population-level clustering.</p>
<p>Stateless: simple concatenation operation.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.ConcatenateVoxelsStep.fitted_">
<span class="sig-name descname"><span class="pre">fitted_</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.ConcatenateVoxelsStep.fitted_" title="永久链接至目标"></a></dt>
<dd><p>bool indicating whether the step has been fitted</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.ConcatenateVoxelsStep.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fit_params</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#habit.core.habitat_analysis.pipelines.ConcatenateVoxelsStep" title="habit.core.habitat_analysis.pipelines.steps.concatenate_voxels.ConcatenateVoxelsStep"><span class="pre">ConcatenateVoxelsStep</span></a></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/concatenate_voxels.html#ConcatenateVoxelsStep.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.ConcatenateVoxelsStep.fit" title="永久链接至目标"></a></dt>
<dd><p>Fit the step (stateless operation, just mark as fitted).</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Dict of subject_id -&gt; {
‘features’: pd.DataFrame,
‘raw’: pd.DataFrame,
‘mask_info’: dict</p></li>
<li><p><strong>}</strong> – </p></li>
<li><p><strong>y</strong> – Optional target data (not used)</p></li>
<li><p><strong>**fit_params</strong> – Additional fitting parameters (not used)</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.ConcatenateVoxelsStep.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/concatenate_voxels.html#ConcatenateVoxelsStep.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.ConcatenateVoxelsStep.transform" title="永久链接至目标"></a></dt>
<dd><p>Concatenate all voxels from all subjects.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Dict of subject_id -&gt; {
‘features’: pd.DataFrame,  # Voxel features for this subject
‘raw’: pd.DataFrame,       # Raw features (not used)
‘mask_info’: dict          # Mask info (not used)</p></li>
<li><p><strong>}</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Combined DataFrame with all voxels from all subjects
Columns include: Subject (added), and all feature columns</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.GroupPreprocessingStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.pipelines.</span></span><span class="sig-name descname"><span class="pre">GroupPreprocessingStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">methods</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/group_preprocessing.html#GroupPreprocessingStep"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.GroupPreprocessingStep" title="永久链接至目标"></a></dt>
<dd><p>基类：<a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.BasePipelineStep" title="habit.core.habitat_analysis.pipelines.base_pipeline.BasePipelineStep"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasePipelineStep</span></code></a></p>
<p>Group-level preprocessing using PreprocessingState.</p>
<p>Stateful: fit() learns statistics from training data, transform() applies to new data.</p>
<p>Note: This step manages PreprocessingState internally, no need for external Mode classes.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.GroupPreprocessingStep.preprocessing_state">
<span class="sig-name descname"><span class="pre">preprocessing_state</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.GroupPreprocessingStep.preprocessing_state" title="永久链接至目标"></a></dt>
<dd><p>PreprocessingState instance for managing group-level statistics</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.GroupPreprocessingStep.methods">
<span class="sig-name descname"><span class="pre">methods</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.GroupPreprocessingStep.methods" title="永久链接至目标"></a></dt>
<dd><p>List of preprocessing method configurations</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.GroupPreprocessingStep.out_dir">
<span class="sig-name descname"><span class="pre">out_dir</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.GroupPreprocessingStep.out_dir" title="永久链接至目标"></a></dt>
<dd><p>Output directory for saving state (if needed)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.GroupPreprocessingStep.fitted_">
<span class="sig-name descname"><span class="pre">fitted_</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.GroupPreprocessingStep.fitted_" title="永久链接至目标"></a></dt>
<dd><p>bool indicating whether the step has been fitted</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.GroupPreprocessingStep.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fit_params</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.GroupPreprocessingStep" title="habit.core.habitat_analysis.pipelines.steps.group_preprocessing.GroupPreprocessingStep"><span class="pre">GroupPreprocessingStep</span></a></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/group_preprocessing.html#GroupPreprocessingStep.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.GroupPreprocessingStep.fit" title="永久链接至目标"></a></dt>
<dd><p>Fit preprocessing state on data (learn statistics).</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Combined supervoxel features DataFrame</p></li>
<li><p><strong>y</strong> – Optional target data (not used)</p></li>
<li><p><strong>**fit_params</strong> – Additional fitting parameters (not used)</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.GroupPreprocessingStep.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/group_preprocessing.html#GroupPreprocessingStep.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.GroupPreprocessingStep.transform" title="永久链接至目标"></a></dt>
<dd><p>Transform using fitted preprocessing state.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>X</strong> – Supervoxel features DataFrame</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Preprocessed DataFrame</p>
</dd>
<dt class="field-odd">抛出<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If step has not been fitted</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.HabitatPipeline">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.pipelines.</span></span><span class="sig-name descname"><span class="pre">HabitatPipeline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.BasePipelineStep" title="habit.core.habitat_analysis.pipelines.base_pipeline.BasePipelineStep"><span class="pre">BasePipelineStep</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_from</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/base_pipeline.html#HabitatPipeline"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.HabitatPipeline" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Main pipeline for habitat analysis.</p>
<p>Similar to sklearn Pipeline but adapted for habitat-specific workflow.</p>
<p>Follows sklearn design philosophy:
- fit() for training: learn parameters and save state
- transform() for testing: use saved state to transform data
- No mode parameter needed: state is managed via <a href="#id3"><span class="problematic" id="id4">fitted_</span></a> attribute</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.HabitatPipeline.steps">
<span class="sig-name descname"><span class="pre">steps</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.HabitatPipeline.steps" title="永久链接至目标"></a></dt>
<dd><p>List of (name, step) tuples</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.HabitatPipeline.config">
<span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.HabitatPipeline.config" title="永久链接至目标"></a></dt>
<dd><p>Configuration object</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.HabitatPipeline.fitted_">
<span class="sig-name descname"><span class="pre">fitted_</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.HabitatPipeline.fitted_" title="永久链接至目标"></a></dt>
<dd><p>bool indicating whether the pipeline has been fitted</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.HabitatPipeline.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_train</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fit_params</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.HabitatPipeline" title="habit.core.habitat_analysis.pipelines.base_pipeline.HabitatPipeline"><span class="pre">HabitatPipeline</span></a></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/base_pipeline.html#HabitatPipeline.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.HabitatPipeline.fit" title="永久链接至目标"></a></dt>
<dd><p>Fit pipeline on training data.</p>
<p>Sequentially fits each step, passing the output of one step as input to the next.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X_train</strong> – Training data (dict of subject_id -&gt; image/mask paths or features)</p></li>
<li><p><strong>y</strong> – Optional target data</p></li>
<li><p><strong>**fit_params</strong> – Additional fitting parameters</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>self</p>
</dd>
<dt class="field-odd">抛出<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If pipeline is already fitted</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.HabitatPipeline.fit_transform">
<span class="sig-name descname"><span class="pre">fit_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fit_params</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/base_pipeline.html#HabitatPipeline.fit_transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.HabitatPipeline.fit_transform" title="永久链接至目标"></a></dt>
<dd><p>Fit and transform in one call.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Input data</p></li>
<li><p><strong>y</strong> – Optional target data</p></li>
<li><p><strong>**fit_params</strong> – Additional fitting parameters</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Transformed data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.HabitatPipeline.load">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.HabitatPipeline" title="habit.core.habitat_analysis.pipelines.base_pipeline.HabitatPipeline"><span class="pre">HabitatPipeline</span></a></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/base_pipeline.html#HabitatPipeline.load"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.HabitatPipeline.load" title="永久链接至目标"></a></dt>
<dd><p>Load pipeline from disk.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filepath</strong> – Path to saved pipeline</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Loaded HabitatPipeline instance</p>
</dd>
<dt class="field-odd">抛出<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>FileNotFoundError</strong> – If file doesn’t exist</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.HabitatPipeline.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/base_pipeline.html#HabitatPipeline.save"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.HabitatPipeline.save" title="永久链接至目标"></a></dt>
<dd><p>Save fitted pipeline to disk.</p>
<p>Uses joblib to serialize the entire pipeline including all fitted steps.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filepath</strong> – Path to save pipeline</p>
</dd>
<dt class="field-even">抛出<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If pipeline has not been fitted</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.HabitatPipeline.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_test</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/base_pipeline.html#HabitatPipeline.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.HabitatPipeline.transform" title="永久链接至目标"></a></dt>
<dd><p>Transform test data using fitted pipeline.</p>
<p>Sequentially transforms data through each step using the fitted state.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>X_test</strong> – Test data (dict of subject_id -&gt; image/mask paths or features)</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Results DataFrame with habitat labels</p>
</dd>
<dt class="field-odd">抛出<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If pipeline has not been fitted</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.IndividualClusteringStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.pipelines.</span></span><span class="sig-name descname"><span class="pre">IndividualClusteringStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clustering_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.managers.ClusteringManager" title="habit.core.habitat_analysis.managers.clustering_manager.ClusteringManager"><span class="pre">ClusteringManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">result_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.managers.ResultManager" title="habit.core.habitat_analysis.managers.result_manager.ResultManager"><span class="pre">ResultManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.HabitatAnalysisConfig" title="habit.core.habitat_analysis.config_schemas.HabitatAnalysisConfig"><span class="pre">HabitatAnalysisConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'supervoxel'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'habitat'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'supervoxel'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">find_optimal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/individual_clustering.html#IndividualClusteringStep"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.IndividualClusteringStep" title="永久链接至目标"></a></dt>
<dd><p>基类：<a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.BasePipelineStep" title="habit.core.habitat_analysis.pipelines.base_pipeline.BasePipelineStep"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasePipelineStep</span></code></a></p>
<p>Individual-level clustering (voxel → supervoxel or voxel → habitat).</p>
<p>Stateless: clustering parameters are fixed by configuration or computed per subject.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.IndividualClusteringStep.feature_manager">
<span class="sig-name descname"><span class="pre">feature_manager</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.IndividualClusteringStep.feature_manager" title="永久链接至目标"></a></dt>
<dd><p>FeatureManager instance (for accessing data)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.IndividualClusteringStep.clustering_manager">
<span class="sig-name descname"><span class="pre">clustering_manager</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.IndividualClusteringStep.clustering_manager" title="永久链接至目标"></a></dt>
<dd><p>ClusteringManager instance</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.IndividualClusteringStep.result_manager">
<span class="sig-name descname"><span class="pre">result_manager</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.IndividualClusteringStep.result_manager" title="永久链接至目标"></a></dt>
<dd><p>ResultManager instance (for saving supervoxel maps)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.IndividualClusteringStep.config">
<span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.IndividualClusteringStep.config" title="永久链接至目标"></a></dt>
<dd><p>Configuration object</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.IndividualClusteringStep.target">
<span class="sig-name descname"><span class="pre">target</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.IndividualClusteringStep.target" title="永久链接至目标"></a></dt>
<dd><p>‘supervoxel’ for two-step strategy, ‘habitat’ for one-step strategy</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.IndividualClusteringStep.find_optimal">
<span class="sig-name descname"><span class="pre">find_optimal</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.IndividualClusteringStep.find_optimal" title="永久链接至目标"></a></dt>
<dd><p>Whether to find optimal cluster number (for one-step strategy)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.IndividualClusteringStep.fitted_">
<span class="sig-name descname"><span class="pre">fitted_</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.IndividualClusteringStep.fitted_" title="永久链接至目标"></a></dt>
<dd><p>bool indicating whether the step has been fitted</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.IndividualClusteringStep.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fit_params</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#habit.core.habitat_analysis.pipelines.IndividualClusteringStep" title="habit.core.habitat_analysis.pipelines.steps.individual_clustering.IndividualClusteringStep"><span class="pre">IndividualClusteringStep</span></a></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/individual_clustering.html#IndividualClusteringStep.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.IndividualClusteringStep.fit" title="永久链接至目标"></a></dt>
<dd><p>Fit the step (stateless operation, just mark as fitted).</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Dict of subject_id -&gt; {
‘features’: pd.DataFrame,
‘raw’: pd.DataFrame,
‘mask_info’: dict</p></li>
<li><p><strong>}</strong> – </p></li>
<li><p><strong>y</strong> – Optional target data (not used)</p></li>
<li><p><strong>**fit_params</strong> – Additional fitting parameters (not used)</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.IndividualClusteringStep.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/individual_clustering.html#IndividualClusteringStep.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.IndividualClusteringStep.transform" title="永久链接至目标"></a></dt>
<dd><p>Cluster voxels to supervoxels (or habitats) for each subject.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Dict of subject_id -&gt; {
‘features’: pd.DataFrame,
‘raw’: pd.DataFrame,
‘mask_info’: dict</p></li>
<li><p><strong>}</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Dict of subject_id -&gt; {</dt><dd><p>‘features’: pd.DataFrame,        # Voxel features (unchanged)
‘raw’: pd.DataFrame,             # Raw features (unchanged)
‘mask_info’: dict,               # Mask info (unchanged)
‘supervoxel_labels’: np.ndarray  # Clustering labels (1-indexed)</p>
</dd>
</dl>
<p>}</p>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.PopulationClusteringStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.pipelines.</span></span><span class="sig-name descname"><span class="pre">PopulationClusteringStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clustering_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.HabitatAnalysisConfig" title="habit.core.habitat_analysis.config_schemas.HabitatAnalysisConfig"><span class="pre">HabitatAnalysisConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/population_clustering.html#PopulationClusteringStep"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.PopulationClusteringStep" title="永久链接至目标"></a></dt>
<dd><p>基类：<a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.BasePipelineStep" title="habit.core.habitat_analysis.pipelines.base_pipeline.BasePipelineStep"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasePipelineStep</span></code></a></p>
<p>Population-level clustering (supervoxel → habitat).</p>
<p>Stateful: fit() trains clustering model, transform() applies to new data.</p>
<p>Note: This step manages clustering model internally, no need for external Mode classes.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.PopulationClusteringStep.clustering_manager">
<span class="sig-name descname"><span class="pre">clustering_manager</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.PopulationClusteringStep.clustering_manager" title="永久链接至目标"></a></dt>
<dd><p>ClusteringManager instance (for accessing algorithm instances)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.PopulationClusteringStep.config">
<span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.PopulationClusteringStep.config" title="永久链接至目标"></a></dt>
<dd><p>Configuration object</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.PopulationClusteringStep.out_dir">
<span class="sig-name descname"><span class="pre">out_dir</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.PopulationClusteringStep.out_dir" title="永久链接至目标"></a></dt>
<dd><p>Output directory for saving model (if needed)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.PopulationClusteringStep.clustering_model">
<span class="sig-name descname"><span class="pre">clustering_model</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.PopulationClusteringStep.clustering_model" title="永久链接至目标"></a></dt>
<dd><p>Fitted clustering model</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.PopulationClusteringStep.optimal_n_clusters_">
<span class="sig-name descname"><span class="pre">optimal_n_clusters_</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.PopulationClusteringStep.optimal_n_clusters_" title="永久链接至目标"></a></dt>
<dd><p>Optimal number of clusters found during fit</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.PopulationClusteringStep.fitted_">
<span class="sig-name descname"><span class="pre">fitted_</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.PopulationClusteringStep.fitted_" title="永久链接至目标"></a></dt>
<dd><p>bool indicating whether the step has been fitted</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.PopulationClusteringStep.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fit_params</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.PopulationClusteringStep" title="habit.core.habitat_analysis.pipelines.steps.population_clustering.PopulationClusteringStep"><span class="pre">PopulationClusteringStep</span></a></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/population_clustering.html#PopulationClusteringStep.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.PopulationClusteringStep.fit" title="永久链接至目标"></a></dt>
<dd><p>Fit clustering model on data (train model and find optimal clusters).</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Preprocessed supervoxel features DataFrame</p></li>
<li><p><strong>y</strong> – Optional target data (not used)</p></li>
<li><p><strong>**fit_params</strong> – Additional fitting parameters (not used)</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.PopulationClusteringStep.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/population_clustering.html#PopulationClusteringStep.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.PopulationClusteringStep.transform" title="永久链接至目标"></a></dt>
<dd><p>Apply fitted clustering model to new data.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>X</strong> – Preprocessed supervoxel features DataFrame</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame with habitat labels added</p>
</dd>
<dt class="field-odd">抛出<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If step has not been fitted</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.SubjectPreprocessingStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.pipelines.</span></span><span class="sig-name descname"><span class="pre">SubjectPreprocessingStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.managers.FeatureManager" title="habit.core.habitat_analysis.managers.feature_manager.FeatureManager"><span class="pre">FeatureManager</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/subject_preprocessing.html#SubjectPreprocessingStep"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.SubjectPreprocessingStep" title="永久链接至目标"></a></dt>
<dd><p>基类：<a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.BasePipelineStep" title="habit.core.habitat_analysis.pipelines.base_pipeline.BasePipelineStep"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasePipelineStep</span></code></a></p>
<p>Subject-level preprocessing (stateless).</p>
<p>Each subject is preprocessed independently using its own statistics.
No state needs to be saved between training and testing.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.SubjectPreprocessingStep.feature_manager">
<span class="sig-name descname"><span class="pre">feature_manager</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.SubjectPreprocessingStep.feature_manager" title="永久链接至目标"></a></dt>
<dd><p>FeatureManager instance for preprocessing</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.SubjectPreprocessingStep.fitted_">
<span class="sig-name descname"><span class="pre">fitted_</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.SubjectPreprocessingStep.fitted_" title="永久链接至目标"></a></dt>
<dd><p>bool indicating whether the step has been fitted (always True after fit)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.SubjectPreprocessingStep.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fit_params</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#habit.core.habitat_analysis.pipelines.SubjectPreprocessingStep" title="habit.core.habitat_analysis.pipelines.steps.subject_preprocessing.SubjectPreprocessingStep"><span class="pre">SubjectPreprocessingStep</span></a></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/subject_preprocessing.html#SubjectPreprocessingStep.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.SubjectPreprocessingStep.fit" title="永久链接至目标"></a></dt>
<dd><p>Fit the step (stateless operation, just mark as fitted).</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Dict of subject_id -&gt; {
‘features’: pd.DataFrame,
‘raw’: pd.DataFrame,
‘mask_info’: dict</p></li>
<li><p><strong>}</strong> – </p></li>
<li><p><strong>y</strong> – Optional target data (not used)</p></li>
<li><p><strong>**fit_params</strong> – Additional fitting parameters (not used)</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.SubjectPreprocessingStep.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/subject_preprocessing.html#SubjectPreprocessingStep.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.SubjectPreprocessingStep.transform" title="永久链接至目标"></a></dt>
<dd><p>Apply subject-level preprocessing to each subject’s features.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Dict of subject_id -&gt; {
‘features’: pd.DataFrame,
‘raw’: pd.DataFrame,
‘mask_info’: dict</p></li>
<li><p><strong>}</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Dict of subject_id -&gt; {</dt><dd><p>‘features’: pd.DataFrame,  # Preprocessed features
‘raw’: pd.DataFrame,        # Raw features (unchanged)
‘mask_info’: dict           # Mask info (unchanged)</p>
</dd>
</dl>
<p>}</p>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.SupervoxelAggregationStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.pipelines.</span></span><span class="sig-name descname"><span class="pre">SupervoxelAggregationStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.managers.FeatureManager" title="habit.core.habitat_analysis.managers.feature_manager.FeatureManager"><span class="pre">FeatureManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.HabitatAnalysisConfig" title="habit.core.habitat_analysis.config_schemas.HabitatAnalysisConfig"><span class="pre">HabitatAnalysisConfig</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/supervoxel_aggregation.html#SupervoxelAggregationStep"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.SupervoxelAggregationStep" title="永久链接至目标"></a></dt>
<dd><p>基类：<a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.BasePipelineStep" title="habit.core.habitat_analysis.pipelines.base_pipeline.BasePipelineStep"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasePipelineStep</span></code></a></p>
<p>Aggregate voxel features to supervoxel level.</p>
<p>For two-step strategy:
1. Calculate mean voxel features per supervoxel (always done)
2. Optionally merge with advanced features from Step 4 (if Step 4 was executed)</p>
<p><strong>Important</strong>: This step always calculates mean features. If Step 4 was executed,
it merges the advanced features from Step 4’s output.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.SupervoxelAggregationStep.feature_manager">
<span class="sig-name descname"><span class="pre">feature_manager</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.SupervoxelAggregationStep.feature_manager" title="永久链接至目标"></a></dt>
<dd><p>FeatureManager instance</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.SupervoxelAggregationStep.config">
<span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.SupervoxelAggregationStep.config" title="永久链接至目标"></a></dt>
<dd><p>Configuration object</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.SupervoxelAggregationStep.fitted_">
<span class="sig-name descname"><span class="pre">fitted_</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.SupervoxelAggregationStep.fitted_" title="永久链接至目标"></a></dt>
<dd><p>bool indicating whether the step has been fitted</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.SupervoxelAggregationStep.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fit_params</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#habit.core.habitat_analysis.pipelines.SupervoxelAggregationStep" title="habit.core.habitat_analysis.pipelines.steps.supervoxel_aggregation.SupervoxelAggregationStep"><span class="pre">SupervoxelAggregationStep</span></a></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/supervoxel_aggregation.html#SupervoxelAggregationStep.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.SupervoxelAggregationStep.fit" title="永久链接至目标"></a></dt>
<dd><p>Fit the step (stateless operation, just mark as fitted).</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Dict of subject_id -&gt; {
‘features’: pd.DataFrame,
‘raw’: pd.DataFrame,
‘mask_info’: dict,
‘supervoxel_labels’: np.ndarray</p></li>
<li><p><strong>}</strong> – </p></li>
<li><p><strong>y</strong> – Optional target data (not used)</p></li>
<li><p><strong>**fit_params</strong> – Additional fitting parameters (not used)</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.SupervoxelAggregationStep.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/supervoxel_aggregation.html#SupervoxelAggregationStep.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.SupervoxelAggregationStep.transform" title="永久链接至目标"></a></dt>
<dd><p>Aggregate features to supervoxel level.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Dict of subject_id -&gt; {
‘features’: pd.DataFrame,        # Processed voxel features
‘raw’: pd.DataFrame,             # Raw voxel features
‘mask_info’: dict,               # Mask info
‘supervoxel_labels’: np.ndarray, # Supervoxel labels (1-indexed)
‘supervoxel_features’: pd.DataFrame (optional)  # Advanced features from Step 4</p></li>
<li><p><strong>}</strong> – </p></li>
<li><p><strong>Note</strong> – If Step 4 was executed, ‘supervoxel_features’ will be present in the dict.</p></li>
<li><p><strong>skipped</strong> (<em>If Step 4 was</em>) – </p></li>
<li><p><strong>exist.</strong> (<em>this key will not</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Combined DataFrame with supervoxel-level features for all subjects
Columns include: Subject, Supervoxel, feature columns, and optionally
advanced feature columns from Step 4.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.SupervoxelFeatureExtractionStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.pipelines.</span></span><span class="sig-name descname"><span class="pre">SupervoxelFeatureExtractionStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.managers.FeatureManager" title="habit.core.habitat_analysis.managers.feature_manager.FeatureManager"><span class="pre">FeatureManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.HabitatAnalysisConfig" title="habit.core.habitat_analysis.config_schemas.HabitatAnalysisConfig"><span class="pre">HabitatAnalysisConfig</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/supervoxel_feature_extraction.html#SupervoxelFeatureExtractionStep"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.SupervoxelFeatureExtractionStep" title="永久链接至目标"></a></dt>
<dd><p>基类：<a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.BasePipelineStep" title="habit.core.habitat_analysis.pipelines.base_pipeline.BasePipelineStep"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasePipelineStep</span></code></a></p>
<p>Extract advanced features for each supervoxel based on supervoxel maps.</p>
<p>This step extracts advanced features (texture, shape, radiomics) from
supervoxel label maps. It runs after supervoxel clustering and requires
supervoxel map files to be saved.</p>
<p><strong>Important</strong>: This step is conditionally included in the pipeline based on
configuration. If only <cite>mean_voxel_features()</cite> is used, this step is skipped
to save computation time.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.SupervoxelFeatureExtractionStep.feature_manager">
<span class="sig-name descname"><span class="pre">feature_manager</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.SupervoxelFeatureExtractionStep.feature_manager" title="永久链接至目标"></a></dt>
<dd><p>FeatureManager instance</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.SupervoxelFeatureExtractionStep.config">
<span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.SupervoxelFeatureExtractionStep.config" title="永久链接至目标"></a></dt>
<dd><p>Configuration object</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.SupervoxelFeatureExtractionStep.fitted_">
<span class="sig-name descname"><span class="pre">fitted_</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.SupervoxelFeatureExtractionStep.fitted_" title="永久链接至目标"></a></dt>
<dd><p>bool indicating whether the step has been fitted</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.SupervoxelFeatureExtractionStep.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fit_params</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#habit.core.habitat_analysis.pipelines.SupervoxelFeatureExtractionStep" title="habit.core.habitat_analysis.pipelines.steps.supervoxel_feature_extraction.SupervoxelFeatureExtractionStep"><span class="pre">SupervoxelFeatureExtractionStep</span></a></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/supervoxel_feature_extraction.html#SupervoxelFeatureExtractionStep.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.SupervoxelFeatureExtractionStep.fit" title="永久链接至目标"></a></dt>
<dd><p>Fit step: setup supervoxel file discovery for feature extraction.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Dict of subject_id -&gt; {
‘features’: pd.DataFrame,
‘raw’: pd.DataFrame,
‘mask_info’: dict,
‘supervoxel_labels’: np.ndarray</p></li>
<li><p><strong>}</strong> – </p></li>
<li><p><strong>y</strong> – Optional target data (not used)</p></li>
<li><p><strong>**fit_params</strong> – Additional fitting parameters (not used)</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.SupervoxelFeatureExtractionStep.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/supervoxel_feature_extraction.html#SupervoxelFeatureExtractionStep.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.SupervoxelFeatureExtractionStep.transform" title="永久链接至目标"></a></dt>
<dd><p>Extract supervoxel-level features for each subject.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Dict of subject_id -&gt; {
‘features’: pd.DataFrame,
‘raw’: pd.DataFrame,
‘mask_info’: dict,
‘supervoxel_labels’: np.ndarray</p></li>
<li><p><strong>}</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Dict of subject_id -&gt; {</dt><dd><p>‘features’: pd.DataFrame,        # Original voxel features (unchanged)
‘raw’: pd.DataFrame,             # Original raw features (unchanged)
‘mask_info’: dict,               # Original mask info (unchanged)
‘supervoxel_labels’: np.ndarray, # Original labels (unchanged)
‘supervoxel_features’: pd.DataFrame  # NEW: Advanced supervoxel features</p>
</dd>
</dl>
<p>}
The supervoxel_features DataFrame contains advanced features (texture, shape, radiomics)
for each supervoxel in that subject.</p>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.VoxelFeatureExtractor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.pipelines.</span></span><span class="sig-name descname"><span class="pre">VoxelFeatureExtractor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.managers.FeatureManager" title="habit.core.habitat_analysis.managers.feature_manager.FeatureManager"><span class="pre">FeatureManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">result_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/voxel_feature_extractor.html#VoxelFeatureExtractor"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.VoxelFeatureExtractor" title="永久链接至目标"></a></dt>
<dd><p>基类：<a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.BasePipelineStep" title="habit.core.habitat_analysis.pipelines.base_pipeline.BasePipelineStep"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasePipelineStep</span></code></a></p>
<p>Extract voxel-level features from images.</p>
<p>Stateless: feature extraction logic is fixed, based on configuration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.VoxelFeatureExtractor.feature_manager">
<span class="sig-name descname"><span class="pre">feature_manager</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.VoxelFeatureExtractor.feature_manager" title="永久链接至目标"></a></dt>
<dd><p>FeatureManager instance for feature extraction</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.VoxelFeatureExtractor.fitted_">
<span class="sig-name descname"><span class="pre">fitted_</span></span><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.VoxelFeatureExtractor.fitted_" title="永久链接至目标"></a></dt>
<dd><p>bool indicating whether the step has been fitted (always True after fit)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.VoxelFeatureExtractor.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fit_params</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#habit.core.habitat_analysis.pipelines.VoxelFeatureExtractor" title="habit.core.habitat_analysis.pipelines.steps.voxel_feature_extractor.VoxelFeatureExtractor"><span class="pre">VoxelFeatureExtractor</span></a></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/voxel_feature_extractor.html#VoxelFeatureExtractor.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.VoxelFeatureExtractor.fit" title="永久链接至目标"></a></dt>
<dd><p>Fit the step (stateless operation, just mark as fitted).</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Dict of subject_id -&gt; data (not used in fit, but required by interface)</p></li>
<li><p><strong>y</strong> – Optional target data (not used)</p></li>
<li><p><strong>**fit_params</strong> – Additional fitting parameters (not used)</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.VoxelFeatureExtractor.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/steps/voxel_feature_extractor.html#VoxelFeatureExtractor.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.VoxelFeatureExtractor.transform" title="永久链接至目标"></a></dt>
<dd><p>Extract voxel features for each subject.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – Dict of subject_id -&gt; {
‘images’: Dict of image_name -&gt; image_path (optional, if not set in feature_manager),
‘masks’: Dict of mask_name -&gt; mask_path (optional, if not set in feature_manager)</p></li>
<li><p><strong>}</strong> – </p></li>
<li><p><strong>Note</strong> – If images_paths and mask_paths are already set in feature_manager,</p></li>
<li><p><strong>IDs.</strong> (<em>this dict can be empty</em><em> or </em><em>just contain subject</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Dict of subject_id -&gt; {</dt><dd><p>‘features’: pd.DataFrame,  # Processed voxel features
‘raw’: pd.DataFrame,        # Raw voxel features
‘mask_info’: dict           # Mask metadata for image reconstruction</p>
</dd>
</dl>
<p>}</p>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="habit.core.habitat_analysis.pipelines.build_habitat_pipeline">
<span class="sig-prename descclassname"><span class="pre">habit.core.habitat_analysis.pipelines.</span></span><span class="sig-name descname"><span class="pre">build_habitat_pipeline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.HabitatAnalysisConfig" title="habit.core.habitat_analysis.config_schemas.HabitatAnalysisConfig"><span class="pre">HabitatAnalysisConfig</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.managers.FeatureManager" title="habit.core.habitat_analysis.managers.feature_manager.FeatureManager"><span class="pre">FeatureManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">clustering_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.managers.ClusteringManager" title="habit.core.habitat_analysis.managers.clustering_manager.ClusteringManager"><span class="pre">ClusteringManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">result_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.managers.ResultManager" title="habit.core.habitat_analysis.managers.result_manager.ResultManager"><span class="pre">ResultManager</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_from</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="habitat_analysis.html#habit.core.habitat_analysis.HabitatPipeline" title="habit.core.habitat_analysis.pipelines.base_pipeline.HabitatPipeline"><span class="pre">HabitatPipeline</span></a></span></span><a class="reference internal" href="../_modules/habit/core/habitat_analysis/pipelines/pipeline_builder.html#build_habitat_pipeline"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#habit.core.habitat_analysis.pipelines.build_habitat_pipeline" title="永久链接至目标"></a></dt>
<dd><p>Build habitat analysis pipeline based on strategy.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> – Configuration object</p></li>
<li><p><strong>feature_manager</strong> – FeatureManager instance</p></li>
<li><p><strong>clustering_manager</strong> – ClusteringManager instance</p></li>
<li><p><strong>result_manager</strong> – ResultManager instance (optional, needed for saving supervoxel maps)</p></li>
<li><p><strong>load_from</strong> – Optional path to load saved pipeline</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Configured HabitatPipeline for the specified strategy</p>
</dd>
</dl>
<p>Note: No mode_handler needed - Pipeline Steps manage their own state internally.</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="habit.core.html" class="btn btn-neutral float-left" title="habit.core package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="habit.utils.html" class="btn btn-neutral float-right" title="habit.utils package" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2026, HABIT Team。</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>